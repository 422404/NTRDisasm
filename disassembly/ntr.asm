; ---------------------------------------------------------------------------

RT_LOCK		struc ;	(sizeof=0x4)
value		DCD ?
RT_LOCK		ends

; ---------------------------------------------------------------------------

FS_archive	struc ;	(sizeof=0x18, align=0x4, standard type)
					; XREF:	FSUSER_OpenFileDirectlyr
id		DCD ?
lowPath		FS_path	?		; XREF:	FSUSER_OpenFileDirectly+74r
handleLow	DCD ?			; XREF:	FSUSER_OpenFileDirectly+4Cr
handleHigh	DCD ?			; XREF:	FSUSER_OpenFileDirectly+10r
FS_archive	ends

; ---------------------------------------------------------------------------

FS_path		struc ;	(sizeof=0xC, align=0x4,	standard type) ; XREF: FS_archiver
type		DCD ?			; enum FS_pathType
size		DCD ?
data		DCD ?			; offset
FS_path		ends

; ---------------------------------------------------------------------------

; enum FS_pathType (standard)
PATH_INVALID	 EQU 0
PATH_EMPTY	 EQU 1
PATH_BINARY	 EQU 2
PATH_CHAR	 EQU 3
PATH_WCHAR	 EQU 4

; ---------------------------------------------------------------------------

; enum MemOp (standard)
MEMOP_FREE	 EQU 1
MEMOP_ALLOC	 EQU 3
MEMOP_MAP	 EQU 4
MEMOP_UNMAP	 EQU 5
MEMOP_PROT	 EQU 6
MEMOP_ALLOC_LINEAR  EQU	0x10003

; ---------------------------------------------------------------------------

; enum MemPerm (standard)
MEMPERM_READ	 EQU 1
MEMPERM_WRITE	 EQU 2
MEMPERM_EXECUTE	 EQU 4
MEMPERM_DONTCARE  EQU 0x10000000
MEMPERM_MAX	 EQU 0xFFFFFFFF

;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2014 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3057-7374-2C			    |
; |	Zhou Tao, Jiangsu Australia Sinuo Network Technology Co., Ltd.	    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	3993DDD97E8DC4E6F4A94E416705014B
; Input	CRC32 :	38ECC72B

; File Name   :	D:\STATION\NTR\ntr.bin
; Format      :	Binary file
; Base Address:	0000h Range: 100100h - 10B560h Loaded length: B460h

; Processor	  : ARM
; ARM architecture: ARMv6T2
; Target assembler: Generic assembler for ARM
; Byte sex	  : Little endian

; ===========================================================================

; Segment type:	Pure code
		AREA ROM, CODE,	READWRITE, ALIGN=0
		; ORG 0x100100
		CODE32

; =============== S U B	R O U T	I N E =======================================


ntrBase					; DATA XREF: ntrEntry+Co ntrEntry+10o	...
		B	ntrEntry
; End of function ntrBase

; ---------------------------------------------------------------------------
nsDbgPrint	DCD 0xE1A00000		; DATA XREF: sub_1014DC+18o
					; ROM:off_10155Co ...
dword_100108	DCD 0xE1A00000		; DATA XREF: main+28r
nsDbgPrint_0	DCD 0xE1A00000		; DATA XREF: main+34r
dword_100110	DCD 0xE1A00000		; DATA XREF: sub_1014DC+20r
nsDbgPrint_1	DCD 0xE1A00000		; DATA XREF: sub_1014DC+24r
		DCD 0xE1A00000
nsDbgPrint_2	DCD 0xE1A00000
		DCD 0xE1A00000

; =============== S U B	R O U T	I N E =======================================


ntrEntry				; CODE XREF: ntrBasej
		STMFD	SP!, {R0-R12,LR}
		MRS	R0, CPSR
		STMFD	SP!, {R0}
		LDR	R6, =ntrBase
		ADR	R5, ntrBase
		SUB	R5, R5,	R6
		LDR	R6, =off_1086C4
		LDR	R7, =aUsrLibLd_so_1 ; "/usr/lib/ld.so.1"
		ADD	R6, R6,	R5
		ADD	R7, R7,	R5

loc_10014C				; CODE XREF: ntrEntry+48j
		LDMIA	R6!, {R3,R4}
		CMP	R4, #0x17
		BNE	loc_100168
		ADD	R3, R3,	R5
		LDR	R4, [R3]
		ADD	R4, R4,	R5
		STR	R4, [R3]

loc_100168				; CODE XREF: ntrEntry+30j
		CMP	R6, R7
		BCC	loc_10014C
		LDR	R0, =0xFFFF8001
		ADR	R1, ntrBase
		LDR	R2, =aUsrLibLd_so_1 ; "/usr/lib/ld.so.1"
		SUB	R2, R2,	R1

loc_100180				; DATA XREF: sub_1034D0+3Co
					; ROM:off_103550o
		SVC	0x54
		NOP
		NOP
		MOV	R0, SP		; reg
		BL	c_entry
		LDMFD	SP!, {R0}
		MSR	CPSR_cf, R0
		LDMFD	SP!, {R0-R12,LR}

locret_1001A0				; DATA XREF: main+184o	main+190o ...
		BX	LR
; End of function ntrEntry

; ---------------------------------------------------------------------------
nsDbgPrint_3	DCD 0xE1A00000
		DCD 0xE1A00000
		DCD 0xE1A00000
		DCD 0xE129F000
off_1001B4	DCD ntrBase		; DATA XREF: ntrEntry+Cr
					; ROM:off_1086C4o
off_1001B8	DCD off_1086C4		; DATA XREF: ntrEntry+18r
off_1001BC	DCD aUsrLibLd_so_1	; DATA XREF: ntrEntry+1Cr ntrEntry+54r
					; "/usr/lib/ld.so.1"
dword_1001C0	DCD 0xFFFF8001		; DATA XREF: ntrEntry+4Cr
nsDbgPrint_4	ALIGN 0x10
; [0000002C BYTES: COLLAPSED FUNCTION paint_pixel. PRESS KEYPAD	CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __usercall paint_square(int x@<R0>, int y@<R1>, unsigned	__int8 r@<R2>, unsigned	__int8 g@<R3>, unsigned	__int8 b, int w, int h,	int screen)
paint_square				; CODE XREF: blank+38p	blank+5Cp

var_30		= -0x30
var_2C		= -0x2C
b		=  0
w		=  4
h		=  8
screen		=  0xC

		STMFD	SP!, {R0-R2,R4-R11,LR}
		MOV	R8, R1
		LDR	R6, [SP,#0x30+w]
		LDR	R7, [SP,#0x30+h]
		LDRB	R11, [SP,#0x30+b]
		MOV	R9, R2
		MOV	R10, R3
		MOV	R4, R0
		ADD	R6, R0,	R6
		ADD	R7, R1,	R7

loc_100224				; CODE XREF: paint_square+68j
		CMP	R4, R6
		BGE	loc_100268
		MOV	R5, R8

loc_100230				; CODE XREF: paint_square+60j
		CMP	R5, R7
		BGE	loc_100260
		LDR	R3, [SP,#0x30+screen]
		MOV	R1, R5		; y
		STR	R3, [SP,#0x30+var_2C] ;	screen
		STR	R11, [SP,#0x30+var_30] ; b
		MOV	R0, R4		; x
		MOV	R2, R9		; r
		MOV	R3, R10		; g
		BL	paint_pixel
		ADD	R5, R5,	#1
		B	loc_100230
; ---------------------------------------------------------------------------

loc_100260				; CODE XREF: paint_square+38j
		ADD	R4, R4,	#1
		B	loc_100224
; ---------------------------------------------------------------------------

loc_100268				; CODE XREF: paint_square+2Cj
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4-R11,PC}
; End of function paint_square


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __fastcall blank(int x, int y, int xs, int ys)
blank					; CODE XREF: print+34p	sub_107220+B0p	...

h		= -0x28
screen		= -0x24

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x14	; b
		LDR	R5, =dword_108634
		MOV	R4, #0xFF
		MOV	R7, R2
		MOV	R6, R3
		STR	R3, [SP,#0x30+h] ; h
		LDR	R3, [R5]
		MOV	R2, R4		; r
		STR	R3, [SP,#0x30+screen] ;	screen
		STMEA	SP, {R4,R7}
		MOV	R3, R4		; g
		MOV	R9, R0
		MOV	R8, R1
		BL	paint_square
		LDR	R3, [R5]
		STMEA	SP, {R4,R7}
		STR	R3, [SP,#0x30+screen] ;	screen
		STR	R6, [SP,#0x30+h] ; h
		MOV	R0, R9		; x
		MOV	R1, R8		; y
		MOV	R2, R4		; r
		MOV	R3, R4		; g
		BL	paint_square
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4-R9,PC}
; End of function blank

; ---------------------------------------------------------------------------
off_1002D8	DCD dword_108634	; DATA XREF: blank+8r

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __usercall paint_letter(unsigned	__int8 letter@<R0>, int	x@<R1>,	int y@<R2>, unsigned __int8 r@<R3>, unsigned __int8 g, unsigned	__int8 b, int screen)
paint_letter				; CODE XREF: paint_word+68p

var_40		= -0x40
var_3C		= -0x3C
var_34		= -0x34
var_30		= -0x30
var_2C		= -0x2C
g		=  0
b		=  4
screen		=  8

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x1C
		MOV	R9, R3
		LDRB	R3, [SP,#0x40+g]
		SUB	R0, R0,	#0x20
		MOV	R7, R1
		STR	R3, [SP,#0x40+var_34]
		LDRB	R3, [SP,#0x40+b]
		MOV	R8, R2
		MOV	R4, #0
		STR	R3, [SP,#0x40+var_30]
		LDR	R3, =font
		MOV	R10, #0x80
		ADD	R6, R3,	R0,LSL#3

loc_100314				; CODE XREF: paint_letter+8Cj
		LDRB	R11, [R6,R4]
		MOV	R5, #0
		ADD	R12, R4, R8

loc_100320				; CODE XREF: paint_letter+80j
		ANDS	R3, R11, R10,ASR R5
		BEQ	loc_100354
		LDR	R3, [SP,#0x40+var_30]
		MOV	R1, R12		; y
		STR	R3, [SP,#0x40+var_40] ;	b
		LDR	R3, [SP,#0x40+screen]
		ADD	R0, R5,	R7	; x
		STR	R3, [SP,#0x40+var_3C] ;	screen
		MOV	R2, R9		; r
		LDR	R3, [SP,#0x40+var_34] ;	g
		STR	R12, [SP,#0x40+var_2C]
		BL	paint_pixel
		LDR	R12, [SP,#0x40+var_2C]

loc_100354				; CODE XREF: paint_letter+48j
		ADD	R5, R5,	#1
		CMP	R5, #8
		BNE	loc_100320
		ADD	R4, R4,	#1
		CMP	R4, #8
		BNE	loc_100314
		ADD	SP, SP,	#0x1C
		LDMFD	SP!, {R4-R11,PC}
; End of function paint_letter

; ---------------------------------------------------------------------------
off_100374	DCD font		; DATA XREF: paint_letter+2Cr

; =============== S U B	R O U T	I N E =======================================


; void __usercall paint_word(unsigned __int8 *word@<R0>, int x@<R1>, int y@<R2>, unsigned __int8 r@<R3>, unsigned __int8 g, unsigned __int8 b, int screen)
paint_word				; CODE XREF: print+58p	print+7Cp

var_38		= -0x38
var_2C		= -0x2C
g		=  0
b		=  4
screen		=  8

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x1C	; g
		MOV	R8, #0
		LDRB	R10, [SP,#0x40+g]
		LDRB	R11, [SP,#0x40+b]
		MOV	R6, R0
		MOV	R7, R1
		MOV	R9, R3
		MOV	R4, R1
		MOV	R5, R8
		STR	R2, [SP,#0x40+var_2C]

loc_1003A4				; CODE XREF: paint_word+74j
		MOV	R0, R6
		BL	strlen
		CMP	R5, R0
		BCS	loc_1003F0
		LDR	R3, [SP,#0x40+screen]
		CMP	R4, #0x138
		ADDGT	R8, R8,	#1
		STR	R3, [SP,#0x40+var_38] ;	screen
		LDR	R3, [SP,#0x40+var_2C]
		MOVGT	R4, R7
		LDRB	R0, [R6,R5]	; letter
		MOV	R1, R4		; x
		ADD	R2, R3,	R8,LSL#3 ; y
		STMEA	SP, {R10,R11}
		MOV	R3, R9		; r
		BL	paint_letter
		ADD	R4, R4,	#8
		ADD	R5, R5,	#1
		B	loc_1003A4
; ---------------------------------------------------------------------------

loc_1003F0				; CODE XREF: paint_word+38j
		ADD	SP, SP,	#0x1C
		LDMFD	SP!, {R4-R11,PC}
; End of function paint_word


; =============== S U B	R O U T	I N E =======================================


; void __usercall print(unsigned __int8	*s@<R0>, int x@<R1>, int y@<R2>, unsigned __int8 r@<R3>, unsigned __int8 g, unsigned __int8 b)
print					; CODE XREF: sub_100484+3Cp
					; sub_1004CC+40p ...

var_30		= -0x30
var_2C		= -0x2C
screen		= -0x28
g		=  0
b		=  4

		STMFD	SP!, {R0-R10,LR}
		MOV	R5, R1
		MOV	R4, R2
		MOV	R6, R3
		MOV	R7, R0
		BL	strlen
		LDR	R8, =dword_108634
		LDRB	R10, [SP,#0x30+g]
		LDRB	R9, [SP,#0x30+b]
		MOV	R1, R4		; y
		MOV	R3, #0xA	; ys
		MOV	R2, R0,LSL#3	; xs
		MOV	R0, R5		; x
		BL	blank
		LDR	R3, [R8]
		MOV	R0, R7		; word
		STR	R3, [SP,#0x30+screen] ;	screen
		MOV	R1, R5		; x
		MOV	R2, R4		; y
		MOV	R3, R6		; r
		STR	R10, [SP,#0x30+var_30] ; g
		STR	R9, [SP,#0x30+var_2C] ;	b
		BL	paint_word
		LDR	R3, [R8]
		STR	R10, [SP,#0x30+var_30] ; g
		STR	R3, [SP,#0x30+screen] ;	screen
		STR	R9, [SP,#0x30+var_2C] ;	b
		MOV	R0, R7		; word
		MOV	R1, R5		; x
		MOV	R2, R4		; y
		MOV	R3, R6		; r
		BL	paint_word
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R10,PC}
; End of function print

; ---------------------------------------------------------------------------
off_100480	DCD dword_108634	; DATA XREF: print+18r

; =============== S U B	R O U T	I N E =======================================


sub_100484

g		= -0x20
b		= -0x1C
ret		= -0x14
arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R0-R6,LR}
		MOV	R6, R1
		MOV	R5, R2
		ADD	R1, SP,	#0x20+ret ; ret
		MOV	R2, #3		; max_len
		MOV	R4, R3
		BL	sub_101900
		LDRB	R3, [SP,#0x20+arg_0]
		ADD	R0, SP,	#0x20+ret ; s
		MOV	R1, R6		; x
		STR	R3, [SP,#0x20+g] ; g
		LDRB	R3, [SP,#0x20+arg_4]
		MOV	R2, R5		; y
		STR	R3, [SP,#0x20+b] ; b
		MOV	R3, R4		; r
		BL	print
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_100484


; =============== S U B	R O U T	I N E =======================================


sub_1004CC

g		= -0x30
b		= -0x2C
ret		= -0x24
arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R4-R6,LR}
		SUB	SP, SP,	#0x20
		MOV	R6, R1
		MOV	R5, R2
		ADD	R1, SP,	#0x30+ret ; ret
		MOV	R2, #0x11	; max_len
		MOV	R4, R3
		BL	u32_to_string
		LDRB	R3, [SP,#0x30+arg_0]
		ADD	R0, SP,	#0x30+ret ; s
		MOV	R1, R6		; x
		STR	R3, [SP,#0x30+g] ; g
		LDRB	R3, [SP,#0x30+arg_4]
		MOV	R2, R5		; y
		STR	R3, [SP,#0x30+b] ; b
		MOV	R3, R4		; r
		BL	print
		ADD	SP, SP,	#0x20
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_1004CC


; =============== S U B	R O U T	I N E =======================================


sub_100518
		STMFD	SP!, {R4-R8,LR}
		MOV	R8, R1
		MOV	R7, R0
		BL	svcGetThreadCommandBuffer
		MOV	R3, #0x10000
		STR	R3, [R0]
		LDR	R3, =0x800002
		MOV	R4, R0
		LDR	R6, [R0,#0x100]
		LDR	R5, [R0,#0x104]
		STR	R3, [R0,#0x100]
		STR	R8, [R0,#0x104]
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		STREQ	R6, [R4,#0x100]
		STREQ	R5, [R4,#0x104]
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_100518

; ---------------------------------------------------------------------------
dword_100564	DCD 0x800002		; DATA XREF: sub_100518+18r

; =============== S U B	R O U T	I N E =======================================


sub_100568
		STMFD	SP!, {R3-R9,LR}
		MOV	R5, R1
		MOV	R9, R2
		MOV	R8, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x260042
		STMIA	R0, {R3,R9}
		LDR	R3, =0x800002
		MOV	R4, R0
		LDR	R7, [R0,#0x100]
		LDR	R6, [R0,#0x104]
		STR	R3, [R0,#0x100]
		STR	R5, [R0,#0x104]
		STR	R3, [R0,#8]
		STR	R5, [R0,#0xC]
		MOV	R0, R8		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		STREQ	R7, [R4,#0x100]
		STREQ	R6, [R4,#0x104]
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R3-R9,PC}
; End of function sub_100568

; ---------------------------------------------------------------------------
dword_1005C0	DCD 0x260042		; DATA XREF: sub_100568+14r
dword_1005C4	DCD 0x800002		; DATA XREF: sub_100568+1Cr

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall ACU_GetWifiStatus(Handle servhandle, u32 *out)
ACU_GetWifiStatus			; CODE XREF: ACU_WaitInternetConnection+2Cp
		STMFD	SP!, {R4-R6,LR}
		MOV	R5, R1
		MOV	R6, R0
		BL	svcGetThreadCommandBuffer
		MOV	R3, #0xD0000
		MOV	R4, R0
		STR	R3, [R0]
		MOV	R0, R6		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R3, [R4,#8]
		STREQ	R3, [R5]
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R4-R6,PC}
; End of function ACU_GetWifiStatus


; =============== S U B	R O U T	I N E =======================================


; Result __stdcall ACU_WaitInternetConnection()
ACU_WaitInternetConnection

handle		= -0x10
out		= -0xC

		STMFD	SP!, {R0,R1,R4,LR}
		MOV	R0, #0		; handleptr
		MOV	R1, SP		; out
		LDR	R2, =aAcU	; "ac:u"
		STR	R0, [SP,#0x10+handle]
		STR	R0, [SP,#0x10+out]
		BL	srv_getServiceHandle
		CMP	R0, #0
		BNE	loc_100650

loc_100624				; CODE XREF: ACU_WaitInternetConnection+34j
					; ACU_WaitInternetConnection+40j
		LDR	R0, [SP,#0x10+handle] ;	servhandle
		ADD	R1, SP,	#0x10+out ; out
		BL	ACU_GetWifiStatus
		SUBS	R4, R0,	#0
		BNE	loc_100624
		LDR	R3, [SP,#0x10+out]
		CMP	R3, #1
		BNE	loc_100624
		LDR	R0, [SP,#0x10+handle] ;	handle
		BL	svcCloseHandle
		MOV	R0, R4

loc_100650				; CODE XREF: ACU_WaitInternetConnection+20j
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4,PC}
; End of function ACU_WaitInternetConnection

; ---------------------------------------------------------------------------
; unsigned __int8 *server
server		DCD aAcU		; DATA XREF: ACU_WaitInternetConnection+Cr
					; "ac:u"

; =============== S U B	R O U T	I N E =======================================


; void __fastcall c_entry(uint32_t *reg)
c_entry					; CODE XREF: ntrEntry+6Cp
		LDR	R3, =IoBasePad
		LDR	R1, =0x10B560	; argv
		MOV	R0, #0		; argc
		LDR	R3, [R3]

loc_10066C				; CODE XREF: c_entry+1Cj
		LDR	R2, [R1]	; envp
		CMP	R3, R2
		STRCC	R0, [R3],#4
		BCC	loc_10066C
		B	main
; End of function c_entry

; ---------------------------------------------------------------------------
off_100680	DCD IoBasePad		; DATA XREF: c_entryr
; char **DYNAMIC
_DYNAMIC	DCD 0x10B560		; DATA XREF: c_entry+4r

; =============== S U B	R O U T	I N E =======================================


; void __stdcall IRQHandler()
IRQHandler
		BX	LR
; End of function IRQHandler


; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSUSER_Initialize(Handle handle)
FSUSER_Initialize			; CODE XREF: sub_103860+3Cp
		STMFD	SP!, {R3-R5,LR}
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R2, =0x8010002
		MOV	R3, #0x20
		MOV	R4, R0
		STMIA	R0, {R2,R3}
		MOV	R0, R5		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R3-R5,PC}
; End of function FSUSER_Initialize

; ---------------------------------------------------------------------------
dword_1006BC	DCD 0x8010002		; DATA XREF: FSUSER_Initialize+Cr

; =============== S U B	R O U T	I N E =======================================


; Result __stdcall FSUSER_OpenFile(Handle handle, Handle *out, FS_archive archive, FS_path fileLowPath,	u32 openflags, u32 attributes)
FSUSER_OpenFile

var_C		= -0xC
arg_8		=  8
arg_C		=  0xC
arg_10		=  0x10
arg_14		=  0x14
arg_18		=  0x18
openflags	=  0x1C
attributes	=  0x20

		SUB	SP, SP,	#8
		STMFD	SP!, {R3-R7,LR}
		MOV	R6, R1
		ADD	R1, SP,	#0x20+var_C
		LDR	R5, [SP,#0x20+arg_14]
		STMIB	R1, {R2,R3}
		MOV	R7, R0
		BL	svcGetThreadCommandBuffer
		LDR	R2, =0x80201C2
		MOV	R3, #0
		STMIA	R0, {R2,R3}
		LDR	R3, [SP,#0x20+arg_8]
		STR	R5, [R0,#0x14]
		STR	R3, [R0,#8]
		LDR	R3, [SP,#0x20+arg_C]
		MOV	R5, R5,LSL#14
		STR	R3, [R0,#0xC]
		LDRB	R3, [SP,#0x20+arg_10]
		ORR	R5, R5,	#2
		STR	R5, [R0,#0x20]
		STR	R3, [R0,#0x10]
		LDR	R3, [SP,#0x20+openflags]
		MOV	R4, R0
		STR	R3, [R0,#0x18]
		LDR	R3, [SP,#0x20+attributes]
		STR	R3, [R0,#0x1C]
		LDR	R3, [SP,#0x20+arg_18]
		STR	R3, [R0,#0x24]
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_100750
		CMP	R6, #0
		LDRNE	R3, [R4,#0xC]
		STRNE	R3, [R6]
		LDR	R0, [R4,#4]

loc_100750				; CODE XREF: FSUSER_OpenFile+7Cj
		LDMFD	SP!, {R3-R7,LR}
		ADD	SP, SP,	#8
		BX	LR
; End of function FSUSER_OpenFile

; ---------------------------------------------------------------------------
dword_10075C	DCD 0x80201C2		; DATA XREF: FSUSER_OpenFile+20r

; =============== S U B	R O U T	I N E =======================================


; Result __stdcall FSUSER_OpenFileDirectly(Handle handle, Handle *out, FS_archive archive, FS_path fileLowPath,	u32 openflags, u32 attributes)
FSUSER_OpenFileDirectly			; CODE XREF: sub_1011E4+68p
					; sub_101B44+8Cp ...

var_C		= -0xC
var_8		= -8
var_4		= -4
archive		=  0
arg_18		=  0x18
openflags	=  0x1C
attributes	=  0x20

		SUB	SP, SP,	#8
		STMFD	SP!, {R4-R8,LR}
		MOV	R8, R1
		ADD	R1, SP,	#0x20+var_C
		LDR	R6, [SP,#0x20+archive.handleHigh]
		STMIB	R1, {R2,R3}
		MOV	R7, R0
		LDR	R5, [SP,#0x20+archive]
		BL	svcGetThreadCommandBuffer
		LDR	R2, =0x8030204
		MOV	R3, #0
		STMIA	R0, {R2,R3}
		LDR	R3, [SP,#0x20+var_8]
		STR	R5, [R0,#0x10]
		STR	R3, [R0,#8]
		LDRB	R3, [SP,#0x20+var_4]
		MOV	R5, R5,LSL#14
		STR	R6, [R0,#0x18]
		STR	R3, [R0,#0xC]
		LDRB	R3, [SP,#0x20+archive.handleLow]
		ORR	R5, R5,	#0x800
		MOV	R6, R6,LSL#14
		STR	R3, [R0,#0x14]
		LDR	R3, [SP,#0x20+openflags]
		ORR	R5, R5,	#2
		STR	R3, [R0,#0x1C]
		LDR	R3, [SP,#0x20+attributes]
		ORR	R6, R6,	#2
		STR	R3, [R0,#0x20]
		LDR	R3, [SP,#0x20+archive.lowPath]
		STR	R5, [R0,#0x24]
		STR	R3, [R0,#0x28]
		LDR	R3, [SP,#0x20+arg_18]
		STR	R6, [R0,#0x2C]
		STR	R3, [R0,#0x30]
		MOV	R4, R0
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_100810
		CMP	R8, #0
		LDRNE	R3, [R4,#0xC]
		STRNE	R3, [R8]
		LDR	R0, [R4,#4]

loc_100810				; CODE XREF: FSUSER_OpenFileDirectly+9Cj
		LDMFD	SP!, {R4-R8,LR}
		ADD	SP, SP,	#8
		BX	LR
; End of function FSUSER_OpenFileDirectly

; ---------------------------------------------------------------------------
dword_10081C	DCD 0x8030204		; DATA XREF: FSUSER_OpenFileDirectly+24r

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSUSER_OpenArchive(Handle handle, FS_archive *archive)
FSUSER_OpenArchive			; CODE XREF: sub_10111C+44p
					; sub_104044+4Cp
		CMP	R1, #0
		BEQ	loc_100898
		STMFD	SP!, {R4-R6,LR}
		MOV	R5, R1
		MOV	R6, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x80C00C2
		STR	R3, [R0]
		LDR	R3, [R5]
		MOV	R4, R0
		STR	R3, [R0,#4]
		LDRB	R3, [R5,#4]
		STR	R3, [R0,#8]
		LDR	R3, [R5,#8]
		STR	R3, [R0,#0xC]
		LDR	R3, [R5,#8]
		MOV	R3, R3,LSL#14
		ORR	R3, R3,	#2
		STR	R3, [R0,#0x10]
		LDR	R3, [R5,#0xC]
		STR	R3, [R0,#0x14]
		MOV	R0, R6		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R3, [R4,#8]
		STREQ	R3, [R5,#0x10]
		LDREQ	R3, [R4,#0xC]
		STREQ	R3, [R5,#0x14]
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R4-R6,PC}
; ---------------------------------------------------------------------------

loc_100898				; CODE XREF: FSUSER_OpenArchive+4j
		MOV	R0, #0xFFFFFFFE
		BX	LR
; End of function FSUSER_OpenArchive

; ---------------------------------------------------------------------------
dword_1008A0	DCD 0x80C00C2		; DATA XREF: FSUSER_OpenArchive+18r

; =============== S U B	R O U T	I N E =======================================


; Result __stdcall FSUSER_OpenDirectory(Handle handle, Handle *out, FS_archive archive,	FS_path	dirLowPath)
FSUSER_OpenDirectory			; CODE XREF: sub_100F64+88p
					; sub_103C28+64p

var_C		= -0xC
arg_8		=  8
arg_C		=  0xC
arg_10		=  0x10
arg_14		=  0x14
arg_18		=  0x18

		SUB	SP, SP,	#8
		STMFD	SP!, {R3-R7,LR}
		MOV	R6, R1
		ADD	R1, SP,	#0x20+var_C
		LDR	R5, [SP,#0x20+arg_14]
		STMIB	R1, {R2,R3}
		MOV	R7, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x80B0102
		STR	R3, [R0]
		LDR	R3, [SP,#0x20+arg_8]
		STR	R5, [R0,#0x10]
		STR	R3, [R0,#4]
		LDR	R3, [SP,#0x20+arg_C]
		MOV	R5, R5,LSL#14
		STR	R3, [R0,#8]
		LDRB	R3, [SP,#0x20+arg_10]
		ORR	R5, R5,	#2
		STR	R5, [R0,#0x14]
		STR	R3, [R0,#0xC]
		LDR	R3, [SP,#0x20+arg_18]
		MOV	R4, R0
		STR	R3, [R0,#0x18]
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_100920
		CMP	R6, #0
		LDRNE	R3, [R4,#0xC]
		STRNE	R3, [R6]
		LDR	R0, [R4,#4]

loc_100920				; CODE XREF: FSUSER_OpenDirectory+68j
		LDMFD	SP!, {R3-R7,LR}
		ADD	SP, SP,	#8
		BX	LR
; End of function FSUSER_OpenDirectory

; ---------------------------------------------------------------------------
dword_10092C	DCD 0x80B0102		; DATA XREF: FSUSER_OpenDirectory+20r

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSUSER_CloseArchive(Handle handle, FS_archive *archive)
FSUSER_CloseArchive			; CODE XREF: sub_10111C+8Cp
		CMP	R1, #0
		BEQ	loc_100978
		STMFD	SP!, {R4-R6,LR}
		MOV	R5, R1
		MOV	R6, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x80E0080
		STR	R3, [R0]
		LDR	R3, [R5,#0x10]
		MOV	R4, R0
		STR	R3, [R0,#4]
		LDR	R3, [R5,#0x14]
		STR	R3, [R0,#8]
		MOV	R0, R6		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R4-R6,PC}
; ---------------------------------------------------------------------------

loc_100978				; CODE XREF: FSUSER_CloseArchive+4j
		MOV	R0, #0xFFFFFFFE
		BX	LR
; End of function FSUSER_CloseArchive

; ---------------------------------------------------------------------------
dword_100980	DCD 0x80E0080		; DATA XREF: FSUSER_CloseArchive+18r

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSFILE_Close(Handle	handle)
FSFILE_Close				; CODE XREF: sub_1011E4+7Cp
					; j_FSFILE_Closej ...
		STMFD	SP!, {R3-R5,LR}
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x8080000
		MOV	R4, R0
		STR	R3, [R0]
		MOV	R0, R5		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R3-R5,PC}
; End of function FSFILE_Close

; ---------------------------------------------------------------------------
dword_1009B0	DCD 0x8080000		; DATA XREF: FSFILE_Close+Cr

; =============== S U B	R O U T	I N E =======================================


; int __stdcall	FSFILE_Read(u32	*buffer, u32 size)
FSFILE_Read				; CODE XREF: sub_1021FC+110p
					; rtLoadFileToBuffer+F0p ...

arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R3-R9,LR}
		MOV	R9, R2
		MOV	R8, R3
		LDR	R5, [SP,#0x20+arg_4]
		MOV	R7, R0
		MOV	R6, R1
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x80200C2
		STR	R5, [R0,#0xC]
		STMIA	R0, {R3,R9}
		MOV	R5, R5,LSL#4
		LDR	R3, [SP,#0x20+arg_0]
		ORR	R5, R5,	#0xC
		STR	R8, [R0,#8]
		STR	R5, [R0,#0x10]
		STR	R3, [R0,#0x14]
		MOV	R4, R0
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R9,PC}
		CMP	R6, #0
		LDRNE	R3, [R4,#8]
		STRNE	R3, [R6]
		LDR	R0, [R4,#4]
		LDMFD	SP!, {R3-R9,PC}
; End of function FSFILE_Read

; ---------------------------------------------------------------------------
dword_100A1C	DCD 0x80200C2		; DATA XREF: FSFILE_Read+1Cr

; =============== S U B	R O U T	I N E =======================================


; int __stdcall	FSFILE_Write(u32 *data,	u32 size, u32 flushFlags)
FSFILE_Write				; CODE XREF: sub_101B44+FCp
					; sub_104638+16Cp ...

arg_0		=  0
arg_4		=  4
arg_8		=  8

		STMFD	SP!, {R3-R9,LR}
		MOV	R9, R2
		MOV	R8, R3
		LDR	R5, [SP,#0x20+arg_4]
		MOV	R7, R0
		MOV	R6, R1
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x8030102
		STMIA	R0, {R3,R9}
		LDR	R3, [SP,#0x20+arg_8]
		STR	R5, [R0,#0xC]
		STR	R3, [R0,#0x10]
		MOV	R5, R5,LSL#4
		LDR	R3, [SP,#0x20+arg_0]
		ORR	R5, R5,	#0xA
		STR	R8, [R0,#8]
		STR	R5, [R0,#0x14]
		STR	R3, [R0,#0x18]
		MOV	R4, R0
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R9,PC}
		CMP	R6, #0
		LDRNE	R3, [R4,#8]
		STRNE	R3, [R6]
		LDR	R0, [R4,#4]
		LDMFD	SP!, {R3-R9,PC}
; End of function FSFILE_Write

; ---------------------------------------------------------------------------
dword_100A90	DCD 0x8030102		; DATA XREF: FSFILE_Write+1Cr

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSFILE_GetSize(Handle handle, u64 *size)
FSFILE_GetSize				; CODE XREF: sub_1021FC+A8p
					; rtGetFileSize+98p ...
		STMFD	SP!, {R4-R6,LR}
		MOV	R6, R0
		MOV	R5, R1
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x8040000
		MOV	R4, R0
		STR	R3, [R0]
		MOV	R0, R6		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R4-R6,PC}
		CMP	R5, #0
		LDRNED	R2, [R4,#8]
		STRNED	R2, [R5]
		LDR	R0, [R4,#4]
		LDMFD	SP!, {R4-R6,PC}
; End of function FSFILE_GetSize

; ---------------------------------------------------------------------------
dword_100AD4	DCD 0x8040000		; DATA XREF: FSFILE_GetSize+10r

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSFILE_SetSize(Handle handle, u64 size)
FSFILE_SetSize
		STMFD	SP!, {R3-R7,LR}
		MOV	R7, R2
		MOV	R6, R3
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x8050080
		MOV	R4, R0
		STMIA	R0, {R3,R7}
		STR	R6, [R0,#8]
		MOV	R0, R5		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R3-R7,PC}
; End of function FSFILE_SetSize

; ---------------------------------------------------------------------------
dword_100B10	DCD 0x8050080		; DATA XREF: FSFILE_SetSize+14r

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSDIR_Read(Handle handle, u32 *entriesRead,	u32 entrycount,	u16 *buffer)
FSDIR_Read				; CODE XREF: sub_100F64+CCp
					; sub_103C28+CCp
		STMFD	SP!, {R4-R8,LR}
		MOV	R6, R2
		MOV	R8, R3
		MOV	R7, R0
		MOV	R5, R1
		BL	svcGetThreadCommandBuffer
		MOV	R12, #0x228
		LDR	R3, =0x8010042
		MUL	R2, R12, R6
		MOV	R2, R2,LSL#4
		ORR	R2, R2,	#0xC
		STMIA	R0, {R3,R6}
		STR	R2, [R0,#8]
		STR	R8, [R0,#0xC]
		MOV	R4, R0
		MOV	R0, R7		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R4-R8,PC}
		CMP	R5, #0
		LDRNE	R3, [R4,#8]
		STRNE	R3, [R5]
		LDR	R0, [R4,#4]
		LDMFD	SP!, {R4-R8,PC}
; End of function FSDIR_Read

; ---------------------------------------------------------------------------
dword_100B74	DCD 0x8010042		; DATA XREF: FSDIR_Read+1Cr

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall FSDIR_Close(Handle handle)
FSDIR_Close				; CODE XREF: sub_100F64+190p
					; sub_103C28+ECp
		STMFD	SP!, {R3-R5,LR}
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x8020000
		MOV	R4, R0
		STR	R3, [R0]
		MOV	R0, R5		; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R3-R5,PC}
; End of function FSDIR_Close

; ---------------------------------------------------------------------------
dword_100BA4	DCD 0x8020000		; DATA XREF: FSDIR_Close+Cr

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

srvGetSessionHandle			; DATA XREF: sub_101278+24o
					; ROM:off_1013C0o
		LDR	R0, =0xC821180B
		BX	LR
; End of function srvGetSessionHandle

; ---------------------------------------------------------------------------
dword_100BB0	DCD 0xC821180B		; DATA XREF: srvGetSessionHandler

; =============== S U B	R O U T	I N E =======================================


sub_100BB4				; DATA XREF: sub_101278+8o
					; ROM:callbackAddro

arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R0,R1,R4-R6,LR}
		LDR	R5, [SP,#0x18+arg_4]
		LDR	R4, [SP,#0x18+arg_0]
		LDR	R12, =dword_10AE78
		STMEA	SP, {R4,R5}
		BLX	R12 ; dword_10AE78
		CMP	R5, #0x36C0
		MOV	R6, R0
		BNE	loc_100BFC
		LDR	R2, [R4]
		LDR	R3, =0x48444D53
		CMP	R2, R3
		BNE	loc_100BFC
		LDR	R0, =aPatchingSmdh ; "patching smdh\n"
		ADD	R4, R4,	#0x2000
		BL	sub_101A14
		MOV	R3, #0x7FFFFFFF
		STR	R3, [R4,#0x18]

loc_100BFC				; CODE XREF: sub_100BB4+20j
					; sub_100BB4+30j
		MOV	R0, R6
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_100BB4

; ---------------------------------------------------------------------------
off_100C08	DCD dword_10AE78	; DATA XREF: sub_100BB4+Cr
dword_100C0C	DCD 0x48444D53		; DATA XREF: sub_100BB4+28r
off_100C10	DCD aPatchingSmdh	; DATA XREF: sub_100BB4+34r
					; "patching smdh\n"

; =============== S U B	R O U T	I N E =======================================


sub_100C14				; CODE XREF: main+1F0p
					; sub_1038D4:loc_103A0Cp
		STMFD	SP!, {R3,LR}
		BL	getKey
		MOV	R0, R0,LSR#5
		AND	R0, R0,	#1
		LDMFD	SP!, {R3,PC}
; End of function sub_100C14


; =============== S U B	R O U T	I N E =======================================


sub_100C28				; CODE XREF: main+6Cp main+1A0p
		LDR	R3, =0x1FF80000
		LDR	R1, =0x22C0600
		LDR	R2, =0x22E0000
		LDR	R3, [R3]
		CMP	R3, R1
		CMPNE	R3, R2
		LDR	R2, =IoBasePad
		MOVEQ	R1, #1
		MOVEQ	R1, #0x5C
		STREQ	R1, [R2]
		LDREQ	R1, =dword_10AD18
		LDREQ	R0, =0x102FEC
		MOVNE	R1, #0
		STRNE	R1, [R2]
		STREQ	R0, [R1]
		LDR	R1, =0x22D0500
		CMP	R3, R1
		MOVEQ	R3, #0x51
		STREQ	R3, [R2]
		LDREQ	R3, =dword_10AD18
		LDREQ	R1, =0x10308C
		LDR	R0, [R2]
		STREQ	R1, [R3]
		BX	LR
; End of function sub_100C28

; ---------------------------------------------------------------------------
dword_100C88	DCD 0x1FF80000		; DATA XREF: sub_100C28r
dword_100C8C	DCD 0x22C0600		; DATA XREF: sub_100C28+4r
dword_100C90	DCD 0x22E0000		; DATA XREF: sub_100C28+8r
off_100C94	DCD IoBasePad		; DATA XREF: sub_100C28+18r
off_100C98	DCD dword_10AD18	; DATA XREF: sub_100C28+28r
					; sub_100C28+4Cr
dword_100C9C	DCD 0x102FEC		; DATA XREF: sub_100C28+2Cr
dword_100CA0	DCD 0x22D0500		; DATA XREF: sub_100C28+3Cr
dword_100CA4	DCD 0x10308C		; DATA XREF: sub_100C28+50r

; =============== S U B	R O U T	I N E =======================================


sub_100CA8				; CODE XREF: main+68p main+19Cp

var_18		= -0x18
var_10		= -0x10
process		= -0xC

		STMFD	SP!, {R0-R4,LR}
		MOV	R3, #0
		LDR	R4, =IoBasePad
		STR	R3, [SP,#0x18+var_10]
		ADD	R0, SP,	#0x18+process ;	process
		STR	R3, [R4,#(dword_10ACF8 - 0x10ACF4)]
		LDR	R3, =dword_1085D4
		LDR	R1, [R3]	; processId
		BL	svcOpenProcess
		MOV	R3, #4
		STR	R3, [SP,#0x18+var_18]
		LDR	R2, [SP,#0x18+process]
		MOV	R3, #0x200000
		LDR	R0, =0xFFFF8001
		ADD	R1, SP,	#0x18+var_10
		BL	sub_1043C0
		LDR	R3, [SP,#0x18+var_10]
		LDR	R2, =0xE59F80F4
		CMP	R3, R2
		BNE	loc_100D2C
		MOV	R3, #0x5C
		STR	R3, [R4,#(dword_10ACF8 - 0x10ACF4)]
		LDR	R3, =dword_10AEC4
		LDR	R2, =0x131208
		STR	R2, [R3]
		LDR	R3, =dword_10AEC0
		LDR	R2, =0x12F6EC
		STR	R2, [R3]
		LDR	R3, =dword_10AEB8
		LDR	R2, =0x139900
		STR	R2, [R3]
		LDR	R2, =0x2F0EFC
		B	loc_100D68
; ---------------------------------------------------------------------------

loc_100D2C				; CODE XREF: sub_100CA8+4Cj
		LDR	R2, =0xE28DD008
		CMP	R3, R2
		BNE	loc_100D78
		MOV	R3, #0x5B
		STR	R3, [R4,#(dword_10ACF8 - 0x10ACF4)]
		LDR	R3, =dword_10AEC4
		LDR	R2, =0x131208
		STR	R2, [R3]
		LDR	R3, =dword_10AEC0
		LDR	R2, =0x12F6EC
		STR	R2, [R3]
		LDR	R3, =dword_10AEB8
		LDR	R2, =0x139900
		STR	R2, [R3]
		LDR	R2, =0x2F1EFC

loc_100D68				; CODE XREF: sub_100CA8+80j
		LDR	R3, =dword_10ADE8
		STR	R2, [R3]
		LDR	R2, =0x131C98
		B	loc_100E0C
; ---------------------------------------------------------------------------

loc_100D78				; CODE XREF: sub_100CA8+8Cj
		LDR	R2, =0xE1B03F02
		CMP	R3, R2
		BNE	loc_100DC4
		MOV	R3, #0x5A
		STR	R3, [R4,#(dword_10ACF8 - 0x10ACF4)]
		LDR	R3, =dword_10AEC4
		LDR	R2, =0x130CFC
		STR	R2, [R3]
		LDR	R3, =dword_10AEC0
		LDR	R2, =0x12F224
		STR	R2, [R3]
		LDR	R3, =dword_10AEB8
		LDR	R2, =0x1393F4
		STR	R2, [R3]
		LDR	R3, =dword_10ADE8
		LDR	R2, =0x2EFEFC
		STR	R2, [R3]
		LDR	R2, =0x13178C
		B	loc_100E0C
; ---------------------------------------------------------------------------

loc_100DC4				; CODE XREF: sub_100CA8+D8j
		LDR	R2, =0xE28F2E19
		CMP	R3, R2
		BNE	loc_100E14
		MOV	R3, #0x51
		STR	R3, [R4,#(dword_10ACF8 - 0x10ACF4)]
		LDR	R3, =dword_10AEC4
		LDR	R2, =0x129098
		STR	R2, [R3]
		LDR	R3, =dword_10AEC0
		LDR	R2, =0x11AAB8
		STR	R2, [R3]
		LDR	R3, =dword_10AEB8
		LDR	R2, =0x13339C
		STR	R2, [R3]
		LDR	R3, =dword_10ADE8
		LDR	R2, =0x278E4C
		STR	R2, [R3]
		LDR	R2, =0x129BFC

loc_100E0C				; CODE XREF: sub_100CA8+CCj
					; sub_100CA8+118j
		LDR	R3, =dword_10AEBC
		STR	R2, [R3]

loc_100E14				; CODE XREF: sub_100CA8+124j
		LDR	R0, [SP,#0x18+process] ; handle
		BL	svcCloseHandle
		LDR	R0, [R4,#4]
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4,PC}
; End of function sub_100CA8

; ---------------------------------------------------------------------------
off_100E28	DCD IoBasePad		; DATA XREF: sub_100CA8+8r
off_100E2C	DCD dword_1085D4	; DATA XREF: sub_100CA8+18r
dword_100E30	DCD 0xFFFF8001		; DATA XREF: sub_100CA8+34r
dword_100E34	DCD 0xE59F80F4		; DATA XREF: sub_100CA8+44r
off_100E38	DCD dword_10AEC4	; DATA XREF: sub_100CA8+58r
					; sub_100CA8+98r ...
dword_100E3C	DCD 0x131208		; DATA XREF: sub_100CA8+5Cr
					; sub_100CA8+9Cr
off_100E40	DCD dword_10AEC0	; DATA XREF: sub_100CA8+64r
					; sub_100CA8+A4r ...
dword_100E44	DCD 0x12F6EC		; DATA XREF: sub_100CA8+68r
					; sub_100CA8+A8r
off_100E48	DCD dword_10AEB8	; DATA XREF: sub_100CA8+70r
					; sub_100CA8+B0r ...
dword_100E4C	DCD 0x139900		; DATA XREF: sub_100CA8+74r
					; sub_100CA8+B4r
dword_100E50	DCD 0x2F0EFC		; DATA XREF: sub_100CA8+7Cr
dword_100E54	DCD 0xE28DD008		; DATA XREF: sub_100CA8:loc_100D2Cr
dword_100E58	DCD 0x2F1EFC		; DATA XREF: sub_100CA8+BCr
off_100E5C	DCD dword_10ADE8	; DATA XREF: sub_100CA8:loc_100D68r
					; sub_100CA8+108r ...
dword_100E60	DCD 0x131C98		; DATA XREF: sub_100CA8+C8r
dword_100E64	DCD 0xE1B03F02		; DATA XREF: sub_100CA8:loc_100D78r
dword_100E68	DCD 0x130CFC		; DATA XREF: sub_100CA8+E8r
dword_100E6C	DCD 0x12F224		; DATA XREF: sub_100CA8+F4r
dword_100E70	DCD 0x1393F4		; DATA XREF: sub_100CA8+100r
dword_100E74	DCD 0x2EFEFC		; DATA XREF: sub_100CA8+10Cr
dword_100E78	DCD 0x13178C		; DATA XREF: sub_100CA8+114r
dword_100E7C	DCD 0xE28F2E19		; DATA XREF: sub_100CA8:loc_100DC4r
dword_100E80	DCD 0x129098		; DATA XREF: sub_100CA8+134r
dword_100E84	DCD 0x11AAB8		; DATA XREF: sub_100CA8+140r
dword_100E88	DCD 0x13339C		; DATA XREF: sub_100CA8+14Cr
dword_100E8C	DCD 0x278E4C		; DATA XREF: sub_100CA8+158r
dword_100E90	DCD 0x129BFC		; DATA XREF: sub_100CA8+160r
off_100E94	DCD dword_10AEBC	; DATA XREF: sub_100CA8:loc_100E0Cr

; =============== S U B	R O U T	I N E =======================================


sub_100E98				; CODE XREF: sub_100EEC+Cp
					; sub_100EEC+1Cp ...
		STMFD	SP!, {R3-R7,LR}
		MOV	R5, R0
		LDR	R7, =dword_1085D4
		MOV	R6, R1
		MOV	R4, #0

loc_100EAC				; CODE XREF: sub_100E98+34j
		CMP	R4, R5
		BEQ	loc_100ED0
		LDR	R3, [R7,#(dword_1085D8 - 0x1085D4)]
		LDR	R0, =0x4C4B40	; ns
		MOV	R1, #0
		STR	R6, [R3,#0x204]
		BL	svcSleepThread
		ADD	R4, R4,	#1
		B	loc_100EAC
; ---------------------------------------------------------------------------

loc_100ED0				; CODE XREF: sub_100E98+18j
		LDR	R3, =dword_1085D4
		MOV	R2, #0
		LDR	R3, [R3,#(dword_1085D8 - 0x1085D4)]
		STR	R2, [R3,#0x204]
		LDMFD	SP!, {R3-R7,PC}
; End of function sub_100E98

; ---------------------------------------------------------------------------
off_100EE4	DCD dword_1085D4	; DATA XREF: sub_100E98+8r
					; sub_100E98:loc_100ED0r
; s64 ns
ns		DCD 0x4C4B40		; DATA XREF: sub_100E98+20r

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

sub_100EEC				; DATA XREF: main+228o	ROM:off_1018C8o
		STMFD	SP!, {R3,LR}
		MOV	R0, #0x64
		LDR	R1, =0x1FF0000
		BL	sub_100E98
		BL	sub_103158
		MOV	R0, #0x64
		LDR	R1, =0x10000FF
		BL	sub_100E98
		MOV	R0, #0
		LDMFD	SP!, {R3,LR}
		B	svcExitThread
; End of function sub_100EEC

; ---------------------------------------------------------------------------
dword_100F18	DCD 0x1FF0000		; DATA XREF: sub_100EEC+8r
dword_100F1C	DCD 0x10000FF		; DATA XREF: sub_100EEC+18r

; =============== S U B	R O U T	I N E =======================================


sub_100F20				; CODE XREF: sub_1035F8+E0p
		LDR	R3, =dword_10AED4
		MOV	R2, #1
		LDR	R3, [R3]
		STR	R2, [R3,#0xA4]
		LDR	R0, [R3,#8]	; handle
		B	svcCloseHandle
; End of function sub_100F20

; ---------------------------------------------------------------------------
off_100F38	DCD dword_10AED4	; DATA XREF: sub_100F20r
; ---------------------------------------------------------------------------
		STMFD	SP!, {R4,LR}
		MOV	R4, R0
		BL	sub_107220
		MOV	R1, R4
		LDR	R0, =0x109E75
		MOV	R2, #0
		BL	showDbg
		LDMFD	SP!, {R4,LR}
		B	sub_107300
; ---------------------------------------------------------------------------
dword_100F60	DCD 0x109E75		; DATA XREF: ROM:00100F4Cr

; =============== S U B	R O U T	I N E =======================================


sub_100F64				; CODE XREF: sub_100F64+184p
					; sub_10111C+80p

var_6450	= -0x6450
var_6448	= -0x6448
handle		= -0x6434
entriesRead	= -0x6430
var_642C	= -0x642C
var_6428	= -0x6428
var_6424	= -0x6424
buffer		= -0x6420
var_5FD8	= -0x5FD8
var_5F38	= -0x5F38
var_5058	= -0x5058
var_58		= -0x58

		SUB	SP, SP,	#0x10
		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x6400
		SUB	SP, SP,	#0x28	; archive
		ADD	R4, SP,	#0x6458+var_58
		ADD	R4, R4,	#0x48
		ADD	R6, SP,	#0x6458+var_5058
		STMIA	R4, {R0-R3}
		ADD	R3, SP,	#0x6458+var_58
		ADD	R3, R3,	#0x60
		LDR	R9, [R3]
		ADD	R6, R6,	#0x28
		MOV	R3, #3
		MOV	R5, #0
		MOV	R0, R9
		STRB	R3, [SP,#0x6458+var_642C]
		STRB	R5, [R6]
		BL	strlen
		ADD	R2, SP,	#0x6458+var_642C
		STR	R9, [SP,#0x6458+var_6424]
		ADD	R3, SP,	#0x6458+var_6448
		STR	R5, [SP,#0x6458+handle]
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x6458+var_6428]
		LDMIA	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		ADD	R3, SP,	#0x6458+var_58
		ADD	R3, R3,	#0x50
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =IoBasePad
		LDMIA	R4, {R2,R3}
		LDR	R0, [R1,#(fsUserHandle - 0x10ACF4)] ; handle
		ADD	R1, SP,	#0x6458+handle ; out
		BL	FSUSER_OpenDirectory
		SUBS	R2, R0,	#0
		BEQ	loc_10100C
		MOV	R0, R6
		LDR	R1, =0x109E85
		BL	sub_107B90
		MOV	R0, R6
		B	loc_101094
; ---------------------------------------------------------------------------

loc_10100C				; CODE XREF: sub_100F64+90j
		MOV	R5, R2
		MOV	R7, R2
		MOV	R10, R2
		ADD	R8, SP,	#0x6458+buffer

loc_10101C				; CODE XREF: sub_100F64+120j
		MOV	R3, R8		; buffer
		LDR	R0, [SP,#0x6458+handle]	; handle
		ADD	R1, SP,	#0x6458+entriesRead ; entriesRead
		MOV	R2, #1		; entrycount
		STR	R10, [SP,#0x6458+entriesRead]
		BL	FSDIR_Read
		LDR	R3, [SP,#0x6458+entriesRead]
		CMP	R3, #0
		BEQ	loc_101088
		ADD	R2, SP,	#0x6458+var_5F38
		ADD	R2, R2,	#8
		SUB	R2, R2,	#0xA0
		ADD	R3, R6,	R7
		STR	R3, [R2,R5,LSL#2]
		MOV	R3, #0

loc_101058				; CODE XREF: sub_100F64+110j
		LDRH	R2, [R8,R3]
		CMP	R2, #0
		BEQ	loc_101078
		ADD	R3, R3,	#2
		CMP	R3, #0x450
		STRB	R2, [R6,R7]
		ADD	R7, R7,	#1
		BNE	loc_101058

loc_101078				; CODE XREF: sub_100F64+FCj
		STRB	R10, [R6,R7]
		ADD	R5, R5,	#1
		ADD	R7, R7,	#1
		B	loc_10101C
; ---------------------------------------------------------------------------

loc_101088				; CODE XREF: sub_100F64+D8j
		CMP	R5, #0
		BNE	loc_10109C
		LDR	R0, =0x109EAB

loc_101094				; CODE XREF: sub_100F64+A4j
		BL	sub_107574
		B	loc_1010F8
; ---------------------------------------------------------------------------

loc_10109C				; CODE XREF: sub_100F64+128j
					; sub_100F64+188j
		ADD	R2, SP,	#0x6458+var_5FD8
		MOV	R0, R9		; title
		MOV	R1, R5		; entryCount
		ADD	R2, R2,	#8	; captions
		BL	showMenu
		CMN	R0, #1
		BEQ	loc_1010F0
		ADD	R3, R6,	R0,LSL#2
		MOV	R2, R9
		MOV	R0, R8
		LDR	R1, =aSS	; "%s%s"
		LDR	R3, [R3,#-0xFA0]
		BL	sub_107B90
		ADD	R3, SP,	#0x6458+var_58
		ADD	R3, R3,	#0x58
		STR	R8, [SP,#0x6458+var_6450]
		LDMIA	R3, {R0,R1}
		STMEA	SP, {R0,R1}
		LDMIA	R4, {R0-R3}
		BL	sub_100F64
		B	loc_10109C
; ---------------------------------------------------------------------------

loc_1010F0				; CODE XREF: sub_100F64+150j
		LDR	R0, [SP,#0x6458+handle]	; handle
		BL	FSDIR_Close

loc_1010F8				; CODE XREF: sub_100F64+134j
		ADD	SP, SP,	#0x6400
		ADD	SP, SP,	#0x28
		LDMFD	SP!, {R4-R10,LR}
		ADD	SP, SP,	#0x10
		BX	LR
; End of function sub_100F64

; ---------------------------------------------------------------------------
off_10110C	DCD IoBasePad		; DATA XREF: sub_100F64+78r
dword_101110	DCD 0x109E85		; DATA XREF: sub_100F64+98r
dword_101114	DCD 0x109EAB		; DATA XREF: sub_100F64+12Cr
off_101118	DCD aSS			; DATA XREF: sub_100F64+160r
					; "%s%s"

; =============== S U B	R O U T	I N E =======================================


sub_10111C

var_F8		= -0xF8
var_F0		= -0xF0
var_EC		= -0xEC
var_E8		= -0xE8
var_E4		= -0xE4
var_E0		= -0xE0
var_D8		= -0xD8

		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0xF4
		ADD	R4, SP,	#0x100+var_F0
		MOV	R2, #0x18
		MOV	R1, #0
		MOV	R0, R4
		BL	memset
		LDR	R3, =0x567890AB
		LDR	R5, =IoBasePad
		STR	R3, [SP,#0x100+var_F0]
		MOV	R3, #1
		STRB	R3, [SP,#0x100+var_EC]
		STR	R3, [SP,#0x100+var_E8]
		LDR	R3, =0x10A4DD
		LDR	R0, [R5,#(fsUserHandle - 0x10ACF4)] ; handle
		MOV	R1, R4		; archive
		STR	R3, [SP,#0x100+var_E4]
		BL	FSUSER_OpenArchive
		SUBS	R2, R0,	#0
		BEQ	loc_101184
		ADD	R0, SP,	#0x100+var_D8
		LDR	R1, =0x109EBF
		BL	sub_107B90
		ADD	R0, SP,	#0x100+var_D8
		BL	sub_107574
		B	loc_1011AC
; ---------------------------------------------------------------------------

loc_101184				; CODE XREF: sub_10111C+4Cj
		LDR	R3, =asc_109EDC	; "/"
		STR	R3, [SP,#0x100+var_F8]
		ADD	R3, SP,	#0x100+var_E0
		LDMIA	R3, {R0,R1}
		STMEA	SP, {R0,R1}
		LDMIA	R4, {R0-R3}
		BL	sub_100F64
		LDR	R0, [R5,#(fsUserHandle - 0x10ACF4)] ; handle
		MOV	R1, R4		; archive
		BL	FSUSER_CloseArchive

loc_1011AC				; CODE XREF: sub_10111C+64j
		ADD	SP, SP,	#0xF4
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_10111C

; ---------------------------------------------------------------------------
dword_1011B4	DCD 0x567890AB		; DATA XREF: sub_10111C+1Cr
off_1011B8	DCD IoBasePad		; DATA XREF: sub_10111C+20r
dword_1011BC	DCD 0x10A4DD		; DATA XREF: sub_10111C+34r
dword_1011C0	DCD 0x109EBF		; DATA XREF: sub_10111C+54r
off_1011C4	DCD asc_109EDC		; DATA XREF: sub_10111C:loc_101184r
					; "/"

; =============== S U B	R O U T	I N E =======================================


sub_1011C8				; CODE XREF: sub_101278+130p
					; sub_102F98:loc_102F9Cp ...
		LDR	R3, =dword_10AED4
		LDR	R3, [R3]
		LDR	R3, [R3,#0xA4]
		CMP	R3, #0
		BXEQ	LR
		B	svcExitThread
; End of function sub_1011C8

; ---------------------------------------------------------------------------
off_1011E0	DCD dword_10AED4	; DATA XREF: sub_1011C8r

; =============== S U B	R O U T	I N E =======================================


sub_1011E4				; CODE XREF: sub_101278+B4p

var_38		= -0x38
openflags	= -0x2C
attributes	= -0x28
out		= -0x20
var_1C		= -0x1C
var_18		= -0x18
var_14		= -0x14
var_10		= -0x10

		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x3C	; archive
		MOV	R4, #0
		MOV	R3, #3
		MOV	R5, R0
		STRB	R3, [SP,#0x48+var_1C]
		STR	R4, [SP,#0x48+out]
		BL	strlen
		ADD	R2, SP,	#0x48+var_10
		STR	R5, [SP,#0x48+var_14]
		LDR	R12, =sdmcArchive
		ADD	R3, SP,	#0x48+var_38
		MOV	R5, #1
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x48+var_18]
		LDMDB	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		ADD	R3, R12, #8
		STR	R5, [SP,#0x48+openflags] ; openflags
		STR	R4, [SP,#0x48+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =IoBasePad
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1,#(fsUserHandle - 0x10ACF4)] ; handle
		ADD	R1, SP,	#0x48+out ; out
		BL	FSUSER_OpenFileDirectly
		CMP	R0, R4
		MOVNE	R0, R4
		BNE	loc_101268
		LDR	R0, [SP,#0x48+out] ; handle
		BL	FSFILE_Close
		MOV	R0, R5

loc_101268				; CODE XREF: sub_1011E4+74j
		ADD	SP, SP,	#0x3C
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_1011E4

; ---------------------------------------------------------------------------
off_101270	DCD sdmcArchive		; DATA XREF: sub_1011E4+28r
off_101274	DCD IoBasePad		; DATA XREF: sub_1011E4+58r

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

sub_101278				; DATA XREF: main+1D0o	ROM:entrypointo
		STMFD	SP!, {R3-R7,LR}
		LDR	R3, =dword_10AEC0
		LDR	R2, =sub_100BB4	; callbackAddr
		LDR	R0, =dword_10ADEC ; hook
		LDR	R1, [R3]	; funcAddr
		BL	rtInitHook
		LDR	R0, =dword_10ADEC ; hook
		BL	rtEnableHook
		LDR	R3, =dword_10AEB8
		LDR	R2, =srvGetSessionHandle ; callbackAddr
		LDR	R0, =dword_10AD1C ; hook
		LDR	R1, [R3]	; funcAddr
		BL	rtInitHook
		LDR	R0, =dword_10AD1C ; hook
		BL	rtEnableHook
		LDR	R3, =dword_10ADE8
		LDR	R4, =sdmcArchive
		LDR	R5, =IoBasePad
		LDR	R3, [R3]
		MOV	R1, #0
		MOV	R2, #0x18
		LDR	R3, [R3]
		MOV	R0, R4
		STR	R3, [R5,#(fsUserHandle - 0x10ACF4)]
		BL	memset
		MOV	R3, #9
		STR	R3, [R4]
		MOV	R3, #1
		STRB	R3, [R4,#(byte_108604 -	0x108600)]
		STR	R3, [R4,#(dword_108608 - 0x108600)]
		LDR	R3, =0x10A4DD
		STR	R3, [R4,#(dword_10860C - 0x108600)]
		BL	sub_107104
		CMP	R0, #0
		BEQ	loc_101310
		MOV	R0, #0x64
		LDR	R1, =0x10000FF
		BL	sub_100E98

loc_101310				; CODE XREF: sub_101278+88j
		LDR	R3, =dword_10AED4
		MOV	R2, #0
		LDR	R3, [R3]
		STR	R2, [R3]
		BL	initSrv
		BL	sub_103100
		LDR	R0, =aDebug_flag ; "/debug.flag"
		BL	sub_1011E4
		CMP	R0, #0
		BEQ	loc_10133C
		BL	sub_103158

loc_10133C				; CODE XREF: sub_101278+BCj
		LDR	R0, =0x3B9ACA00	; ns
		MOV	R1, #0
		BL	svcSleepThread
		BL	sub_104044
		BL	sub_1058C8
		LDR	R4, =dword_1085D4
		LDR	R6, =dword_10B51C
		LDR	R7, =IoBasePad

loc_10135C				; CODE XREF: sub_101278+134j
		BL	getKey
		LDR	R3, [R4,#(dword_1085DC - 0x1085D4)]
		CMP	R0, R3
		BNE	loc_10137C
		LDR	R3, [R6]
		CMP	R3, #0
		BEQ	loc_10137C
		BL	sub_1035F8

loc_10137C				; CODE XREF: sub_101278+F0j
					; sub_101278+FCj
		LDR	R3, [R5,#0xC]
		CMP	R3, #0
		BEQ	loc_10139C
		BL	getKey
		LDR	R3, [R7,#0xC]
		CMP	R0, R3
		BNE	loc_10139C
		BL	sub_1056C0

loc_10139C				; CODE XREF: sub_101278+10Cj
					; sub_101278+11Cj
		LDR	R0, =0x5F5E100	; ns
		MOV	R1, #0
		BL	svcSleepThread
		BL	sub_1011C8
		B	loc_10135C
; End of function sub_101278

; ---------------------------------------------------------------------------
off_1013B0	DCD dword_10AEC0	; DATA XREF: sub_101278+4r
; uint32_t callbackAddr
callbackAddr	DCD sub_100BB4		; DATA XREF: sub_101278+8r
; RT_HOOK *hook
hook		DCD dword_10ADEC	; DATA XREF: sub_101278+Cr
					; sub_101278+18r
off_1013BC	DCD dword_10AEB8	; DATA XREF: sub_101278+20r
; uint32_t off_1013C0
off_1013C0	DCD srvGetSessionHandle	; DATA XREF: sub_101278+24r
; RT_HOOK *off_1013C4
off_1013C4	DCD dword_10AD1C	; DATA XREF: sub_101278+28r
					; sub_101278+34r
off_1013C8	DCD dword_10ADE8	; DATA XREF: sub_101278+3Cr
off_1013CC	DCD sdmcArchive		; DATA XREF: sub_101278+40r
off_1013D0	DCD IoBasePad		; DATA XREF: sub_101278+44r
					; sub_101278+E0r
dword_1013D4	DCD 0x10A4DD		; DATA XREF: sub_101278+78r
dword_1013D8	DCD 0x10000FF		; DATA XREF: sub_101278+90r
off_1013DC	DCD dword_10AED4	; DATA XREF: sub_101278:loc_101310r
off_1013E0	DCD aDebug_flag		; DATA XREF: sub_101278+B0r
					; "/debug.flag"
; s64 dword_1013E4
dword_1013E4	DCD 0x3B9ACA00		; DATA XREF: sub_101278:loc_10133Cr
off_1013E8	DCD dword_1085D4	; DATA XREF: sub_101278+D8r
off_1013EC	DCD dword_10B51C	; DATA XREF: sub_101278+DCr
; s64 dword_1013F0
dword_1013F0	DCD 0x5F5E100		; DATA XREF: sub_101278:loc_10139Cr

; =============== S U B	R O U T	I N E =======================================


sub_1013F4

handle		= -0x18
var_14		= -0x14
var_10		= -0x10

		STMFD	SP!, {R0-R2,R4,R5,LR}
		MOV	R1, R0		; processId
		MOV	R0, SP		; process
		BL	svcOpenProcess
		SUBS	R5, R0,	#0
		BNE	loc_101450
		LDR	R0, [SP,#0x18+handle]
		BL	sub_10704C
		ADD	R4, SP,	#0x18+var_10
		MOV	R2, #4
		STR	R5, [R4,#-4]!
		ADD	R5, R0,	#4
		MOV	R1, R5
		MOV	R0, R4
		BL	sub_10707C
		MOV	R3, #1
		MOV	R0, R5
		MOV	R1, R4
		MOV	R2, #4
		STR	R3, [SP,#0x18+var_14]
		BL	sub_10707C
		LDR	R0, [SP,#0x18+handle] ;	handle
		BL	svcCloseHandle

loc_101450				; CODE XREF: sub_1013F4+14j
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_1013F4


; =============== S U B	R O U T	I N E =======================================


sub_101458				; CODE XREF: main+154p

op		= -0x20
perm		= -0x1C
addr_out	= -0x14

		STMFD	SP!, {R4,R5,LR}
		MOV	R5, #0x6000000
		LDR	R4, =dword_10AED4
		SUB	SP, SP,	#0x14
		MOV	R0, R5		; addr
		MOV	R1, #0x1000	; size
		STR	R5, [R4]
		BL	protectMemory
		CMP	R0, #0
		BEQ	loc_1014CC
		MOV	R3, #3
		STR	R3, [SP,#0x20+op] ; op
		STR	R3, [SP,#0x20+perm] ; perm
		MOV	R1, R5		; addr0
		ADD	R0, SP,	#0x20+addr_out ; addr_out
		MOV	R2, #0		; addr1
		MOV	R3, #0x1000	; size
		BL	svcControlMemory
		SUBS	R5, R0,	#0
		BEQ	loc_1014B4
		LDR	R0, =aInitCfgMemoryF ; "init cfg memory failed"
		BL	sub_107574
		B	loc_1014CC
; ---------------------------------------------------------------------------

loc_1014B4				; CODE XREF: sub_101458+4Cj
		LDR	R0, [R4]
		MOV	R1, R5
		MOV	R2, #0x238
		BL	memset
		LDR	R3, [R4]
		STR	R5, [R3]

loc_1014CC				; CODE XREF: sub_101458+24j
					; sub_101458+58j
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_101458

; ---------------------------------------------------------------------------
off_1014D4	DCD dword_10AED4	; DATA XREF: sub_101458+8r
off_1014D8	DCD aInitCfgMemoryF	; DATA XREF: sub_101458+50r
					; "init cfg memory failed"

; =============== S U B	R O U T	I N E =======================================


sub_1014DC				; CODE XREF: main+140p

handle		= -0x244
var_240		= -0x240
var_8		= -8

		STMFD	SP!, {R4,LR}
		SUB	SP, SP,	#0x240
		MOV	R1, #0
		ADD	R0, SP,	#0x248+var_240
		MOV	R2, #0x238
		BL	memset
		LDR	R3, =nsDbgPrint
		LDR	R4, =dword_10AEE8
		LDR	R2, [R3,#(dword_100110 - 0x100104)]
		LDR	R0, [R3,#(nsDbgPrint_1 - 0x100104)] ; size
		STR	R2, [R4]
		BL	rtAlignToPageSize
		LDR	R3, =dword_10AEEC
		STR	R0, [R3]
		ADD	R0, SP,	#0x248+var_8
		MOV	R3, #0
		STR	R3, [R0,#-0x23C]!
		LDR	R3, =dword_1085D4
		LDR	R1, [R3]	; processId
		BL	svcOpenProcess
		LDR	R3, [R4]
		MOV	R2, #1
		STR	R2, [R3,#4]
		LDR	R3, =dword_10AEC4
		ADD	R2, SP,	#0x248+var_240
		LDR	R0, [SP,#0x248+handle]
		LDR	R1, [R3]
		BL	sub_102AC4
		LDR	R0, [SP,#0x248+handle] ; handle
		BL	svcCloseHandle
		ADD	SP, SP,	#0x240
		LDMFD	SP!, {R4,PC}
; End of function sub_1014DC

; ---------------------------------------------------------------------------
off_10155C	DCD nsDbgPrint		; DATA XREF: sub_1014DC+18r
off_101560	DCD dword_10AEE8	; DATA XREF: sub_1014DC+1Cr
off_101564	DCD dword_10AEEC	; DATA XREF: sub_1014DC+30r
off_101568	DCD dword_1085D4	; DATA XREF: sub_1014DC+44r
off_10156C	DCD dword_10AEC4	; DATA XREF: sub_1014DC+5Cr

; =============== S U B	R O U T	I N E =======================================


sub_101570				; CODE XREF: main+198p
		STMFD	SP!, {R4,LR}
		MOV	R4, #0xA

loc_101578				; CODE XREF: sub_101570+18j
		LDR	R0, =0x989680	; ns
		MOV	R1, #0
		BL	svcSleepThread
		SUBS	R4, R4,	#1
		BNE	loc_101578
		LDMFD	SP!, {R4,PC}
; End of function sub_101570

; ---------------------------------------------------------------------------
; s64 dword_101590
dword_101590	DCD 0x989680		; DATA XREF: sub_101570:loc_101578r

; =============== S U B	R O U T	I N E =======================================


sub_101594				; CODE XREF: main+120p
		STMFD	SP!, {R4,LR}
		MOV	R4, #0xA

loc_10159C				; CODE XREF: sub_101594+20j
		BL	initSrv
		BL	exitSrv
		LDR	R0, =0x989680	; ns
		MOV	R1, #0
		BL	svcSleepThread
		SUBS	R4, R4,	#1
		BNE	loc_10159C
		LDMFD	SP!, {R4,PC}
; End of function sub_101594

; ---------------------------------------------------------------------------
; s64 dword_1015BC
dword_1015BC	DCD 0x989680		; DATA XREF: sub_101594+10r
; ---------------------------------------------------------------------------
		LDR	R0, =0x3B9ACA00
		STMFD	SP!, {R3,LR}
		MOV	R1, #0
		BL	svcSleepThread
		LDMFD	SP!, {R3,PC}
; ---------------------------------------------------------------------------
dword_1015D4	DCD 0x3B9ACA00		; DATA XREF: ROM:001015C0r

; =============== S U B	R O U T	I N E =======================================


; int __cdecl main(int argc, const char	**argv,	const char **envp)
main					; CODE XREF: c_entry+20j

thread		= -0x1C

		STMFD	SP!, {R0-R8,LR}	; thread_priority
		LDR	R5, =nsDbgPrint
		LDR	R7, =IoBasePad
		LDR	R6, [R5]
		MOV	R4, R7
		CMP	R6, #0
		STR	R6, [R7,#(dword_10AD04 - 0x10ACF4)]
		BNE	loc_101720
		LDR	R0, =0x109F01
		BL	sub_107200
		LDR	R3, [R5,#(dword_100108 - 0x100104)]
		MOV	R1, R6
		STR	R3, [R7,#(off_10AD08 - 0x10ACF4)]
		LDR	R3, [R5,#(nsDbgPrint_0 - 0x100104)]
		LDR	R5, =sdmcArchive
		MOV	R2, #0x18
		MOV	R0, R5
		STR	R3, [R7,#(fsUserHandle - 0x10ACF4)]
		BL	memset
		MOV	R3, #9
		STR	R3, [R5]
		MOV	R3, #1
		STRB	R3, [R5,#(byte_108604 -	0x108600)]
		STR	R3, [R5,#(dword_108608 - 0x108600)]
		LDR	R3, =0x10A4DD
		STR	R3, [R5,#(dword_10860C - 0x108600)]
		BL	sub_100CA8
		BL	sub_100C28
		LDR	R3, [R7]
		CMP	R3, #0
		BNE	loc_10165C
		LDR	R0, =aFirmVersionNot ; "firm version not supported"
		BL	sub_107574

loc_10165C				; CODE XREF: main+78j
		LDR	R3, [R4,#4]
		CMP	R3, #0
		BNE	loc_101670
		LDR	R0, =0x109F25
		BL	sub_107574

loc_101670				; CODE XREF: main+8Cj
		LDR	R3, [R4,#4]
		LDR	R5, =IoBasePad
		CMP	R3, #0
		BEQ	loc_10168C
		LDR	R3, [R5]
		CMP	R3, #0
		BNE	loc_1016EC

loc_10168C				; CODE XREF: main+A4j
		LDR	R0, =aFirmwareVersio ; "firmware version not supported"
		BL	sub_107574
		MOV	R0, #0
		LDR	R1, =0x109F63
		BL	sub_104638
		MOV	R0, #2
		LDR	R1, =0x109F6D
		BL	sub_104638
		MOV	R0, #3
		LDR	R1, =0x109F77
		BL	sub_104638
		MOV	R0, #0xF
		LDR	R1, =0x109F81
		BL	sub_104638
		LDR	R0, =0xDFF80000
		MOV	R1, #0x80000
		LDR	R2, =0x109F8B
		BL	sub_1049A8
		LDR	R0, =aCurrentFirmwar ; "current firmware not supported. \npleas"...
		BL	sub_107574

loc_1016DC				; CODE XREF: main+110j
		LDR	R0, =0x3B9ACA00	; ns
		MOV	R1, #0
		BL	svcSleepThread
		B	loc_1016DC
; ---------------------------------------------------------------------------

loc_1016EC				; CODE XREF: main+B0j
		BL	sub_1070A0
		LDR	R0, =aKernelhaxDone ; "kernelhax done"
		BL	sub_107574
		BL	sub_101594
		LDR	R1, [R5,#(dword_10ACF8 - 0x10ACF4)]
		MOV	R2, #0
		LDR	R0, =0x109FF3
		BL	showDbg
		MOV	R0, #0x64
		LDR	R1, =0x1FF0000
		BL	sub_100E98
		BL	sub_1014DC
		B	loc_101854
; ---------------------------------------------------------------------------

loc_101720				; CODE XREF: main+1Cj
		CMP	R6, #1
		BNE	loc_101854
		LDR	R5, =dword_10AED4
		BL	sub_101458
		BL	sub_103100
		LDR	R3, [R5]
		MOV	R1, #8		; size
		LDR	R6, [R3,#0x28]
		LDR	R2, [R3,#0x20]!
		MOV	R0, R6		; ptr
		STR	R2, [R6]
		LDR	R2, [R3,#4]
		STR	R2, [R6,#4]
		BL	rtFlushInstructionCache
		MOV	R0, R6		; dst
		LDR	R1, =locret_1001A0 ; buf
		BL	rtGenerateJumpCode
		MOV	R1, #8		; size
		LDR	R0, =locret_1001A0 ; ptr
		BL	rtFlushInstructionCache
		BL	sub_101570
		BL	sub_100CA8
		BL	sub_100C28
		BL	getCurrentProcessId
		LDR	R3, =dword_1085D4
		MOV	R8, R3
		LDR	R2, [R3]
		LDR	R3, =0x6001000
		CMP	R0, R2
		MOV	R6, R0
		BNE	loc_1017C4
		STR	R3, [R7,#(dword_10AD0C - 0x10ACF4)]
		MOV	R0, #0x10
		MOV	R3, #0xFFFFFFFE
		LDR	R1, =sub_101278	; entrypoint
		STMEA	SP, {R0,R3}
		MOV	R2, #0		; arg
		ADD	R0, SP,	#0x28+thread ; thread
		LDR	R3, =0x6004FD8	; stack_top
		BL	svcCreateThread
		B	loc_101854
; ---------------------------------------------------------------------------

loc_1017C4				; CODE XREF: main+1C0j
		STR	R3, [R7,#(dword_10AD0C - 0x10ACF4)]
		BL	sub_100C14
		CMP	R0, #0
		BNE	loc_1017E8
		LDR	R3, [R5]
		LDR	R2, [R3,#4]
		LDR	R3, =0x3EA
		CMP	R2, R3
		BNE	loc_10181C

loc_1017E8				; CODE XREF: main+1F8j
		LDR	R3, [R4,#0x18]
		MOV	R1, #0x3F
		MOV	R2, #0xFFFFFFFE
		ADD	R3, R3,	#0x3FC0
		STMEA	SP, {R1,R2}
		ADD	R0, SP,	#0x28+thread ; thread
		LDR	R1, =sub_100EEC	; entrypoint
		MOV	R2, #0		; arg
		ADD	R3, R3,	#0x18	; stack_top
		BL	svcCreateThread
		LDR	R0, =0x3B9ACA00	; ns
		MOV	R1, #0
		BL	svcSleepThread

loc_10181C				; CODE XREF: main+20Cj
		LDR	R3, [R8,#0xC]
		CMP	R6, R3
		BNE	loc_101830
		BL	sub_103BF4
		B	loc_101854
; ---------------------------------------------------------------------------

loc_101830				; CODE XREF: main+24Cj
		LDR	R3, [R5]
		LDR	R2, [R3,#4]
		LDR	R3, =0x3E9
		CMP	R2, R3
		BNE	loc_101854
		MOV	R0, #0x64
		LDR	R1, =0x100FF00
		BL	sub_100E98
		BL	sub_1041D8

loc_101854				; CODE XREF: main+144j	main+14Cj ...
		MOV	R0, #0
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R8,PC}
; End of function main

; ---------------------------------------------------------------------------
off_101860	DCD nsDbgPrint		; DATA XREF: main+4r
off_101864	DCD IoBasePad		; DATA XREF: main+8r main+9Cr
dword_101868	DCD 0x109F01		; DATA XREF: main+20r
off_10186C	DCD sdmcArchive		; DATA XREF: main+38r
dword_101870	DCD 0x10A4DD		; DATA XREF: main+60r
off_101874	DCD aFirmVersionNot	; DATA XREF: main+7Cr
					; "firm version not supported"
dword_101878	DCD 0x109F25		; DATA XREF: main+90r
off_10187C	DCD aFirmwareVersio	; DATA XREF: main:loc_10168Cr
					; "firmware version not supported"
dword_101880	DCD 0x109F63		; DATA XREF: main+C0r
dword_101884	DCD 0x109F6D		; DATA XREF: main+CCr
dword_101888	DCD 0x109F77		; DATA XREF: main+D8r
dword_10188C	DCD 0x109F81		; DATA XREF: main+E4r
dword_101890	DCD 0xDFF80000		; DATA XREF: main+ECr
dword_101894	DCD 0x109F8B		; DATA XREF: main+F4r
off_101898	DCD aCurrentFirmwar	; DATA XREF: main+FCr
					; "current firmware not supported. \npleas"...
; s64 dword_10189C
dword_10189C	DCD 0x3B9ACA00		; DATA XREF: main:loc_1016DCr
					; main+238r
off_1018A0	DCD aKernelhaxDone	; DATA XREF: main+118r
					; "kernelhax done"
dword_1018A4	DCD 0x109FF3		; DATA XREF: main+12Cr
dword_1018A8	DCD 0x1FF0000		; DATA XREF: main+138r
off_1018AC	DCD dword_10AED4	; DATA XREF: main+150r
; uint32_t ptr
ptr		DCD locret_1001A0	; DATA XREF: main+184r	main+190r
off_1018B4	DCD dword_1085D4	; DATA XREF: main+1A8r
dword_1018B8	DCD 0x6001000		; DATA XREF: main+1B4r
; ThreadFunc entrypoint
entrypoint	DCD sub_101278		; DATA XREF: main+1D0r
; u32 *stack_top
stack_top	DCD 0x6004FD8		; DATA XREF: main+1E0r
dword_1018C4	DCD 0x3EA		; DATA XREF: main+204r
; ThreadFunc off_1018C8
off_1018C8	DCD sub_100EEC		; DATA XREF: main+228r
dword_1018CC	DCD 0x3E9		; DATA XREF: main+260r
dword_1018D0	DCD 0x100FF00		; DATA XREF: main+270r
; ---------------------------------------------------------------------------
; [00000010 BYTES: COLLAPSED CHUNK OF FUNCTION paint_pixel. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __fastcall write_byte(u32 address, u8 byte)
write_byte
		STRB	R1, [R0]
		BX	LR
; End of function write_byte


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; unsigned __int8 __fastcall nibble_to_readable(u8 nibble)
nibble_to_readable			; CODE XREF: sub_101900+18p
					; sub_101900+24p ...
		CMP	R0, #9
		ADDLS	R0, R0,	#0x30
		ADDHI	R0, R0,	#0x37
		UXTB	R0, R0
		BX	LR
; End of function nibble_to_readable


; =============== S U B	R O U T	I N E =======================================


; u32 __fastcall sub_101900(u8 byte, unsigned __int8 *ret, int max_len)
sub_101900				; CODE XREF: sub_100484+18p
		CMP	R2, #2
		BLE	locret_101938
		STMFD	SP!, {R3-R5,LR}
		MOV	R5, R0
		AND	R0, R0,	#0xF
		MOV	R4, R1
		BL	nibble_to_readable
		STRB	R0, [R4,#1]
		MOV	R0, R5,LSR#4	; nibble
		BL	nibble_to_readable
		STRB	R0, [R4]
		MOV	R0, #0
		STRB	R0, [R4,#2]
		LDMFD	SP!, {R3-R5,PC}
; ---------------------------------------------------------------------------

locret_101938				; CODE XREF: sub_101900+4j
		BX	LR
; End of function sub_101900


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; u32 __fastcall u32_to_string(u32 byte, unsigned __int8 *ret, int max_len)
u32_to_string				; CODE XREF: sub_1004CC+1Cp
		CMP	R2, #8
		BLE	locret_101990
		STMFD	SP!, {R4-R8,LR}
		MOV	R4, R1
		MOV	R7, R0
		ADD	R8, R1,	#8
		MOV	R5, #0
		MOV	R6, #0xF

loc_10195C				; CODE XREF: u32_to_string+44j
		AND	R3, R6,	R7
		MOV	R0, R5,LSL#2
		ADD	R5, R5,	#1
		MOV	R0, R3,LSR R0
		MOV	R6, R6,LSL#4
		UXTB	R0, R0
		BL	nibble_to_readable
		CMP	R5, #8
		STRB	R0, [R8,#-1]!
		BNE	loc_10195C
		MOV	R0, #0
		STRB	R0, [R4,#8]
		LDMFD	SP!, {R4-R8,PC}
; ---------------------------------------------------------------------------

locret_101990				; CODE XREF: u32_to_string+4j
		BX	LR
; End of function u32_to_string

; ---------------------------------------------------------------------------
		ALIGN 0x10

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __stdcall sleep(s64 ns)
sleep
		SVC	0xA
		BX	LR
; End of function sleep

; ---------------------------------------------------------------------------
		STMFD	SP!, {R3-R11,LR}
		MRS	R0, CPSR
		ORR	R0, R0,	#0xC0
		MSR	CPSR_cf, R0
		BL	sub_106ED4
		LDMFD	SP!, {R3-R11,PC}

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

InvalidateEntireInstructionCache	; CODE XREF: sub_106DD8+80p
					; sub_106E7C+44p
		MOV	R0, #0
		MCR	p15, 0,	R0,c7,c5, 0
		BX	LR
; End of function InvalidateEntireInstructionCache

; [0000000C BYTES: COLLAPSED FUNCTION CleanEntireDataCache. PRESS KEYPAD CTRL-"+" TO EXPAND]
nsDbgPrint_5	ALIGN 0x10

; =============== S U B	R O U T	I N E =======================================


sub_1019E0				; DATA XREF: sub_103100+Co
					; ROM:off_103150o
		LDR	R2, =dword_10AED4
		LDR	R3, [R2]
		LDR	R1, [R3,#0x14]
		LDR	R12, [R3,#0x10]
		CMP	R1, R12
		LDRCC	R3, [R3,#0xC]
		STRCCB	R0, [R3,R1]
		LDRCC	R2, [R2]
		LDRCC	R3, [R2,#0x14]
		ADDCC	R3, R3,	#1
		STRCC	R3, [R2,#0x14]
		BX	LR
; End of function sub_1019E0

; ---------------------------------------------------------------------------
off_101A10	DCD dword_10AED4	; DATA XREF: sub_1019E0r

; =============== S U B	R O U T	I N E =======================================


sub_101A14				; CODE XREF: sub_100BB4+3Cp
					; sub_101B44+11Cp ...

var_1C		= -0x1C
varg_r0		= -0x10
varg_r1		= -0xC
varg_r2		= -8
varg_r3		= -4

		STMFD	SP!, {R0-R3}
		STMFD	SP!, {R0,R1,R4,LR}
		ADD	R3, SP,	#0x20+varg_r1
		LDR	R4, =dword_10AED4
		STR	R3, [SP,#0x20+var_1C]
		LDR	R0, [R4]
		CMP	R0, #0
		BEQ	loc_101A60
		LDR	R3, [R0,#0x18]
		CMP	R3, #0
		BEQ	loc_101A60
		ADD	R0, R0,	#0x1C	; lock
		BL	rtAcquireLock
		LDR	R0, [SP,#0x20+varg_r0]
		LDR	R1, [SP,#0x20+var_1C]
		BL	sub_1078AC
		LDR	R0, [R4]
		ADD	R0, R0,	#0x1C	; lock
		BL	rtReleaseLock

loc_101A60				; CODE XREF: sub_101A14+1Cj
					; sub_101A14+28j
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4,LR}
		ADD	SP, SP,	#0x10
		BX	LR
; End of function sub_101A14

; ---------------------------------------------------------------------------
off_101A70	DCD dword_10AED4	; DATA XREF: sub_101A14+Cr

; =============== S U B	R O U T	I N E =======================================


sub_101A74				; CODE XREF: sub_10267C+94p
					; sub_102E64+54p
		LDR	R3, =dword_10AEC8
		LDR	R3, [R3]
		ADD	R1, R3,	#0x2000
		LDR	R0, [R3,#8]
		LDR	R2, [R1,#0x74]
		ADD	R1, R1,	#0x24
		STR	R2, [R1,#0x54]
		MOV	R2, #0x54
		B	sub_104EC0
; End of function sub_101A74

; ---------------------------------------------------------------------------
off_101A98	DCD dword_10AEC8	; DATA XREF: sub_101A74r

; =============== S U B	R O U T	I N E =======================================


sub_101A9C				; CODE XREF: sub_10267C+128p
					; sub_102E64+6Cp
		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R4,LR}
		MOV	R2, R1
		LDR	R12, [R3]
		ADD	LR, R12, #0x2000
		LDR	R1, [LR,#0x78]
		CMP	R1, R2
		BCC	loc_101AD8
		MOV	R4, R0
		RSB	R3, R2,	R1
		STR	R3, [LR,#0x78]
		MOV	R1, R4
		LDR	R0, [R12,#8]
		LDMFD	SP!, {R4,LR}
		B	sub_104EC0
; ---------------------------------------------------------------------------

loc_101AD8				; CODE XREF: sub_101A9C+1Cj
		LDR	R0, =aSendRemainSize ; "send remain < size: %08x, %08x"
		BL	showDbg
		MOV	R0, #0xFFFFFFFF
		LDMFD	SP!, {R4,PC}
; End of function sub_101A9C

; ---------------------------------------------------------------------------
off_101AE8	DCD dword_10AEC8	; DATA XREF: sub_101A9Cr
off_101AEC	DCD aSendRemainSize	; DATA XREF: sub_101A9C:loc_101AD8r
					; "send remain < size: %08x, %08x"

; =============== S U B	R O U T	I N E =======================================


sub_101AF0				; CODE XREF: sub_101B44+28p
					; sub_101B44+D8p ...
		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R4,LR}
		MOV	R2, R1
		LDR	R12, [R3]
		ADD	LR, R12, #0x2000
		LDR	R1, [LR,#0x78]
		CMP	R1, R2
		BCC	loc_101B2C
		MOV	R4, R0
		RSB	R3, R2,	R1
		STR	R3, [LR,#0x78]
		MOV	R1, R4
		LDR	R0, [R12,#8]
		LDMFD	SP!, {R4,LR}
		B	sub_104E64
; ---------------------------------------------------------------------------

loc_101B2C				; CODE XREF: sub_101AF0+1Cj
		LDR	R0, =0x10A023
		BL	showDbg
		MOV	R0, #0xFFFFFFFF
		LDMFD	SP!, {R4,PC}
; End of function sub_101AF0

; ---------------------------------------------------------------------------
off_101B3C	DCD dword_10AEC8	; DATA XREF: sub_101AF0r
dword_101B40	DCD 0x10A023		; DATA XREF: sub_101AF0:loc_101B2Cr

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame fpd=0x220

sub_101B44				; CODE XREF: sub_102E64+94p

var_250		= -0x250
openflags	= -0x244
attributes	= -0x240
out		= -0x234
var_230		= -0x230
var_22C		= -0x22C
var_228		= -0x228
var_224		= -0x224
var_20		= -0x20

		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x260	; archive
		LDR	R6, =dword_10AEC8
		ADD	R7, SP,	#0x40
		MOV	R1, #0x200
		LDR	R3, [R6]
		MOV	R0, R7
		ADD	R3, R3,	#0x2000
		MOV	R8, #0
		LDR	R4, [R3,#0x74]
		BL	sub_101AF0
		MOV	R3, #3
		MOV	R0, R7
		STRB	R3, [SP,#0x260+var_22C]
		STRB	R8, [SP,#0x260+var_20]
		BL	strlen
		ADD	R2, SP,	#0x260+var_22C
		STR	R7, [SP,#0x260+var_224]
		ADD	R3, SP,	#0x260+var_250
		LDR	R12, =sdmcArchive
		SUB	R4, R4,	#0x200
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x260+var_228]
		LDMIA	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x260+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R8, [SP,#0x260+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x260+out ; out
		BL	FSUSER_OpenFileDirectly
		SUBS	R1, R0,	#0
		MOVEQ	R5, R1
		LDREQ	R10, =0x1FFF
		MOVEQ	R9, R1
		BEQ	loc_101BF8
		LDR	R0, =aOpenfileFailed ; "openFile failed: %08x"
		MOV	R2, R8
		BL	showDbg
		B	loc_101C64
; ---------------------------------------------------------------------------

loc_101BF8				; CODE XREF: sub_101B44+A0j
					; sub_101B44+108j
		CMP	R4, #0
		BEQ	loc_101C50
		LDR	R0, [R6]
		CMP	R4, R10
		MOVLS	R8, R4
		MOVHI	R8, #0x2000
		ADD	R0, R0,	#0x2040
		MOV	R1, R8
		ADD	R0, R0,	#0x3C
		BL	sub_101AF0
		LDR	R3, [R6]
		MOV	R2, R5		; flushFlags
		ADD	R3, R3,	#0x2040
		ADD	R3, R3,	#0x3C
		LDR	R0, [SP,#0x260+out] ; data
		STMEA	SP, {R3,R8,R9}
		ADD	R1, SP,	#0x260+var_230 ; size
		MOV	R3, #0
		BL	FSFILE_Write
		RSB	R4, R8,	R4
		ADD	R5, R5,	R8
		B	loc_101BF8
; ---------------------------------------------------------------------------

loc_101C50				; CODE XREF: sub_101B44+B8j
		LDR	R0, [SP,#0x260+out] ; handle
		BL	svcCloseHandle
		LDR	R0, =aSavedToSSucces ; "saved to %s successfully\n"
		MOV	R1, R7
		BL	sub_101A14

loc_101C64				; CODE XREF: sub_101B44+B0j
		ADD	SP, SP,	#0x260
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_101B44

; ---------------------------------------------------------------------------
off_101C6C	DCD dword_10AEC8	; DATA XREF: sub_101B44+8r
off_101C70	DCD sdmcArchive		; DATA XREF: sub_101B44+4Cr
off_101C74	DCD fsUserHandle	; DATA XREF: sub_101B44+7Cr
dword_101C78	DCD 0x1FFF		; DATA XREF: sub_101B44+98r
off_101C7C	DCD aOpenfileFailed	; DATA XREF: sub_101B44+A4r
					; "openFile failed: %08x"
off_101C80	DCD aSavedToSSucces	; DATA XREF: sub_101B44+114r
					; "saved to %s successfully\n"

; =============== S U B	R O U T	I N E =======================================


sub_101C84				; CODE XREF: sub_102124+24p
		LDR	R3, =dword_10AEC8
		MOV	R0, #1
		MOV	R1, #0x15C
		LDR	R2, [R3]

loc_101C94				; CODE XREF: sub_101C84+30j
		MUL	R3, R1,	R0
		ADD	R3, R3,	#0x6000
		ADD	R3, R3,	#0x94
		LDR	R3, [R2,R3]
		CMP	R3, #0
		BXEQ	LR
		ADD	R0, R0,	#1
		CMP	R0, #0x40
		BNE	loc_101C94
		MOV	R0, #0xFFFFFFFF
		BX	LR
; End of function sub_101C84

; ---------------------------------------------------------------------------
off_101CC0	DCD dword_10AEC8	; DATA XREF: sub_101C84r

; =============== S U B	R O U T	I N E =======================================


sub_101CC4				; CODE XREF: sub_101FB0+68p
					; sub_102124+A4p
		LDR	R3, =dword_10AEC8
		MOV	R1, R0
		STMFD	SP!, {R4,LR}
		LDR	R0, [R3]
		MOV	R3, #0x15C
		MUL	R3, R3,	R1
		ADD	R2, R0,	R3
		ADD	R12, R2, #0x6100
		ADD	R12, R12, #0xE8
		LDR	LR, [R12,#4]
		CMP	LR, #0
		LDRNE	R0, =aBpDAlreadyEnab ; "bp %d already enabled\n"
		BNE	loc_101D30
		ADD	R2, R2,	#0x6000
		MOV	R4, R1
		LDR	R2, [R2,#0x94]
		MOV	R1, #1
		SUB	R2, R2,	#1
		CMP	R2, R1
		STR	R1, [R12,#4]
		BHI	loc_101D28
		ADD	R3, R3,	#0x6000
		ADD	R0, R0,	R3
		ADD	R0, R0,	#0xA0	; hook
		BL	rtEnableHook

loc_101D28				; CODE XREF: sub_101CC4+50j
		LDR	R0, =0x10A089
		MOV	R1, R4

loc_101D30				; CODE XREF: sub_101CC4+30j
		LDMFD	SP!, {R4,LR}
		B	sub_101A14
; End of function sub_101CC4

; ---------------------------------------------------------------------------
off_101D38	DCD dword_10AEC8	; DATA XREF: sub_101CC4r
off_101D3C	DCD aBpDAlreadyEnab	; DATA XREF: sub_101CC4+2Cr
					; "bp %d already enabled\n"
dword_101D40	DCD 0x10A089		; DATA XREF: sub_101CC4:loc_101D28r

; =============== S U B	R O U T	I N E =======================================


sub_101D44				; CODE XREF: sub_101DC4+3Cp
					; sub_102124+B8p
		LDR	R3, =dword_10AEC8
		MOV	R1, R0
		STMFD	SP!, {R4,LR}
		LDR	R0, [R3]
		MOV	R3, #0x15C
		MUL	R3, R3,	R1
		ADD	R2, R0,	R3
		ADD	R12, R2, #0x6100
		ADD	R12, R12, #0xE8
		LDR	LR, [R12,#4]
		CMP	LR, #0
		LDREQ	R0, =aBpDAlreadyDisa ; "bp %d already disabled\n"
		BEQ	loc_101DB0
		ADD	R2, R2,	#0x6000
		MOV	R4, R1
		LDR	R2, [R2,#0x94]
		MOV	R1, #0
		SUB	R2, R2,	#1
		CMP	R2, #1
		STR	R1, [R12,#4]
		BHI	loc_101DA8
		ADD	R3, R3,	#0x6000
		ADD	R0, R0,	R3
		ADD	R0, R0,	#0xA0	; hook
		BL	rtDisableHook

loc_101DA8				; CODE XREF: sub_101D44+50j
		LDR	R0, =aBpDDisabled ; "bp %d disabled\n"
		MOV	R1, R4

loc_101DB0				; CODE XREF: sub_101D44+30j
		LDMFD	SP!, {R4,LR}
		B	sub_101A14
; End of function sub_101D44

; ---------------------------------------------------------------------------
off_101DB8	DCD dword_10AEC8	; DATA XREF: sub_101D44r
off_101DBC	DCD aBpDAlreadyDisa	; DATA XREF: sub_101D44+2Cr
					; "bp %d already disabled\n"
off_101DC0	DCD aBpDDisabled	; DATA XREF: sub_101D44:loc_101DA8r
					; "bp %d disabled\n"

; =============== S U B	R O U T	I N E =======================================


sub_101DC4				; DATA XREF: sub_101EA4+A0o
					; ROM:off_101FA8o

var_1C		= -0x1C

		STMFD	SP!, {R0-R2,R4-R7,LR}
		MOV	R7, R0
		LDR	R5, =dword_10AEC8
		MOV	R6, R1
		LDR	R4, [R5]
		ADD	R0, R4,	#0x6000
		ADD	R0, R0,	#0x90	; lock
		BL	rtAcquireLock
		MOV	R3, #0x15C
		MLA	R3, R3,	R6, R4
		ADD	R3, R3,	#0x6000
		LDR	R3, [R3,#0x94]
		CMP	R3, #2
		BNE	loc_101E04
		MOV	R0, R6
		BL	sub_101D44

loc_101E04				; CODE XREF: sub_101DC4+34j
		LDR	R0, [R5]
		ADD	R4, R4,	#0xB000
		ADD	R0, R0,	#0xB700
		ADD	R0, R0,	#0x94	; lock
		BL	rtAcquireLock
		LDR	R0, [R5]
		MOV	R3, #0
		ADD	R0, R0,	#0xB700
		STR	R6, [R4,#0x798]
		STR	R7, [R4,#0x79C]
		STR	R3, [R4,#0x7A0]
		ADD	R0, R0,	#0x94	; lock
		BL	rtReleaseLock

loc_101E38				; CODE XREF: sub_101DC4+B0j
		LDR	R0, [R5]
		ADD	R0, R0,	#0xB700
		ADD	R0, R0,	#0x94	; lock
		BL	rtAcquireLock
		LDR	R0, [R5]
		LDR	R3, [R4,#0x7A0]
		ADD	R0, R0,	#0xB700
		ADD	R0, R0,	#0x94	; lock
		STR	R3, [SP,#0x20+var_1C]
		BL	rtReleaseLock
		LDR	R0, =0x5F5E100	; ns
		MOV	R1, #0
		BL	svcSleepThread
		LDR	R3, [SP,#0x20+var_1C]
		CMP	R3, #0
		BEQ	loc_101E38
		MOV	R3, #0
		STR	R3, [R4,#0x798]
		LDR	R3, =dword_10AEC8
		LDR	R0, [R3]
		ADD	R0, R0,	#0x6000
		ADD	R0, R0,	#0x90	; lock
		BL	rtReleaseLock
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_101DC4

; ---------------------------------------------------------------------------
off_101E9C	DCD dword_10AEC8	; DATA XREF: sub_101DC4+8r
					; sub_101DC4+BCr
; s64 dword_101EA0
dword_101EA0	DCD 0x5F5E100		; DATA XREF: sub_101DC4+9Cr

; =============== S U B	R O U T	I N E =======================================


sub_101EA4				; CODE XREF: sub_101FB0+44p
		STMFD	SP!, {R3-R9,LR}
		MOV	R8, R0
		LDR	R3, =dword_10AEC8
		MOV	R4, #0x15C
		MUL	R4, R4,	R8
		LDR	R6, [R3]
		BL	getCurrentProcessHandle
		ADD	R7, R6,	R4
		ADD	R7, R7,	#0x6000
		ADD	R9, R7,	#0x98
		MOV	R2, #8		; size
		LDR	R1, [R9,#4]	; addr
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R5, R0,	#0
		BEQ	loc_101EF4
		LDR	R0, =aRtcheckremotem ; "rtCheckRemoteMemoryRegionSafeForWrite f"...
		MOV	R1, R5
		BL	sub_101A14
		MOV	R0, R5
		LDMFD	SP!, {R3-R9,PC}
; ---------------------------------------------------------------------------

loc_101EF4				; CODE XREF: sub_101EA4+38j
		LDR	R3, [R7,#0x94]
		CMP	R3, #1
		ADDEQ	R4, R4,	#0x6100
		ADDEQ	R4, R6,	R4
		ADDEQ	R5, R4,	#0x2C
		BEQ	loc_101F14
		CMP	R3, #2
		LDREQ	R5, [R9,#4]

loc_101F14				; CODE XREF: sub_101EA4+64j
		MOV	R4, #0x15C
		LDR	R3, =sub_109DE0
		MLA	R4, R4,	R8, R6
		ADD	R1, R3,	#0x2C
		ADD	R4, R4,	#0x6100
		ADD	R4, R4,	#0x6C
		MOV	R2, R4

loc_101F30				; CODE XREF: sub_101EA4+98j
		LDR	R0, [R3],#4
		CMP	R3, R1
		STR	R0, [R2],#4
		BNE	loc_101F30
		MOV	R7, #0x15C
		LDR	R2, =sub_101DC4
		MUL	R7, R7,	R8
		MOV	R0, R4		; ptr
		ADD	R9, R6,	R7
		ADD	R3, R9,	#0x6100
		MOV	R1, #0x40	; size
		STR	R8, [R3,#0x98]
		STR	R2, [R3,#0x9C]
		STR	R5, [R3,#0xA0]
		BL	rtFlushInstructionCache
		ADD	R9, R9,	#0x6000
		ADD	R3, R7,	#0x6000
		ADD	R0, R6,	R3
		LDR	R1, [R9,#0x9C]	; funcAddr
		MOV	R2, R4		; callbackAddr
		ADD	R0, R0,	#0xA0	; hook
		BL	rtInitHook
		LDR	R0, =0x5F5E100	; ns
		MOV	R1, #0
		BL	svcSleepThread
		MOV	R0, #0
		LDMFD	SP!, {R3-R9,PC}
; End of function sub_101EA4

; ---------------------------------------------------------------------------
off_101F9C	DCD dword_10AEC8	; DATA XREF: sub_101EA4+8r
off_101FA0	DCD aRtcheckremotem	; DATA XREF: sub_101EA4+3Cr
					; "rtCheckRemoteMemoryRegionSafeForWrite f"...
off_101FA4	DCD sub_109DE0		; DATA XREF: sub_101EA4+74r
off_101FA8	DCD sub_101DC4		; DATA XREF: sub_101EA4+A0r
; s64 dword_101FAC
dword_101FAC	DCD 0x5F5E100		; DATA XREF: sub_101EA4+E4r

; =============== S U B	R O U T	I N E =======================================


sub_101FB0				; CODE XREF: sub_102124+4Cp
					; sub_103158+174p
		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R4-R6,LR}
		MOV	R6, R1
		LDR	R5, [R3]
		MOV	R3, #0x15C
		MOV	R12, #0
		MLA	R3, R3,	R0, R5
		MOV	R4, R0
		ADD	R1, R3,	#0x6000
		ADD	R3, R3,	#0x6100
		STR	R12, [R1,#0x98]
		STR	R2, [R1,#0x94]
		STR	R12, [R3,#0xEC]
		SUB	R3, R2,	#1
		CMP	R3, #1
		STR	R6, [R1,#0x9C]
		BHI	loc_10201C
		BL	sub_101EA4
		CMP	R0, #0
		BNE	loc_10201C
		LDR	R0, =aCodeBreakpoint ; "code breakpoint, id: %d, addr: %08x\n"
		MOV	R1, R4
		MOV	R2, R6
		BL	sub_101A14
		MOV	R0, R4
		LDMFD	SP!, {R4-R6,LR}
		B	sub_101CC4
; ---------------------------------------------------------------------------

loc_10201C				; CODE XREF: sub_101FB0+40j
					; sub_101FB0+4Cj
		MOV	R3, #0x15C
		LDR	R0, =0x10A119
		MLA	R4, R3,	R4, R5
		MOV	R3, #0
		ADD	R4, R4,	#0x6000
		ADD	R4, R4,	#0x90
		STR	R3, [R4,#4]
		LDMFD	SP!, {R4-R6,LR}
		B	sub_101A14
; End of function sub_101FB0

; ---------------------------------------------------------------------------
off_102040	DCD dword_10AEC8	; DATA XREF: sub_101FB0r
off_102044	DCD aCodeBreakpoint	; DATA XREF: sub_101FB0+50r
					; "code breakpoint, id: %d, addr: %08x\n"
dword_102048	DCD 0x10A119		; DATA XREF: sub_101FB0+70r

; =============== S U B	R O U T	I N E =======================================


sub_10204C				; CODE XREF: sub_102E64+124p

handle		= -0x658
var_654		= -0x654
var_650		= -0x650

		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x640
		LDR	R3, [R3]
		SUB	SP, SP,	#0xC
		ADD	R3, R3,	#0x2000
		ADD	R5, SP,	#0x658+var_650
		MOV	R2, #0
		SUB	R0, R5,	#8	; process
		LDR	R1, [R3,#0x34]	; processId
		STR	R2, [SP,#0x658+handle]
		BL	svcOpenProcess
		SUBS	R4, R0,	#0
		BEQ	loc_102090
		LDR	R0, =aOpenprocessF_1 ; "openprocess failed.\n"
		BL	sub_101A14
		B	loc_102104
; ---------------------------------------------------------------------------

loc_102090				; CODE XREF: sub_10204C+34j
		LDR	R0, [SP,#0x658+handle]
		BL	sub_10704C
		LDR	R3, =dword_108628
		MOV	R2, #4
		LDR	R1, [R3]
		ADD	R1, R0,	R1
		SUB	R0, R5,	#4
		BL	sub_10707C
		MOV	R0, R5
		LDR	R1, [SP,#0x658+var_654]
		MOV	R2, #0x640
		BL	sub_10707C

loc_1020C0				; CODE XREF: sub_10204C+A4j
		MOV	R3, R4,LSL#2
		ADD	R2, R5,	R3
		LDR	R2, [R2,#4]
		CMP	R2, #0
		BEQ	loc_1020E8
		LDRH	R3, [R5,R3]
		MOV	R1, R4,LSR#1
		LDR	R0, =0x10A147
		ORR	R1, R1,	R3,LSL#15
		BL	sub_101A14

loc_1020E8				; CODE XREF: sub_10204C+84j
		ADD	R4, R4,	#2
		CMP	R4, #0x190
		BNE	loc_1020C0
		LDR	R0, =0x109FEE
		BL	sub_101A14
		LDR	R0, [SP,#0x658+handle] ; handle
		BL	svcCloseHandle

loc_102104				; CODE XREF: sub_10204C+40j
		ADD	SP, SP,	#0x640
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_10204C

; ---------------------------------------------------------------------------
off_102110	DCD dword_10AEC8	; DATA XREF: sub_10204Cr
off_102114	DCD aOpenprocessF_1	; DATA XREF: sub_10204C+38r
					; "openprocess failed.\n"
off_102118	DCD dword_108628	; DATA XREF: sub_10204C+4Cr
dword_10211C	DCD 0x10A147		; DATA XREF: sub_10204C+90r
dword_102120	DCD 0x109FEE		; DATA XREF: sub_10204C+A8r

; =============== S U B	R O U T	I N E =======================================


sub_102124				; CODE XREF: sub_102E64+114p
		STMFD	SP!, {R4-R6,LR}
		LDR	R5, =dword_10AEC8
		LDR	R3, [R5]
		ADD	R3, R3,	#0x2000
		LDR	R4, [R3,#0x34]
		LDR	R6, [R3,#0x38]
		LDR	R3, [R3,#0x3C]
		CMP	R3, #1
		BNE	loc_102178
		BL	sub_101C84
		MOV	R5, R0
		MOV	R1, R5
		LDR	R0, =0x10A159
		BL	sub_101A14
		CMN	R5, #1
		LDMEQFD	SP!, {R4-R6,PC}
		MOV	R0, R5
		MOV	R1, R6
		MOV	R2, R4
		BL	sub_101FB0
		B	loc_1021E0
; ---------------------------------------------------------------------------

loc_102178				; CODE XREF: sub_102124+20j
		CMP	R3, #4
		BNE	loc_1021A4
		LDR	R0, =0x10A165
		BL	sub_101A14
		LDR	R3, [R5]
		MOV	R2, #1
		ADD	R3, R3,	#0xB000
		STR	R2, [R3,#0x7A0]
		MOV	R2, #0
		STR	R2, [R3,#0x7A4]
		B	loc_1021E0
; ---------------------------------------------------------------------------

loc_1021A4				; CODE XREF: sub_102124+58j
		CMP	R4, #0x3F
		BLS	loc_1021B8

loc_1021AC				; CODE XREF: sub_102124+C4j
		LDR	R0, =0x10A175
		LDMFD	SP!, {R4-R6,LR}
		B	sub_101A14
; ---------------------------------------------------------------------------

loc_1021B8				; CODE XREF: sub_102124+84j
		CMP	R3, #2
		BNE	loc_1021CC
		MOV	R0, R4
		LDMFD	SP!, {R4-R6,LR}
		B	sub_101CC4
; ---------------------------------------------------------------------------

loc_1021CC				; CODE XREF: sub_102124+98j
		CMP	R3, #3
		LDMNEFD	SP!, {R4-R6,PC}
		MOV	R0, R4
		LDMFD	SP!, {R4-R6,LR}
		B	sub_101D44
; ---------------------------------------------------------------------------

loc_1021E0				; CODE XREF: sub_102124+50j
					; sub_102124+7Cj
		CMP	R4, #0x3F
		LDMLSFD	SP!, {R4-R6,PC}
		B	loc_1021AC
; End of function sub_102124

; ---------------------------------------------------------------------------
off_1021EC	DCD dword_10AEC8	; DATA XREF: sub_102124+4r
dword_1021F0	DCD 0x10A159		; DATA XREF: sub_102124+30r
dword_1021F4	DCD 0x10A165		; DATA XREF: sub_102124+5Cr
dword_1021F8	DCD 0x10A175		; DATA XREF: sub_102124:loc_1021ACr

; =============== S U B	R O U T	I N E =======================================


sub_1021FC				; CODE XREF: sub_102E64+A4p

var_50		= -0x50
openflags	= -0x44
attributes	= -0x40
addr_out	= -0x34
out		= -0x30
var_2C		= -0x2C
size		= -0x28
var_1C		= -0x1C
var_18		= -0x18
var_14		= -0x14
var_10		= -0x10

		LDR	R3, =dword_10AED4
		STMFD	SP!, {R4-R6,LR}
		MOV	R2, #1
		LDR	R3, [R3]
		LDR	R4, =dword_10AEC8
		SUB	SP, SP,	#0x50	; op
		STR	R2, [R3]
		LDR	R3, [R4]
		MOV	R6, #3
		LDR	R0, [R3,#8]
		BL	sub_105B68
		LDR	R3, [R4]
		MOV	R4, #0
		LDR	R0, [R3,#4]
		BL	sub_105B68
		MOV	R3, #0xB
		STR	R3, [SP,#0x60+var_18]
		ADD	R2, SP,	#0x60+var_10
		LDR	R3, =0x10A183
		STRB	R6, [SP,#0x60+var_1C]
		STR	R3, [SP,#0x60+var_14]
		LDMDB	R2, {R0-R2}
		ADD	R3, SP,	#0x60+var_50
		LDR	R12, =sdmcArchive
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x60+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R4, [SP,#0x60+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x60+out ; out
		BL	FSUSER_OpenFileDirectly
		SUBS	R5, R0,	#0
		MOVNE	R1, R5
		LDRNE	R0, =aOpenfileFailed ; "openFile failed: %08x"
		BNE	loc_10233C
		LDR	R0, [SP,#0x60+out] ; handle
		ADD	R1, SP,	#0x60+size ; size
		BL	FSFILE_GetSize
		SUBS	R4, R0,	#0
		LDRNE	R0, =aFsfile_getsize ; "FSFILE_GetSize failed: %08x"
		MOVNE	R1, R4
		MOVNE	R2, R5
		BNE	loc_102340
		LDR	R0, [SP,#0x60+size] ; size
		BL	rtAlignToPageSize
		LDR	R3, =0x10003
		MOV	R1, R4		; addr0
		MOV	R2, R4		; addr1
		STMEA	SP, {R3,R6}
		MOV	R5, R0
		MOV	R3, R5		; size
		ADD	R0, SP,	#0x60+addr_out ; addr_out
		BL	svcControlMemory
		SUBS	R6, R0,	#0
		MOVNE	R1, R6
		LDRNE	R0, =aSvc_controlmem ; "svc_controlMemory failed: %08x"
		BNE	loc_10233C
		LDR	R3, [SP,#0x60+addr_out]
		LDR	R0, [SP,#0x60+out] ; buffer
		ADD	R1, SP,	#0x60+var_2C ; size
		STMEA	SP, {R3,R5}
		MOV	R2, #0
		MOV	R3, #0
		BL	FSFILE_Read
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A1C9
		MOVNE	R1, R4
		MOVNE	R2, R6
		BNE	loc_102340
		MOV	R1, R5		; size
		LDR	R0, [SP,#0x60+addr_out]	; addr
		BL	protectMemory
		SUBS	R1, R0,	#0
		BEQ	loc_102348
		LDR	R0, =aProtectmemoryF ; "protectMemory failed: %08x"

loc_10233C				; CODE XREF: sub_1021FC+9Cj
					; sub_1021FC+F4j
		MOV	R2, R4

loc_102340				; CODE XREF: sub_1021FC+BCj
					; sub_1021FC+124j
		BL	showDbg
		B	loc_102354
; ---------------------------------------------------------------------------

loc_102348				; CODE XREF: sub_1021FC+138j
		LDR	R3, [SP,#0x60+addr_out]
		BLX	R3
		BL	svcExitThread
; ---------------------------------------------------------------------------

loc_102354				; CODE XREF: sub_1021FC+148j
		ADD	SP, SP,	#0x50
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_1021FC

; ---------------------------------------------------------------------------
off_10235C	DCD dword_10AED4	; DATA XREF: sub_1021FCr
off_102360	DCD dword_10AEC8	; DATA XREF: sub_1021FC+10r
dword_102364	DCD 0x10A183		; DATA XREF: sub_1021FC+48r
off_102368	DCD sdmcArchive		; DATA XREF: sub_1021FC+5Cr
off_10236C	DCD fsUserHandle	; DATA XREF: sub_1021FC+7Cr
off_102370	DCD aOpenfileFailed	; DATA XREF: sub_1021FC+98r
					; "openFile failed: %08x"
off_102374	DCD aFsfile_getsize	; DATA XREF: sub_1021FC+B0r
					; "FSFILE_GetSize failed: %08x"
dword_102378	DCD 0x10003		; DATA XREF: sub_1021FC+C8r
off_10237C	DCD aSvc_controlmem	; DATA XREF: sub_1021FC+F0r
					; "svc_controlMemory failed: %08x"
dword_102380	DCD 0x10A1C9		; DATA XREF: sub_1021FC+118r
off_102384	DCD aProtectmemoryF	; DATA XREF: sub_1021FC+13Cr
					; "protectMemory failed: %08x"

; =============== S U B	R O U T	I N E =======================================


sub_102388				; CODE XREF: sub_102E64+B4p

var_1D8		= -0x1D8
var_1D4		= -0x1D4
processCount	= -0x1CC
var_1C8		= -0x1C8
var_1C4		= -0x1C4
var_1C0		= -0x1C0
var_1B4		= -0x1B4
processIds	= -0x1A0

		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x1CC
		ADD	R5, SP,	#0x1D8+processIds
		MOV	R1, R5		; processIds
		ADD	R0, SP,	#0x1D8+processCount ; processCount
		MOV	R2, #0x64	; processIdMaxCount
		BL	svcGetProcessList
		SUBS	R1, R0,	#0
		MOVEQ	R4, R1
		BEQ	loc_102408
		LDR	R0, =0x10A1FD
		BL	sub_101A14
		B	loc_10241C
; ---------------------------------------------------------------------------

loc_1023BC				; CODE XREF: sub_102388+88j
		ADD	R1, SP,	#0x1D8+var_1B4
		LDR	R0, [R5,R4,LSL#2]
		ADD	R2, SP,	#0x1D8+var_1C4
		ADD	R3, SP,	#0x1D8+var_1C8
		BL	sub_104578
		SUBS	R1, R0,	#0
		BEQ	loc_1023E0
		LDR	R0, =aGetprocessinfo ; "getProcessInfo failed: %08x\n"
		BL	sub_101A14

loc_1023E0				; CODE XREF: sub_102388+4Cj
		LDR	R3, [SP,#0x1D8+var_1C4]
		LDR	R0, =0x10A237
		STR	R3, [SP,#0x1D8+var_1D8]
		LDR	R3, [SP,#0x1D8+var_1C8]
		ADD	R2, SP,	#0x1D8+var_1B4
		STR	R3, [SP,#0x1D8+var_1D4]
		LDR	R3, [SP,#0x1D8+var_1C0]
		LDR	R1, [R5,R4,LSL#2]
		BL	sub_101A14
		ADD	R4, R4,	#1

loc_102408				; CODE XREF: sub_102388+24j
		LDR	R3, [SP,#0x1D8+processCount]
		CMP	R4, R3
		BCC	loc_1023BC
		LDR	R0, =aEndOfProcessLi ; "end of process list.\n"
		BL	sub_101A14

loc_10241C				; CODE XREF: sub_102388+30j
		ADD	SP, SP,	#0x1CC
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_102388

; ---------------------------------------------------------------------------
dword_102424	DCD 0x10A1FD		; DATA XREF: sub_102388+28r
off_102428	DCD aGetprocessinfo	; DATA XREF: sub_102388+50r
					; "getProcessInfo failed: %08x\n"
dword_10242C	DCD 0x10A237		; DATA XREF: sub_102388+5Cr
off_102430	DCD aEndOfProcessLi	; DATA XREF: sub_102388+8Cr
					; "end of process list.\n"

; =============== S U B	R O U T	I N E =======================================


sub_102434				; CODE XREF: sub_102E64+E4p

hProcess	= -0x1C

		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R0-R2,R4-R7,LR}
		ADD	R0, SP,	#0x20+hProcess ; process
		LDR	R3, [R3]
		ADD	R3, R3,	#0x2000
		LDR	R1, [R3,#0x34]	; processId
		BL	svcOpenProcess
		SUBS	R5, R0,	#0
		BEQ	loc_102474
		LDR	R0, =aOpenprocessF_2 ; "openProcess failed: %08x\n"
		MOV	R1, R5
		MOV	R2, #0
		BL	sub_101A14
		MOV	R3, #0
		STR	R3, [SP,#0x20+hProcess]
		B	loc_1024DC
; ---------------------------------------------------------------------------

loc_102474				; CODE XREF: sub_102434+20j
		LDR	R0, =aValidMemregion ; "valid memregions:\n"
		BL	sub_101A14
		MOV	R4, #0x100000
		MOV	R7, R5

loc_102484				; CODE XREF: sub_102434+9Cj
		LDR	R0, [SP,#0x20+hProcess]	; hProcess
		MOV	R1, R4		; addr
		MOV	R2, #0x1000	; size
		BL	protectRemoteMemory
		CLZ	R6, R0
		MOV	R6, R6,LSR#5
		CMP	R6, R7
		BEQ	loc_1024C8
		CMP	R7, #0
		BEQ	loc_1024C0
		LDR	R0, =0x10A2AF
		MOV	R1, R5
		SUB	R2, R4,	#1
		RSB	R3, R5,	R4
		BL	sub_101A14

loc_1024C0				; CODE XREF: sub_102434+74j
		MOV	R5, R4
		MOV	R7, R6

loc_1024C8				; CODE XREF: sub_102434+6Cj
		ADD	R4, R4,	#0x1000
		CMP	R4, #0x1EC00000
		BNE	loc_102484
		LDR	R0, =0x10A2C9
		BL	sub_101A14

loc_1024DC				; CODE XREF: sub_102434+3Cj
		LDR	R0, [SP,#0x20+hProcess]	; handle
		CMP	R0, #0
		BEQ	loc_1024EC
		BL	svcCloseHandle

loc_1024EC				; CODE XREF: sub_102434+B0j
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_102434

; ---------------------------------------------------------------------------
off_1024F4	DCD dword_10AEC8	; DATA XREF: sub_102434r
off_1024F8	DCD aOpenprocessF_2	; DATA XREF: sub_102434+24r
					; "openProcess failed: %08x\n"
off_1024FC	DCD aValidMemregion	; DATA XREF: sub_102434:loc_102474r
					; "valid memregions:\n"
dword_102500	DCD 0x10A2AF		; DATA XREF: sub_102434+78r
dword_102504	DCD 0x10A2C9		; DATA XREF: sub_102434+A0r

; =============== S U B	R O U T	I N E =======================================


sub_102508				; CODE XREF: sub_102E64+104p

var_30		= -0x30
hProcess	= -0x24

		STMFD	SP!, {R0-R10,LR}
		LDR	R8, =dword_10AEC8
		LDR	R3, [R8]
		ADD	R3, R3,	#0x2000
		LDR	R7, [R3,#0x34]
		LDR	R4, [R3,#0x38]
		CMN	R7, #1
		LDR	R5, [R3,#0x3C]
		BNE	loc_102538
		BL	getCurrentProcessHandle
		STR	R0, [SP,#0x30+hProcess]
		B	loc_102564
; ---------------------------------------------------------------------------

loc_102538				; CODE XREF: sub_102508+20j
		MOV	R1, R7		; processId
		ADD	R0, SP,	#0x30+hProcess ; process
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		BEQ	loc_102564
		LDR	R0, =aOpenprocessFai ; "openProcess failed: %08x, pid: %08x\n"
		MOV	R2, R7
		BL	sub_101A14
		MOV	R3, #0
		STR	R3, [SP,#0x30+hProcess]
		B	loc_102644
; ---------------------------------------------------------------------------

loc_102564				; CODE XREF: sub_102508+2Cj
					; sub_102508+40j
		CMN	R4, #0xE0000001
		BLS	loc_102578

loc_10256C				; CODE XREF: sub_102508+84j
		LDR	R10, =0xFFF
		LDR	R9, =dword_10AEC8
		B	loc_1025F0
; ---------------------------------------------------------------------------

loc_102578				; CODE XREF: sub_102508+60j
		MOV	R1, R4		; addr
		LDR	R0, [SP,#0x30+hProcess]	; hProcess
		MOV	R2, R5		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R1, R0,	#0
		BEQ	loc_10256C
		LDR	R0, =0x10A301
		MOV	R2, #0
		BL	sub_101A14
		B	loc_102644
; ---------------------------------------------------------------------------

loc_1025A0				; CODE XREF: sub_102508+ECj
		LDR	R0, [R8]
		CMP	R5, R10
		MOVLS	R6, R5
		MOVHI	R6, #0x1000
		ADD	R0, R0,	#0x2040
		ADD	R0, R0,	#0x3C
		MOV	R1, R6
		BL	sub_101AF0
		CMN	R7, #1
		BNE	loc_102604
		LDR	R1, [R9]
		CMP	R4, #0x20000000
		ADD	R1, R1,	#0x2040
		MOV	R0, R4
		ADD	R1, R1,	#0x3C
		MOV	R2, R6
		BLS	loc_1025FC
		BL	sub_10707C

loc_1025E8				; CODE XREF: sub_102508+F8j
					; sub_102508+120j ...
		ADD	R4, R4,	R6
		RSB	R5, R6,	R5

loc_1025F0				; CODE XREF: sub_102508+6Cj
		CMP	R5, #0
		BNE	loc_1025A0
		B	loc_10263C
; ---------------------------------------------------------------------------

loc_1025FC				; CODE XREF: sub_102508+D8j
		BL	memcpy
		B	loc_1025E8
; ---------------------------------------------------------------------------

loc_102604				; CODE XREF: sub_102508+BCj
		LDR	R3, [R9]
		MOV	R1, R4
		ADD	R3, R3,	#0x2040
		STR	R6, [SP,#0x30+var_30]
		LDR	R0, [SP,#0x30+hProcess]
		LDR	R2, =0xFFFF8001
		ADD	R3, R3,	#0x3C
		BL	sub_1043C0
		SUBS	R1, R0,	#0
		BEQ	loc_1025E8
		LDR	R0, =0x10A335
		MOV	R2, R4
		BL	sub_101A14
		B	loc_1025E8
; ---------------------------------------------------------------------------

loc_10263C				; CODE XREF: sub_102508+F0j
		LDR	R0, =aFinished	; "finished"
		BL	sub_101A14

loc_102644				; CODE XREF: sub_102508+58j
					; sub_102508+94j
		LDR	R0, [SP,#0x30+hProcess]	; handle
		CMP	R0, #0
		CMNNE	R7, #1
		BEQ	loc_102658
		BL	svcCloseHandle

loc_102658				; CODE XREF: sub_102508+148j
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_102508

; ---------------------------------------------------------------------------
off_102660	DCD dword_10AEC8	; DATA XREF: sub_102508+4r
					; sub_102508+68r
off_102664	DCD aOpenprocessFai	; DATA XREF: sub_102508+44r
					; "openProcess failed: %08x, pid: %08x\n"
dword_102668	DCD 0xFFF		; DATA XREF: sub_102508:loc_10256Cr
dword_10266C	DCD 0x10A301		; DATA XREF: sub_102508+88r
dword_102670	DCD 0xFFFF8001		; DATA XREF: sub_102508+110r
dword_102674	DCD 0x10A335		; DATA XREF: sub_102508+124r
off_102678	DCD aFinished		; DATA XREF: sub_102508:loc_10263Cr
					; "finished"

; =============== S U B	R O U T	I N E =======================================


sub_10267C				; CODE XREF: sub_102E64+F4p

var_30		= -0x30
hProcess	= -0x24

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x14
		LDR	R6, =dword_10AEC8
		LDR	R7, [R6]
		ADD	R7, R7,	#0x2000
		LDR	R8, [R7,#0x34]
		LDR	R4, [R7,#0x38]
		CMN	R8, #1
		LDR	R5, [R7,#0x3C]
		BNE	loc_1026B0
		BL	getCurrentProcessHandle
		STR	R0, [SP,#0x30+hProcess]
		B	loc_1026DC
; ---------------------------------------------------------------------------

loc_1026B0				; CODE XREF: sub_10267C+24j
		MOV	R1, R8		; processId
		ADD	R0, SP,	#0x30+hProcess ; process
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		BEQ	loc_1026DC
		LDR	R0, =aOpenprocessFai ; "openProcess failed: %08x, pid: %08x\n"
		MOV	R2, R8
		BL	sub_101A14
		MOV	R3, #0
		STR	R3, [SP,#0x30+hProcess]
		B	loc_1027BC
; ---------------------------------------------------------------------------

loc_1026DC				; CODE XREF: sub_10267C+30j
					; sub_10267C+44j
		CMN	R4, #0xE0000001
		BHI	loc_10270C
		MOV	R1, R4		; addr
		LDR	R0, [SP,#0x30+hProcess]	; hProcess
		MOV	R2, R5		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R1, R0,	#0
		BEQ	loc_10270C
		LDR	R0, =0x10A301
		MOV	R2, #0
		BL	sub_101A14
		B	loc_1027BC
; ---------------------------------------------------------------------------

loc_10270C				; CODE XREF: sub_10267C+64j
					; sub_10267C+7Cj
		STR	R5, [R7,#0x74]
		BL	sub_101A74
		LDR	R9, =0xFFF

loc_102718				; CODE XREF: sub_10267C+134j
		CMP	R5, #0
		BEQ	loc_1027B4
		CMP	R5, R9
		MOVLS	R7, R5
		MOVHI	R7, #0x1000
		CMN	R8, #1
		BNE	loc_102760
		LDR	R0, [R6]
		CMP	R4, #0x20000000
		ADD	R0, R0,	#0x2040
		ADD	R0, R0,	#0x3C
		MOV	R1, R4
		MOV	R2, R7
		BLS	loc_102758
		BL	sub_10707C
		B	loc_102794
; ---------------------------------------------------------------------------

loc_102758				; CODE XREF: sub_10267C+D0j
		BL	memcpy
		B	loc_102794
; ---------------------------------------------------------------------------

loc_102760				; CODE XREF: sub_10267C+B4j
		LDR	R1, [R6]
		STR	R7, [SP,#0x30+var_30]
		ADD	R1, R1,	#0x2040
		ADD	R1, R1,	#0x3C
		LDR	R0, =0xFFFF8001
		LDR	R2, [SP,#0x30+hProcess]
		MOV	R3, R4
		BL	sub_1043C0
		SUBS	R1, R0,	#0
		BEQ	loc_102794
		LDR	R0, =0x10A335
		MOV	R2, R4
		BL	sub_101A14

loc_102794				; CODE XREF: sub_10267C+D8j
					; sub_10267C+E0j ...
		LDR	R0, [R6]
		MOV	R1, R7
		ADD	R0, R0,	#0x2040
		ADD	R0, R0,	#0x3C
		BL	sub_101A9C
		ADD	R4, R4,	R7
		RSB	R5, R7,	R5
		B	loc_102718
; ---------------------------------------------------------------------------

loc_1027B4				; CODE XREF: sub_10267C+A0j
		LDR	R0, =aFinished	; "finished"
		BL	sub_101A14

loc_1027BC				; CODE XREF: sub_10267C+5Cj
					; sub_10267C+8Cj
		LDR	R0, [SP,#0x30+hProcess]	; handle
		CMP	R0, #0
		CMNNE	R8, #1
		BEQ	loc_1027D0
		BL	svcCloseHandle

loc_1027D0				; CODE XREF: sub_10267C+14Cj
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4-R9,PC}
; End of function sub_10267C

; ---------------------------------------------------------------------------
off_1027D8	DCD dword_10AEC8	; DATA XREF: sub_10267C+8r
off_1027DC	DCD aOpenprocessFai	; DATA XREF: sub_10267C+48r
					; "openProcess failed: %08x, pid: %08x\n"
dword_1027E0	DCD 0x10A301		; DATA XREF: sub_10267C+80r
dword_1027E4	DCD 0xFFF		; DATA XREF: sub_10267C+98r
dword_1027E8	DCD 0xFFFF8001		; DATA XREF: sub_10267C+F4r
dword_1027EC	DCD 0x10A335		; DATA XREF: sub_10267C+10Cr
off_1027F0	DCD aFinished		; DATA XREF: sub_10267C:loc_1027B4r
					; "finished"

; =============== S U B	R O U T	I N E =======================================


sub_1027F4				; CODE XREF: sub_10298C+FCp
					; sub_102AC4+C0p

var_B0C		= -0xB0C
threadIds	= -0xB08
var_978		= -0x978
var_7E8		= -0x7E8
var_660		= -0x660
var_620		= -0x620
var_61C		= -0x61C

		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0xAF0
		SUB	SP, SP,	#0xC
		MOV	R6, R0
		ADD	R5, SP,	#0xB10+threadIds
		MOV	R1, R5		; threadIds
		SUB	R0, R5,	#4	; threadCount
		MOV	R2, #0x64	; threadIdMaxCount
		MOV	R3, R6		; domain
		BL	svcGetThreadList
		SUBS	R1, R0,	#0
		MOVEQ	R4, R1
		BEQ	loc_102838
		LDR	R0, =0x10A369
		BL	sub_101A14
		MOV	R0, #0
		B	loc_102970
; ---------------------------------------------------------------------------

loc_102838				; CODE XREF: sub_1027F4+30j
					; sub_1027F4+98j
		LDR	R3, [SP,#0xB10+var_B0C]
		CMP	R4, R3
		BCS	loc_102890
		ADD	R0, SP,	#0xB10+var_660
		LDR	R7, [R5,R4,LSL#2]
		MOV	R1, #0x33
		MOV	R2, #0x640
		ADD	R0, R0,	#8
		BL	memset
		ADD	R2, SP,	#0xB10+var_660
		ADD	R2, R2,	#8
		MOV	R0, R6
		MOV	R1, R7
		BL	sub_105168
		LDR	R2, [SP,#0xB10+var_61C]
		ADD	R3, SP,	#0xB10+var_978
		STR	R2, [R3,R4,LSL#2]
		LDR	R2, [SP,#0xB10+var_620]
		ADD	R3, SP,	#0xB10+var_7E8
		STR	R2, [R3,R4,LSL#2]
		ADD	R4, R4,	#1
		B	loc_102838
; ---------------------------------------------------------------------------

loc_102890				; CODE XREF: sub_1027F4+4Cj
		LDR	R0, =0x10A385
		BL	sub_101A14
		MOV	R4, #0
		MOV	R5, R4

loc_1028A0				; CODE XREF: sub_1027F4+108j
		LDR	R2, [SP,#0xB10+var_B0C]
		CMP	R5, R2
		BCS	loc_102900
		MOV	R3, #0

loc_1028B0				; CODE XREF: sub_1027F4+E4j
		CMP	R3, R2
		BEQ	loc_1028DC
		CMP	R5, R3
		BEQ	loc_1028D4
		ADD	R1, SP,	#0xB10+var_978
		LDR	R0, [R1,R5,LSL#2]
		LDR	R1, [R1,R3,LSL#2]
		CMP	R0, R1
		BEQ	loc_1028F8

loc_1028D4				; CODE XREF: sub_1027F4+C8j
		ADD	R3, R3,	#1
		B	loc_1028B0
; ---------------------------------------------------------------------------

loc_1028DC				; CODE XREF: sub_1027F4+C0j
		ADD	R3, SP,	#0xB10+var_978
		LDR	R0, =(aRunappletTid00+0x1C)
		LDR	R6, [R3,R5,LSL#2]
		MOV	R1, R6
		BL	sub_101A14
		CMP	R4, #0
		MOVEQ	R4, R6

loc_1028F8				; CODE XREF: sub_1027F4+DCj
		ADD	R5, R5,	#1
		B	loc_1028A0
; ---------------------------------------------------------------------------

loc_102900				; CODE XREF: sub_1027F4+B4j
		LDR	R0, =aRecommendLr ; "recommend lr:\n"
		BL	sub_101A14
		MOV	R5, #0

loc_10290C				; CODE XREF: sub_1027F4+174j
		LDR	R2, [SP,#0xB10+var_B0C]
		CMP	R5, R2
		BCS	loc_10296C
		MOV	R3, #0

loc_10291C				; CODE XREF: sub_1027F4+150j
		CMP	R3, R2
		BEQ	loc_102948
		CMP	R5, R3
		BEQ	loc_102940
		ADD	R1, SP,	#0xB10+var_7E8
		LDR	R0, [R1,R5,LSL#2]
		LDR	R1, [R1,R3,LSL#2]
		CMP	R0, R1
		BEQ	loc_102964

loc_102940				; CODE XREF: sub_1027F4+134j
		ADD	R3, R3,	#1
		B	loc_10291C
; ---------------------------------------------------------------------------

loc_102948				; CODE XREF: sub_1027F4+12Cj
		ADD	R3, SP,	#0xB10+var_7E8
		LDR	R0, =(aRunappletTid00+0x1C)
		LDR	R6, [R3,R5,LSL#2]
		MOV	R1, R6
		BL	sub_101A14
		CMP	R4, #0
		MOVEQ	R4, R6

loc_102964				; CODE XREF: sub_1027F4+148j
		ADD	R5, R5,	#1
		B	loc_10290C
; ---------------------------------------------------------------------------

loc_10296C				; CODE XREF: sub_1027F4+120j
		MOV	R0, R4

loc_102970				; CODE XREF: sub_1027F4+40j
		ADD	SP, SP,	#0xAF0
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_1027F4

; ---------------------------------------------------------------------------
dword_10297C	DCD 0x10A369		; DATA XREF: sub_1027F4+34r
dword_102980	DCD 0x10A385		; DATA XREF: sub_1027F4:loc_102890r
off_102984	DCD aRunappletTid00+0x1C ; DATA	XREF: sub_1027F4+ECr
					; sub_1027F4+158r
off_102988	DCD aRecommendLr	; DATA XREF: sub_1027F4:loc_102900r
					; "recommend lr:\n"

; =============== S U B	R O U T	I N E =======================================


sub_10298C				; CODE XREF: sub_102E64+C4p

handle		= -0x7F0
var_7EC		= -0x7EC
var_7E8		= -0x7E8
var_658		= -0x658
var_620		= -0x620
var_61C		= -0x61C

		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0x7D0
		LDR	R3, [R3]
		SUB	SP, SP,	#0xC
		ADD	R3, R3,	#0x2000
		ADD	R5, SP,	#0x7F0+var_7E8
		LDR	R1, [R3,#0x34]	; processId
		SUB	R0, R5,	#8	; process
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		BEQ	loc_1029D4
		LDR	R0, =aOpenprocessF_2 ; "openProcess failed: %08x\n"
		MOV	R2, #0
		BL	sub_101A14
		MOV	R3, #0
		STR	R3, [SP,#0x7F0+handle]
		B	loc_102A8C
; ---------------------------------------------------------------------------

loc_1029D4				; CODE XREF: sub_10298C+2Cj
		MOV	R1, R5		; threadIds
		SUB	R0, R5,	#4	; threadCount
		MOV	R2, #0x64	; threadIdMaxCount
		LDR	R3, [SP,#0x7F0+handle] ; domain
		BL	svcGetThreadList
		SUBS	R1, R0,	#0
		MOVEQ	R4, R1
		ADDEQ	R7, SP,	#0x7F0+var_658
		BEQ	loc_102A30
		LDR	R0, =0x10A369
		BL	sub_101A14
		B	loc_102A9C
; ---------------------------------------------------------------------------

loc_102A04				; CODE XREF: sub_10298C+8Cj
					; sub_10298C+F4j
		LDR	R1, [R7,R6,LSL#2]
		LDR	R0, =0x10A4FE
		ADD	R6, R6,	#1
		BL	sub_101A14
		CMP	R6, #0x20
		BNE	loc_102A04
		LDR	R0, =(aWillListenAtPo+0x17)
		BL	sub_101A14
		MOV	R0, #0		; handle
		BL	svcCloseHandle
		ADD	R4, R4,	#1

loc_102A30				; CODE XREF: sub_10298C+68j
		LDR	R3, [SP,#0x7F0+var_7EC]
		CMP	R4, R3
		BCS	loc_102A84
		LDR	R6, [R5,R4,LSL#2]
		LDR	R0, =0x10A3A3
		MOV	R1, R6
		BL	sub_101A14
		MOV	R1, #0x33
		MOV	R2, #0x640
		MOV	R0, R7
		BL	memset
		MOV	R1, R6
		MOV	R2, R7
		LDR	R0, [SP,#0x7F0+handle]
		BL	sub_105168
		LDR	R0, =aPc08xLr08x ; "pc: %08x, lr: %08x\n"
		LDR	R1, [SP,#0x7F0+var_61C]
		LDR	R2, [SP,#0x7F0+var_620]
		BL	sub_101A14
		MOV	R6, #0
		B	loc_102A04
; ---------------------------------------------------------------------------

loc_102A84				; CODE XREF: sub_10298C+ACj
		LDR	R0, [SP,#0x7F0+handle]
		BL	sub_1027F4

loc_102A8C				; CODE XREF: sub_10298C+44j
		LDR	R0, [SP,#0x7F0+handle] ; handle
		CMP	R0, #0
		BEQ	loc_102A9C
		BL	svcCloseHandle

loc_102A9C				; CODE XREF: sub_10298C+74j
					; sub_10298C+108j
		ADD	SP, SP,	#0x7D0
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_10298C

; ---------------------------------------------------------------------------
off_102AA8	DCD dword_10AEC8	; DATA XREF: sub_10298Cr
off_102AAC	DCD aOpenprocessF_2	; DATA XREF: sub_10298C+30r
					; "openProcess failed: %08x\n"
dword_102AB0	DCD 0x10A369		; DATA XREF: sub_10298C+6Cr
dword_102AB4	DCD 0x10A4FE		; DATA XREF: sub_10298C+7Cr
off_102AB8	DCD aWillListenAtPo+0x17 ; DATA	XREF: sub_10298C+90r
dword_102ABC	DCD 0x10A3A3		; DATA XREF: sub_10298C+B4r
off_102AC0	DCD aPc08xLr08x		; DATA XREF: sub_10298C+E0r
					; "pc: %08x, lr: %08x\n"

; =============== S U B	R O U T	I N E =======================================


sub_102AC4				; CODE XREF: sub_1014DC+6Cp
					; sub_102CA8+74p ...

var_78		= -0x78
var_70		= -0x70
var_6C		= -0x6C

		LDR	R3, =dword_10AEE8
		STMFD	SP!, {R4-R9,LR}
		MOV	R6, R0
		LDR	R8, [R3]
		LDR	R3, =dword_10AEEC
		SUB	SP, SP,	#0x5C
		MOV	R5, R1
		LDR	R9, [R3]
		MOV	R7, R2
		LDR	R0, =aBuf08xSize08x ; "buf: %08x, size: %08x\n"
		MOV	R1, R8
		MOV	R2, R9
		BL	sub_101A14
		CMP	R8, #0
		BNE	loc_102B0C
		LDR	R0, =0x10A3DB
		BL	sub_101A14
		B	loc_102C60
; ---------------------------------------------------------------------------

loc_102B0C				; CODE XREF: sub_102AC4+38j
		ADD	R4, R9,	#0x5000
		MOV	R1, #0x6000000	; size
		MOV	R0, R6		; addr
		MOV	R2, R4
		BL	controlMemory
		SUBS	R1, R0,	#0
		BEQ	loc_102B34
		LDR	R0, =0x10A3ED
		MOV	R2, #0
		BL	sub_101A14

loc_102B34				; CODE XREF: sub_102AC4+60j
		MOV	R2, R4		; size
		MOV	R0, R6		; hProcess
		MOV	R1, #0x6000000	; addr
		BL	protectRemoteMemory
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A40B
		BNE	loc_102C50
		LDR	R3, =dword_1085FC
		STR	R9, [SP,#0x78+var_78]
		MOV	R0, R6
		LDR	R2, [R3]
		LDR	R1, =0x6005000
		MOV	R3, R8
		BL	sub_1043C0
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A42D
		BNE	loc_102C50
		CMP	R5, #0
		BNE	loc_102B8C
		MOV	R0, R6
		BL	sub_1027F4
		MOV	R5, R0

loc_102B8C				; CODE XREF: sub_102AC4+B8j
		LDR	R0, =0x10A44F
		MOV	R1, R5
		MOV	R2, #0
		BL	sub_101A14
		CMP	R5, #0
		BEQ	loc_102C5C
		MOV	R0, R6		; hProcess
		MOV	R1, R5		; addr
		MOV	R2, #8		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A301
		BNE	loc_102C50
		MOV	R1, R7
		MOV	R3, #2
		MOV	R8, #8
		STR	R3, [R1],#0x20
		LDR	R0, =0xFFFF8001
		STR	R8, [SP,#0x78+var_78]
		MOV	R2, R6
		MOV	R3, R5
		BL	sub_1043C0
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A45F
		BNE	loc_102C50
		MOV	R3, #0x238
		STR	R3, [SP,#0x78+var_78]
		STR	R5, [R7,#0x28]
		MOV	R0, R6
		MOV	R1, #0x6000000
		LDR	R2, =0xFFFF8001
		MOV	R3, R7
		BL	sub_1043C0
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A481
		BNE	loc_102C50
		LDR	R3, =0xE51FF004
		STR	R8, [SP,#0x78+var_78]
		STR	R3, [SP,#0x78+var_70]
		LDR	R3, =0x6005000
		MOV	R0, R6
		STR	R3, [SP,#0x78+var_6C]
		MOV	R1, R5
		LDR	R2, =0xFFFF8001
		ADD	R3, SP,	#0x78+var_70
		BL	sub_1043C0
		SUBS	R4, R0,	#0
		BEQ	loc_102C5C
		LDR	R0, =0x10A4A3

loc_102C50				; CODE XREF: sub_102AC4+88j
					; sub_102AC4+B0j ...
		MOV	R1, R4
		MOV	R2, #0
		BL	sub_101A14

loc_102C5C				; CODE XREF: sub_102AC4+DCj
					; sub_102AC4+184j
		MOV	R0, R4

loc_102C60				; CODE XREF: sub_102AC4+44j
		ADD	SP, SP,	#0x5C
		LDMFD	SP!, {R4-R9,PC}
; End of function sub_102AC4

; ---------------------------------------------------------------------------
off_102C68	DCD dword_10AEE8	; DATA XREF: sub_102AC4r
off_102C6C	DCD dword_10AEEC	; DATA XREF: sub_102AC4+10r
off_102C70	DCD aBuf08xSize08x	; DATA XREF: sub_102AC4+24r
					; "buf: %08x, size: %08x\n"
dword_102C74	DCD 0x10A3DB		; DATA XREF: sub_102AC4+3Cr
dword_102C78	DCD 0x10A3ED		; DATA XREF: sub_102AC4+64r
dword_102C7C	DCD 0x10A40B		; DATA XREF: sub_102AC4+84r
off_102C80	DCD dword_1085FC	; DATA XREF: sub_102AC4+8Cr
dword_102C84	DCD 0x6005000		; DATA XREF: sub_102AC4+9Cr
					; sub_102AC4+164r
dword_102C88	DCD 0x10A42D		; DATA XREF: sub_102AC4+ACr
dword_102C8C	DCD 0x10A44F		; DATA XREF: sub_102AC4:loc_102B8Cr
dword_102C90	DCD 0x10A301		; DATA XREF: sub_102AC4+F4r
dword_102C94	DCD 0xFFFF8001		; DATA XREF: sub_102AC4+10Cr
					; sub_102AC4+140r ...
dword_102C98	DCD 0x10A45F		; DATA XREF: sub_102AC4+124r
dword_102C9C	DCD 0x10A481		; DATA XREF: sub_102AC4+150r
dword_102CA0	DCD 0xE51FF004		; DATA XREF: sub_102AC4+158r
dword_102CA4	DCD 0x10A4A3		; DATA XREF: sub_102AC4+188r

; =============== S U B	R O U T	I N E =======================================


sub_102CA8				; CODE XREF: sub_102E64+D4p

process		= -0x24C
var_248		= -0x248
var_244		= -0x244

		LDR	R3, =dword_10AEC8
		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x244
		LDR	R3, [R3]
		MOV	R1, #0
		ADD	R3, R3,	#0x2000
		MOV	R2, #0x238
		ADD	R0, SP,	#0x250+var_248
		LDR	R4, [R3,#0x34]
		LDR	R5, [R3,#0x38]
		BL	memset
		CMP	R4, #2
		MOVEQ	R3, #0x3E8
		LDRNE	R3, =0x3EA
		MOV	R1, R4		; processId
		ADD	R0, SP,	#0x250+process ; process
		STR	R3, [SP,#0x250+var_244]
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		BEQ	loc_102D10
		LDR	R0, =aOpenprocessF_2 ; "openProcess failed: %08x\n"
		MOV	R2, #0
		BL	sub_101A14
		MOV	R3, #0
		STR	R3, [SP,#0x250+process]
		B	loc_102D30
; ---------------------------------------------------------------------------

loc_102D10				; CODE XREF: sub_102CA8+4Cj
		MOV	R1, R5
		LDR	R0, [SP,#0x250+process]
		ADD	R2, SP,	#0x250+var_248
		BL	sub_102AC4
		ADD	R1, R4,	#0x1380
		LDR	R0, =0x10A4C5
		ADD	R1, R1,	#8
		BL	sub_101A14

loc_102D30				; CODE XREF: sub_102CA8+64j
		LDR	R0, [SP,#0x250+process]	; handle
		CMP	R0, #0
		BEQ	loc_102D40
		BL	svcCloseHandle

loc_102D40				; CODE XREF: sub_102CA8+90j
		ADD	SP, SP,	#0x244
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_102CA8

; ---------------------------------------------------------------------------
off_102D48	DCD dword_10AEC8	; DATA XREF: sub_102CA8r
dword_102D4C	DCD 0x3EA		; DATA XREF: sub_102CA8+34r
off_102D50	DCD aOpenprocessF_2	; DATA XREF: sub_102CA8+50r
					; "openProcess failed: %08x\n"
dword_102D54	DCD 0x10A4C5		; DATA XREF: sub_102CA8+7Cr

; =============== S U B	R O U T	I N E =======================================


sub_102D58				; CODE XREF: sub_102DBC+84p
		STMFD	SP!, {R3-R5,LR}
		MOV	R4, R0
		MOV	R5, R4
		LDR	R0, =aCpsr08x	; "cpsr:%08x "
		LDR	R1, [R5],#0x38
		BL	sub_101A14
		LDR	R1, [R4,#0x38]
		LDR	R0, =0x10A4E9
		MOV	R2, R5
		BL	sub_101A14
		MOV	R1, #0

loc_102D84				; CODE XREF: sub_102D58+44j
		ADD	R5, R1,	#1
		LDR	R0, =aRD08x	; "r%d:%08x "
		LDR	R2, [R4,R5,LSL#2]
		BL	sub_101A14
		CMP	R5, #0xD
		MOV	R1, R5
		BNE	loc_102D84
		LDR	R0, =(aWillListenAtPo+0x17)
		LDMFD	SP!, {R3-R5,LR}
		B	sub_101A14
; End of function sub_102D58

; ---------------------------------------------------------------------------
off_102DAC	DCD aCpsr08x		; DATA XREF: sub_102D58+Cr
					; "cpsr:%08x "
dword_102DB0	DCD 0x10A4E9		; DATA XREF: sub_102D58+1Cr
off_102DB4	DCD aRD08x		; DATA XREF: sub_102D58+30r
					; "r%d:%08x "
off_102DB8	DCD aWillListenAtPo+0x17 ; DATA	XREF: sub_102D58+48r

; =============== S U B	R O U T	I N E =======================================


sub_102DBC				; CODE XREF: sub_102F98:loc_10303Cp

var_14		= -0x14
var_10		= -0x10
var_C		= -0xC

		STMFD	SP!, {R0-R4,LR}
		LDR	R4, =dword_10AEC8
		LDR	R0, [R4]
		ADD	R0, R0,	#0xB700
		ADD	R0, R0,	#0x94	; lock
		BL	rtAcquireLock
		LDR	R2, [R4]
		ADD	R3, SP,	#0x18+var_14
		ADD	R2, R2,	#0xB700
		MOV	R12, R2
		LDR	R0, [R12,#0x98]!
		LDR	R1, [R12,#4]
		STMIA	R3!, {R0,R1}
		LDR	R0, [R12,#8]
		STR	R0, [R3]
		ADD	R0, R2,	#0x94	; lock
		BL	rtReleaseLock
		LDR	R3, [SP,#0x18+var_14]
		CMP	R3, #0
		BEQ	loc_102E48
		LDR	R3, [SP,#0x18+var_C]
		CMP	R3, #1
		MOVEQ	R3, #0
		BEQ	loc_102E48
		LDR	R3, [R4]
		ADD	R3, R3,	#0xB000
		LDR	R3, [R3,#0x7A4]
		CMP	R3, #0
		BNE	loc_102E44
		LDR	R0, =aBreakpointDHit ; "breakpoint %d hit\n"
		LDR	R1, [SP,#0x18+var_14]
		BL	sub_101A14
		LDR	R0, [SP,#0x18+var_10]
		BL	sub_102D58

loc_102E44				; CODE XREF: sub_102DBC+70j
		MOV	R3, #1

loc_102E48				; CODE XREF: sub_102DBC+4Cj
					; sub_102DBC+5Cj
		LDR	R2, [R4]
		ADD	R2, R2,	#0xB000
		STR	R3, [R2,#0x7A4]
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4,PC}
; End of function sub_102DBC

; ---------------------------------------------------------------------------
off_102E5C	DCD dword_10AEC8	; DATA XREF: sub_102DBC+4r
off_102E60	DCD aBreakpointDHit	; DATA XREF: sub_102DBC+74r
					; "breakpoint %d hit\n"

; =============== S U B	R O U T	I N E =======================================


sub_102E64				; CODE XREF: sub_102F98+A8p
		STMFD	SP!, {R3-R5,LR}
		LDR	R3, =dword_10AEC8
		LDR	R4, [R3]
		ADD	R4, R4,	#0x2000
		LDR	R3, [R4,#0x74]
		STR	R3, [R4,#0x78]
		LDR	R3, [R4,#0x30]
		CMP	R3, #3
		BNE	loc_102E94
		LDR	R0, =0x10A517
		LDMFD	SP!, {R3-R5,LR}
		B	sub_101A14
; ---------------------------------------------------------------------------

loc_102E94				; CODE XREF: sub_102E64+20j
		CMP	R3, #0
		BNE	loc_102EEC
		LDR	R5, =dword_10AED4
		LDR	R0, [R5]
		ADD	R0, R0,	#0x1C	; lock
		BL	rtAcquireLock
		LDR	R3, [R5]
		LDR	R3, [R3,#0x14]
		STR	R3, [R4,#0x74]
		BL	sub_101A74
		LDR	R1, [R4,#0x74]
		CMP	R1, #0
		BEQ	loc_102ED4
		LDR	R3, [R5]
		LDR	R0, [R3,#0xC]
		BL	sub_101A9C

loc_102ED4				; CODE XREF: sub_102E64+60j
		LDR	R0, [R5]
		MOV	R3, #0
		ADD	R0, R0,	#0x1C	; lock
		STR	R3, [R0,#-8]
		LDMFD	SP!, {R3-R5,LR}
		B	rtReleaseLock
; ---------------------------------------------------------------------------

loc_102EEC				; CODE XREF: sub_102E64+34j
		CMP	R3, #1
		BNE	loc_102EFC
		LDMFD	SP!, {R3-R5,LR}
		B	sub_101B44
; ---------------------------------------------------------------------------

loc_102EFC				; CODE XREF: sub_102E64+8Cj
		CMP	R3, #4
		BNE	loc_102F0C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_1021FC
; ---------------------------------------------------------------------------

loc_102F0C				; CODE XREF: sub_102E64+9Cj
		CMP	R3, #5
		BNE	loc_102F1C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_102388
; ---------------------------------------------------------------------------

loc_102F1C				; CODE XREF: sub_102E64+ACj
		CMP	R3, #7
		BNE	loc_102F2C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_10298C
; ---------------------------------------------------------------------------

loc_102F2C				; CODE XREF: sub_102E64+BCj
		CMP	R3, #6
		BNE	loc_102F3C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_102CA8
; ---------------------------------------------------------------------------

loc_102F3C				; CODE XREF: sub_102E64+CCj
		CMP	R3, #8
		BNE	loc_102F4C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_102434
; ---------------------------------------------------------------------------

loc_102F4C				; CODE XREF: sub_102E64+DCj
		CMP	R3, #9
		BNE	loc_102F5C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_10267C
; ---------------------------------------------------------------------------

loc_102F5C				; CODE XREF: sub_102E64+ECj
		CMP	R3, #0xA
		BNE	loc_102F6C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_102508
; ---------------------------------------------------------------------------

loc_102F6C				; CODE XREF: sub_102E64+FCj
		CMP	R3, #0xB
		BNE	loc_102F7C
		LDMFD	SP!, {R3-R5,LR}
		B	sub_102124
; ---------------------------------------------------------------------------

loc_102F7C				; CODE XREF: sub_102E64+10Cj
		CMP	R3, #0xC
		LDMNEFD	SP!, {R3-R5,PC}
		LDMFD	SP!, {R3-R5,LR}
		B	sub_10204C
; End of function sub_102E64

; ---------------------------------------------------------------------------
off_102F8C	DCD dword_10AEC8	; DATA XREF: sub_102E64+4r
dword_102F90	DCD 0x10A517		; DATA XREF: sub_102E64+24r
off_102F94	DCD dword_10AED4	; DATA XREF: sub_102E64+38r

; =============== S U B	R O U T	I N E =======================================


sub_102F98				; CODE XREF: sub_1030F0+4p
					; sub_103158+18Cp

var_28		= -0x28
var_26		= -0x26
var_24		= -0x24

		STMFD	SP!, {R0-R8,LR}

loc_102F9C				; CODE XREF: sub_102F98+2Cj
		BL	sub_1011C8
		MOV	R0, #2
		MOV	R1, #1
		MOV	R2, #0
		BL	sub_105AF8
		SUBS	R6, R0,	#0
		BGT	loc_102FC8
		LDR	R0, =0x3B9ACA00	; ns
		MOV	R1, #0
		BL	svcSleepThread
		B	loc_102F9C
; ---------------------------------------------------------------------------

loc_102FC8				; CODE XREF: sub_102F98+1Cj
		LDR	R4, =dword_10AEC8
		MOV	R2, #2
		STRH	R2, [SP,#0x28+var_28]
		LDR	R3, [R4]
		MOV	R5, #0
		STR	R6, [R3,#4]
		LDRH	R0, [R3]
		BL	sub_104F18
		MOV	R1, SP
		MOV	R2, #0x10
		STR	R5, [SP,#0x28+var_24]
		STRH	R0, [SP,#0x28+var_26]
		MOV	R0, R6
		BL	sub_105D9C
		SUBS	R1, R0,	#0
		LDRLT	R0, =0x10A51D
		BLT	loc_10302C
		MOV	R1, #1
		MOV	R0, R6
		BL	sub_105C30
		SUBS	R1, R0,	#0
		MOVGE	R7, R4
		LDRGE	R8, =0x12345678
		BGE	loc_10307C
		LDR	R0, =0x10A52F

loc_10302C				; CODE XREF: sub_102F98+70j
		MOV	R2, R5
		BL	showDbg
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R8,PC}
; ---------------------------------------------------------------------------

loc_10303C				; CODE XREF: sub_102F98+12Cj
		BL	sub_102DBC
		BL	sub_102E64

loc_103044				; CODE XREF: sub_102F98+108j
		LDR	R1, [R4]
		MOV	R0, R5
		ADD	R1, R1,	#0x2000
		ADD	R1, R1,	#0x24
		MOV	R2, #0x54
		BL	sub_104E64
		CMP	R0, #0x54
		MOV	R1, R0
		BEQ	loc_1030B4
		LDR	R0, =0x10A543
		MOV	R2, #0

loc_103070				; CODE XREF: sub_102F98+138j
		BL	sub_101A14
		MOV	R0, R5
		BL	sub_105B68

loc_10307C				; CODE XREF: sub_102F98+8Cj
					; sub_102F98+118j
		BL	sub_1011C8
		MOV	R1, #0
		MOV	R0, R6
		MOV	R2, R1
		BL	sub_105C98
		LDR	R3, [R4]
		CMP	R0, #0
		MOV	R5, R0
		STR	R0, [R3,#8]
		BGE	loc_103044
		LDR	R0, =0x3B9ACA00	; ns
		MOV	R1, #0
		BL	svcSleepThread
		B	loc_10307C
; ---------------------------------------------------------------------------

loc_1030B4				; CODE XREF: sub_102F98+CCj
		LDR	R3, [R7]
		ADD	R3, R3,	#0x2000
		LDR	R1, [R3,#0x24]
		CMP	R1, R8
		BEQ	loc_10303C
		LDR	R0, =0x10A55D
		LDR	R2, [R3,#0x28]
		B	loc_103070
; End of function sub_102F98

; ---------------------------------------------------------------------------
; s64 dword_1030D4
dword_1030D4	DCD 0x3B9ACA00		; DATA XREF: sub_102F98+20r
					; sub_102F98+10Cr
off_1030D8	DCD dword_10AEC8	; DATA XREF: sub_102F98:loc_102FC8r
dword_1030DC	DCD 0x10A51D		; DATA XREF: sub_102F98+6Cr
dword_1030E0	DCD 0x12345678		; DATA XREF: sub_102F98+88r
dword_1030E4	DCD 0x10A52F		; DATA XREF: sub_102F98+90r
dword_1030E8	DCD 0x10A543		; DATA XREF: sub_102F98+D0r
dword_1030EC	DCD 0x10A55D		; DATA XREF: sub_102F98+130r

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

sub_1030F0				; DATA XREF: sub_103158+1B0o
					; ROM:off_103364o
		STMFD	SP!, {R3,LR}
		BL	sub_102F98
		LDMFD	SP!, {R3,LR}
		B	svcExitThread
; End of function sub_1030F0


; =============== S U B	R O U T	I N E =======================================


sub_103100				; CODE XREF: sub_101278+ACp main+158p
		STMFD	SP!, {R4,LR}
		LDR	R4, =dword_10AED4
		LDR	R3, =off_10B55C
		LDR	R2, =sub_1019E0
		LDR	R0, [R4]
		STR	R2, [R3]
		ADD	R0, R0,	#0x1C	; lock
		BL	rtInitLock
		LDR	R3, [R4]
		LDR	R2, =0x6000900
		STR	R2, [R3,#0xC]
		MOV	R2, #0xF0
		STR	R2, [R3,#0x10]
		MOV	R2, #0
		STR	R2, [R3,#0x14]
		MOV	R2, #1
		STR	R2, [R3,#0x18]
		LDMFD	SP!, {R4,PC}
; End of function sub_103100

; ---------------------------------------------------------------------------
off_103148	DCD dword_10AED4	; DATA XREF: sub_103100+4r
off_10314C	DCD off_10B55C		; DATA XREF: sub_103100+8r
off_103150	DCD sub_1019E0		; DATA XREF: sub_103100+Cr
dword_103154	DCD 0x6000900		; DATA XREF: sub_103100+24r

; =============== S U B	R O U T	I N E =======================================


sub_103158				; CODE XREF: sub_100EEC+10p
					; sub_101278+C0p ...

addr_out	= -0x18
thread		= -0x14

		STMFD	SP!, {R0-R6,LR}	; thread_priority
		LDR	R0, =0xB7A8	; size
		BL	rtAlignToPageSize
		LDR	R4, =dword_10AED4
		LDR	R3, [R4]
		LDR	R3, [R3]
		CMP	R3, #1
		MOVEQ	R3, #0x6F00000
		STREQ	R3, [SP,#0x20+addr_out]
		ADD	R5, R0,	#0x14000
		BEQ	loc_1031B0
		LDR	R0, =0x203
		MOV	R3, #3
		MOV	R1, #0x6F00000	; addr0
		STMEA	SP, {R0,R3}
		MOV	R2, #0		; addr1
		ADD	R0, SP,	#0x20+addr_out ; addr_out
		MOV	R3, R5		; size
		BL	svcControlMemory
		SUBS	R1, R0,	#0
		LDRNE	R0, =aSvc_controlmem ; "svc_controlMemory failed: %08x"
		BNE	loc_103330

loc_1031B0				; CODE XREF: sub_103158+28j
		BL	getCurrentProcessHandle
		MOV	R1, #0x6F00000	; addr
		MOV	R2, R5		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R1, R0,	#0
		BEQ	loc_1031D4
		LDR	R0, =0x10A579
		MOV	R2, #0
		BL	showDbg

loc_1031D4				; CODE XREF: sub_103158+6Cj
		LDR	R3, =srvHandle
		LDR	R3, [R3]
		CMP	R3, #0
		BNE	loc_1031E8
		BL	initSrv

loc_1031E8				; CODE XREF: sub_103158+88j
		LDR	R3, [R4]
		LDR	R5, [R3,#8]
		CMP	R5, #0
		LDRNE	R3, =dword_10B490
		STRNE	R5, [R3]
		BNE	loc_103230
		MOV	R1, #0x10000
		LDR	R0, [SP,#0x20+addr_out]
		BL	sub_105A80
		SUBS	R1, R0,	#0
		MOVNE	R2, R5
		LDRNE	R0, =aSoc_initialize ; "SOC_Initialize failed: %08x"
		BNE	loc_103334
		LDR	R3, =dword_10AED4
		LDR	R2, =dword_10B490
		LDR	R3, [R3]
		LDR	R2, [R2]
		STR	R2, [R3,#8]

loc_103230				; CODE XREF: sub_103158+A4j
		LDR	R0, [SP,#0x20+addr_out]
		LDR	R5, =dword_10AEC8
		ADD	R0, R0,	#0x10000
		MOV	R1, #0
		LDR	R2, =0xB7A8
		STR	R0, [R5]
		BL	memset
		LDR	R6, [R5]
		MOV	R3, #0x1F40
		STR	R3, [R6]
		LDR	R3, [R4]
		LDR	R3, [R3]
		CMP	R3, #2
		BNE	loc_103278
		BL	getCurrentProcessId
		ADD	R0, R0,	#0x1380
		ADD	R0, R0,	#8
		STR	R0, [R6]

loc_103278				; CODE XREF: sub_103158+10Cj
		LDR	R0, [R5]
		ADD	R0, R0,	#0x6000
		ADD	R0, R0,	#0x90	; lock
		BL	rtInitLock
		LDR	R0, [R5]
		ADD	R0, R0,	#0xB700
		ADD	R0, R0,	#0x94	; lock
		BL	rtInitLock
		LDR	R3, [R4]
		LDR	R2, [R5]
		ADD	R2, R2,	#0x10
		STR	R2, [R3,#0xC]
		MOV	R2, #0
		STR	R2, [R3,#0x14]
		MOV	R2, #0x2000
		STR	R2, [R3,#0x10]
		LDR	R2, [R3]
		CMP	R2, #2
		BNE	loc_1032D0
		MOV	R0, #1
		MOV	R1, #0x100000
		BL	sub_101FB0

loc_1032D0				; CODE XREF: sub_103158+168j
		LDR	R3, [R4]
		LDR	R3, [R3]
		SUB	R3, R3,	#1
		CMP	R3, #1
		BHI	loc_1032EC
		BL	sub_102F98
		B	loc_103338
; ---------------------------------------------------------------------------

loc_1032EC				; CODE XREF: sub_103158+188j
		LDR	R0, =0xB7A8	; size
		LDR	R4, [SP,#0x20+addr_out]
		BL	rtAlignToPageSize
		ADD	R4, R4,	#0x10000
		MOV	R1, #0x10
		MOV	R2, #0xFFFFFFFE
		STMEA	SP, {R1,R2}
		LDR	R1, =sub_1030F0	; entrypoint
		MOV	R2, #0		; arg
		ADD	R0, R4,	R0
		ADD	R3, R0,	#0x3FC0
		ADD	R3, R3,	#0x18	; stack_top
		ADD	R0, SP,	#0x20+thread ; thread
		BL	svcCreateThread
		SUBS	R1, R0,	#0
		BEQ	loc_103338
		LDR	R0, =aSvc_createthre ; "svc_createThread failed: %08x"

loc_103330				; CODE XREF: sub_103158+54j
		MOV	R2, #0

loc_103334				; CODE XREF: sub_103158+C0j
		BL	showDbg

loc_103338				; CODE XREF: sub_103158+190j
					; sub_103158+1D0j
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_103158

; ---------------------------------------------------------------------------
; uint32_t size
size		DCD 0xB7A8		; DATA XREF: sub_103158+4r
					; sub_103158+E8r ...
off_103344	DCD dword_10AED4	; DATA XREF: sub_103158+Cr
					; sub_103158+C4r
dword_103348	DCD 0x203		; DATA XREF: sub_103158+2Cr
off_10334C	DCD aSvc_controlmem	; DATA XREF: sub_103158+50r
					; "svc_controlMemory failed: %08x"
dword_103350	DCD 0x10A579		; DATA XREF: sub_103158+70r
off_103354	DCD srvHandle		; DATA XREF: sub_103158:loc_1031D4r
off_103358	DCD dword_10B490	; DATA XREF: sub_103158+9Cr
					; sub_103158+C8r
off_10335C	DCD aSoc_initialize	; DATA XREF: sub_103158+BCr
					; "SOC_Initialize failed: %08x"
off_103360	DCD dword_10AEC8	; DATA XREF: sub_103158+DCr
; ThreadFunc off_103364
off_103364	DCD sub_1030F0		; DATA XREF: sub_103158+1B0r
off_103368	DCD aSvc_createthre	; DATA XREF: sub_103158+1D4r
					; "svc_createThread failed: %08x"

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

OS_ConvertVaddr2Physaddr
		ADD	R3, R0,	#0xEC000000
		CMN	R3, #0xF8000001
		BHI	osConvertOldLINEARMemToNew
		ADD	R0, R0,	#0xC000000
		BX	LR
; End of function OS_ConvertVaddr2Physaddr

; [00000028 BYTES: COLLAPSED FUNCTION osConvertOldLINEARMemToNew. PRESS	KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


sub_1033A8

process		= -0xC
var_4		= -4

		STMFD	SP!, {R0-R2,LR}
		MOV	R1, #0x25	; processId
		ADD	R0, SP,	#0x10+process ;	process
		BL	svcOpenProcess
		STR	R0, [SP,#0x10+process]
		BL	svcCloseHandle
		ADD	SP, SP,	#0xC
		LDR	PC, [SP+4+var_4],#4
; End of function sub_1033A8

; [00000008 BYTES: COLLAPSED FUNCTION __udiv_w_sdiv. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


sub_1033D0				; CODE XREF: sub_1056C0+1Cp
					; DATA XREF: sub_10593C+28o ...

addr_out	= -0x14

		TST	R0, #1
		STMFD	SP!, {R0-R6,LR}	; op
		BEQ	loc_1033E4

loc_1033DC				; CODE XREF: sub_1033D0+5Cj
		MOV	R0, #0
		B	loc_103440
; ---------------------------------------------------------------------------

loc_1033E4				; CODE XREF: sub_1033D0+8j
		LDR	R3, =dword_10AED8
		MOV	R4, R0
		ADD	R0, SP,	#0x20+addr_out ; addr_out
		LDR	R2, [R3]
		LDR	R6, =dword_10AED8
		CMP	R2, #0
		LDREQ	R2, =dword_1085F4
		LDREQ	R2, [R2]
		STREQ	R2, [R3]
		LDR	R2, =0x203
		LDR	R5, [R3]
		MOV	R3, #3
		MOV	R1, R5		; addr0
		STMEA	SP, {R2,R3}
		MOV	R2, R5		; addr1
		MOV	R3, R4		; size
		BL	svcControlMemory
		CMP	R0, #0
		BNE	loc_1033DC
		LDR	R0, [R6]
		ADD	R4, R4,	R0
		MOV	R0, R5
		STR	R4, [R6]

loc_103440				; CODE XREF: sub_1033D0+10j
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_1033D0

; ---------------------------------------------------------------------------
off_103448	DCD dword_10AED8	; DATA XREF: sub_1033D0:loc_1033E4r
					; sub_1033D0+24r
off_10344C	DCD dword_1085F4	; DATA XREF: sub_1033D0+2Cr
dword_103450	DCD 0x203		; DATA XREF: sub_1033D0+38r

; =============== S U B	R O U T	I N E =======================================


sub_103454				; CODE XREF: sub_1058C8+28p
					; DATA XREF: sub_10593C+20o ...
		STMFD	SP!, {R4,LR}
		MOV	R4, R1
		LDR	R1, =aFsUser	; "fs:USER"
		BL	strcmp
		CMP	R0, #0
		BNE	locret_10347C
		LDR	R3, =fsUserHandle
		LDR	R3, [R3]
		STR	R3, [R4]
		LDMFD	SP!, {R4,PC}
; ---------------------------------------------------------------------------

locret_10347C				; CODE XREF: sub_103454+14j
		LDMFD	SP!, {R4,PC}
; End of function sub_103454

; ---------------------------------------------------------------------------
off_103480	DCD aFsUser		; DATA XREF: sub_103454+8r
					; "fs:USER"
off_103484	DCD fsUserHandle	; DATA XREF: sub_103454+18r

; =============== S U B	R O U T	I N E =======================================


sub_103488				; DATA XREF: sub_10593C+48o
					; ROM:off_1059B4o
		CMP	R0, #2
		LDREQ	R3, =dword_1085D8
		BEQ	loc_1034A0
		CMP	R0, #1
		BNE	loc_1034A8
		LDR	R3, =dword_1085E8

loc_1034A0				; CODE XREF: sub_103488+8j
					; sub_103488+28j
		LDR	R0, [R3]
		BX	LR
; ---------------------------------------------------------------------------

loc_1034A8				; CODE XREF: sub_103488+10j
		CMP	R0, #3
		LDREQ	R3, =dword_1085E4
		BEQ	loc_1034A0
		CMP	R0, #4
		MOVEQ	R0, #0x14000000
		MOVNE	R0, #0
		BX	LR
; End of function sub_103488

; ---------------------------------------------------------------------------
off_1034C4	DCD dword_1085D8	; DATA XREF: sub_103488+4r
off_1034C8	DCD dword_1085E8	; DATA XREF: sub_103488+14r
off_1034CC	DCD dword_1085E4	; DATA XREF: sub_103488+24r

; =============== S U B	R O U T	I N E =======================================


sub_1034D0				; CODE XREF: sub_1035F8+E8p

handle		= -0x14
var_10		= -0x10

		STMFD	SP!, {R0-R2,R4,R5,LR}
		ADD	R1, SP,	#0x18+var_10
		MOV	R5, #0
		STR	R5, [R1,#-4]!
		MOV	R0, R5		; handleptr
		LDR	R2, =aNsS	; "ns:s"
		BL	srv_getServiceHandle
		SUBS	R4, R0,	#0
		BEQ	loc_103508
		LDR	R0, =0x10A5F3
		MOV	R1, R4
		MOV	R2, R5
		BL	showDbg
		B	loc_103540
; ---------------------------------------------------------------------------

loc_103508				; CODE XREF: sub_1034D0+20j
		BL	svcGetThreadCommandBuffer
		LDR	R2, =loc_100180
		MOV	R3, #1
		STMIA	R0, {R2,R3}
		MOV	R3, #2
		STR	R4, [R0,#8]
		STR	R4, [R0,#0xC]
		STR	R3, [R0,#0x10]
		STR	R4, [R0,#0x14]
		STR	R4, [R0,#0x18]
		LDR	R0, [SP,#0x18+handle] ;	session
		BL	svcSendSyncRequest
		LDR	R0, [SP,#0x18+handle] ;	handle
		BL	svcCloseHandle

loc_103540				; CODE XREF: sub_1034D0+34j
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_1034D0

; ---------------------------------------------------------------------------
; unsigned __int8 *off_103548
off_103548	DCD aNsS		; DATA XREF: sub_1034D0+14r
					; "ns:s"
dword_10354C	DCD 0x10A5F3		; DATA XREF: sub_1034D0+24r
off_103550	DCD loc_100180		; DATA XREF: sub_1034D0+3Cr

; =============== S U B	R O U T	I N E =======================================


sub_103554				; CODE XREF: sub_1035F8+F8p

var_28		= -0x28
var_24		= -0x24
var_20		= -0x20
var_1C		= -0x1C
var_4		= -4

		STR	LR, [SP,#var_4]!
		SUB	SP, SP,	#0x24
		LDR	R3, =aNtrMenuXY	; "NTR Menu: X+Y"
		STR	R3, [SP,#0x28+var_28]
		LDR	R3, =aNtrMenuLStart ; "NTR Menu: L+START"
		STR	R3, [SP,#0x28+var_24]
		LDR	R3, =aScreenshotDisa ; "Screenshot: disabled"
		STR	R3, [SP,#0x28+var_20]
		LDR	R3, =0x10A63F
		STR	R3, [SP,#0x28+var_1C]

loc_10357C				; CODE XREF: sub_103554+70j
		LDR	R0, =aNtrCfw2_2	; "NTR CFW 2.2"
		MOV	R1, #4		; entryCount
		MOV	R2, SP		; captions
		BL	showMenu
		CMN	R0, #1
		BEQ	loc_1035D4
		CMP	R0, #0
		MOVEQ	R2, #0xC00
		BEQ	loc_1035AC
		CMP	R0, #1
		BNE	loc_1035B4
		MOV	R2, #0x208

loc_1035AC				; CODE XREF: sub_103554+48j
		LDR	R3, =dword_1085DC
		B	loc_1035D0
; ---------------------------------------------------------------------------

loc_1035B4				; CODE XREF: sub_103554+50j
		CMP	R0, #2
		MOVEQ	R2, #0
		BEQ	loc_1035CC
		CMP	R0, #3
		BNE	loc_10357C
		MOV	R2, #0xC

loc_1035CC				; CODE XREF: sub_103554+68j
		LDR	R3, =dword_10AD00

loc_1035D0				; CODE XREF: sub_103554+5Cj
		STR	R2, [R3]

loc_1035D4				; CODE XREF: sub_103554+3Cj
		ADD	SP, SP,	#0x24
		LDR	PC, [SP+4+var_4],#4
; End of function sub_103554

; ---------------------------------------------------------------------------
off_1035DC	DCD aNtrMenuXY		; DATA XREF: sub_103554+8r
					; "NTR Menu: X+Y"
off_1035E0	DCD aNtrMenuLStart	; DATA XREF: sub_103554+10r
					; "NTR Menu: L+START"
off_1035E4	DCD aScreenshotDisa	; DATA XREF: sub_103554+18r
					; "Screenshot: disabled"
dword_1035E8	DCD 0x10A63F		; DATA XREF: sub_103554+20r
; uint8_t *title
title		DCD aNtrCfw2_2		; DATA XREF: sub_103554:loc_10357Cr
					; "NTR CFW 2.2"
off_1035F0	DCD dword_1085DC	; DATA XREF: sub_103554:loc_1035ACr
off_1035F4	DCD dword_10AD00	; DATA XREF: sub_103554:loc_1035CCr

; =============== S U B	R O U T	I N E =======================================


sub_1035F8				; CODE XREF: sub_101278+100p

var_238		= -0x238
var_234		= -0x234
var_230		= -0x230
var_22C		= -0x22C
var_8		= -8

		STMFD	SP!, {R4,LR}
		SUB	SP, SP,	#0x230
		BL	debounceKey
		LDR	R3, =aProcessManager ; "Process Manager"
		LDR	R2, =dword_10AFC4
		STR	R3, [SP,#0x238+var_238]
		LDR	R3, =aEnableDebugger ; "Enable Debugger"
		MOV	R4, #4
		STR	R3, [SP,#0x238+var_234]
		LDR	R3, =aCleanMode	; "Clean Mode"
		MOV	R12, #0xC
		STR	R3, [SP,#0x238+var_230]
		LDR	R3, =0x10A68F
		STR	R3, [SP,#0x238+var_22C]
		LDR	R3, =dword_10AED8
		LDR	R0, [R3,#(dword_10AEDC - 0x10AED8)]
		MOV	R3, #0

loc_10363C				; CODE XREF: sub_1035F8+78j
		CMP	R3, R0
		BEQ	loc_103674
		MUL	R1, R12, R3
		ADD	LR, R1,	R2
		LDR	R1, [R1,R2]
		CMP	R1, #1
		ADDEQ	R1, SP,	#0x238+var_8
		ADDEQ	R1, R1,	R4,LSL#2
		LDREQ	LR, [LR,#4]
		STREQ	R3, [R1,#-0x118]
		STREQ	LR, [R1,#-0x230]
		ADDEQ	R4, R4,	#1
		ADD	R3, R3,	#1
		B	loc_10363C
; ---------------------------------------------------------------------------

loc_103674				; CODE XREF: sub_1035F8+48j
		BL	sub_107220

loc_103678				; CODE XREF: sub_1035F8+A4j
					; sub_1035F8+FCj ...
		LDR	R0, =aNtrCfw2_2	; "NTR CFW 2.2"
		MOV	R1, R4		; entryCount
		MOV	R2, SP		; captions
		BL	showMenu
		CMN	R0, #1
		BEQ	loc_103724
		CMP	R0, #0
		BNE	loc_1036A0
		BL	sub_104BE8
		B	loc_103678
; ---------------------------------------------------------------------------

loc_1036A0				; CODE XREF: sub_1035F8+9Cj
		CMP	R0, #1
		BNE	loc_1036D0
		LDR	R3, =dword_10AED4
		LDR	R3, [R3]
		LDR	R3, [R3,#8]
		CMP	R3, #0
		BEQ	loc_1036C8
		LDR	R0, =aDebuggerHasAlr ; "Debugger has already been enabled."
		BL	sub_107574
		B	loc_103724
; ---------------------------------------------------------------------------

loc_1036C8				; CODE XREF: sub_1035F8+C0j
		BL	sub_103158
		B	loc_103724
; ---------------------------------------------------------------------------

loc_1036D0				; CODE XREF: sub_1035F8+ACj
		CMP	R0, #2
		BNE	loc_1036E8
		BL	sub_100F20
		MOV	R0, #1
		BL	sub_1034D0
		B	loc_103724
; ---------------------------------------------------------------------------

loc_1036E8				; CODE XREF: sub_1035F8+DCj
		CMP	R0, #3
		BNE	loc_1036F8
		BL	sub_103554
		B	loc_103678
; ---------------------------------------------------------------------------

loc_1036F8				; CODE XREF: sub_1035F8+F4j
		BLS	loc_103678
		ADD	R3, SP,	#0x238+var_8
		ADD	R0, R3,	R0,LSL#2
		MOV	R1, #0xC
		LDR	R2, [R0,#-0x118]
		LDR	R3, =dword_10AFC4
		MLA	R3, R1,	R2, R3
		LDR	R3, [R3,#8]
		BLX	R3
		CMP	R0, #0
		BEQ	loc_103678

loc_103724				; CODE XREF: sub_1035F8+94j
					; sub_1035F8+CCj ...
		BL	sub_107300
		BL	debounceKey
		BL	sub_107160
		ADD	SP, SP,	#0x230
		LDMFD	SP!, {R4,PC}
; End of function sub_1035F8

; ---------------------------------------------------------------------------
off_103738	DCD aProcessManager	; DATA XREF: sub_1035F8+Cr
					; "Process Manager"
off_10373C	DCD dword_10AFC4	; DATA XREF: sub_1035F8+10r
					; sub_1035F8+114r
off_103740	DCD aEnableDebugger	; DATA XREF: sub_1035F8+18r
					; "Enable Debugger"
off_103744	DCD aCleanMode		; DATA XREF: sub_1035F8+24r
					; "Clean Mode"
dword_103748	DCD 0x10A68F		; DATA XREF: sub_1035F8+30r
off_10374C	DCD dword_10AED8	; DATA XREF: sub_1035F8+38r
; uint8_t *off_103750
off_103750	DCD aNtrCfw2_2		; DATA XREF: sub_1035F8:loc_103678r
					; "NTR CFW 2.2"
off_103754	DCD dword_10AED4	; DATA XREF: sub_1035F8+B0r
off_103758	DCD aDebuggerHasAlr	; DATA XREF: sub_1035F8+C4r
					; "Debugger has already been enabled."

; =============== S U B	R O U T	I N E =======================================


sub_10375C				; CODE XREF: sub_1058C8+1Cp
					; DATA XREF: sub_10593C+18o ...
		STMFD	SP!, {R4,R5,LR}
		LDR	LR, =dword_10AED8
		LDR	R3, [LR,#(dword_10AEDC - 0x10AED8)]
		CMP	R3, #0x3F
		BLS	loc_103778
		MOV	R0, #0xFFFFFFFF
		LDMFD	SP!, {R4,R5,PC}
; ---------------------------------------------------------------------------

loc_103778				; CODE XREF: sub_10375C+10j
		MOV	R12, #0xC
		LDR	R5, =dword_10AFC4
		MUL	R12, R12, R3
		ADD	R3, R3,	#1
		ADD	R4, R5,	R12
		STR	R0, [R5,R12]
		STR	R3, [LR,#(dword_10AEDC - 0x10AED8)]
		STMIB	R4, {R1,R2}
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_10375C

; ---------------------------------------------------------------------------
off_10379C	DCD dword_10AED8	; DATA XREF: sub_10375C+4r
off_1037A0	DCD dword_10AFC4	; DATA XREF: sub_10375C+20r

; =============== S U B	R O U T	I N E =======================================


sub_1037A4				; CODE XREF: sub_103D80+80p
					; sub_104044+A0p

addr_out	= -0x1C

		STMFD	SP!, {R0-R8,LR}	; op
		LDR	R5, =dword_10AED8
		LDR	R3, [R5,#(dword_10AEE0 - 0x10AED8)]
		CMP	R3, #0
		LDREQ	R3, =dword_1085F4
		LDREQ	R3, [R3,#(dword_1085F8 - 0x1085F4)]
		STREQ	R3, [R5,#(dword_10AEE0 - 0x10AED8)]
		LDR	R6, [R5,#(dword_10AEE0 - 0x10AED8)]
		CMP	R0, R6
		BLS	loc_10383C
		RSB	R8, R6,	R0
		MOV	R1, R6
		MOV	R2, R8
		MOV	R7, R0
		LDR	R0, =0x10A6BD
		BL	sub_101A14
		LDR	R2, =0x203
		MOV	R3, #3
		ADD	R0, SP,	#0x28+addr_out ; addr_out
		STMEA	SP, {R2,R3}
		MOV	R1, R6		; addr0
		MOV	R2, R6		; addr1
		MOV	R3, R8		; size
		BL	svcControlMemory
		SUBS	R4, R0,	#0
		BEQ	loc_103838
		LDR	R0, =0xFFFF8001	; hProcess
		MOV	R1, R6		; addr
		MOV	R2, R8		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		CMP	R0, #0
		BEQ	loc_103838
		LDR	R0, =0x10A6E1
		MOV	R1, R4
		BL	sub_101A14
		MOV	R0, R4
		B	loc_103840
; ---------------------------------------------------------------------------

loc_103838				; CODE XREF: sub_1037A4+64j
					; sub_1037A4+7Cj
		STR	R7, [R5,#8]

loc_10383C				; CODE XREF: sub_1037A4+24j
		MOV	R0, #0

loc_103840				; CODE XREF: sub_1037A4+90j
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_1037A4

; ---------------------------------------------------------------------------
off_103848	DCD dword_10AED8	; DATA XREF: sub_1037A4+4r
off_10384C	DCD dword_1085F4	; DATA XREF: sub_1037A4+10r
dword_103850	DCD 0x10A6BD		; DATA XREF: sub_1037A4+38r
dword_103854	DCD 0x203		; DATA XREF: sub_1037A4+40r
; Handle hProcess
hProcess	DCD 0xFFFF8001		; DATA XREF: sub_1037A4+68r
dword_10385C	DCD 0x10A6E1		; DATA XREF: sub_1037A4+80r

; =============== S U B	R O U T	I N E =======================================


sub_103860
		STMFD	SP!, {R4,LR}
		LDR	R4, =fsUserHandle
		LDR	R3, [R4]
		CMP	R3, #0
		LDMNEFD	SP!, {R4,PC}
		LDR	R3, =srvHandle
		LDR	R3, [R3]
		CMP	R3, #0
		BNE	loc_103888
		BL	initSrv

loc_103888				; CODE XREF: sub_103860+20j
		LDR	R1, =fsUserHandle ; out
		LDR	R2, =aFsReg	; "fs:REG"
		MOV	R0, #0		; handleptr
		BL	srv_getServiceHandle
		LDR	R0, [R4]	; handle
		BL	FSUSER_Initialize
		SUBS	R1, R0,	#0
		BEQ	loc_1038B0
		LDR	R0, =0x10A707
		BL	sub_101A14

loc_1038B0				; CODE XREF: sub_103860+44j
		LDR	R1, [R4]
		LDR	R0, =0x10A727
		LDMFD	SP!, {R4,LR}
		B	sub_101A14
; End of function sub_103860

; ---------------------------------------------------------------------------
; Handle *off_1038C0
off_1038C0	DCD fsUserHandle	; DATA XREF: sub_103860+4r
					; sub_103860:loc_103888r
off_1038C4	DCD srvHandle		; DATA XREF: sub_103860+14r
; unsigned __int8 *off_1038C8
off_1038C8	DCD aFsReg		; DATA XREF: sub_103860+2Cr
					; "fs:REG"
dword_1038CC	DCD 0x10A707		; DATA XREF: sub_103860+48r
dword_1038D0	DCD 0x10A727		; DATA XREF: sub_103860+54r

; =============== S U B	R O U T	I N E =======================================


sub_1038D4				; CODE XREF: sub_103B68+Cp

var_498		= -0x498
var_490		= -0x490
var_48C		= -0x48C
var_488		= -0x488
var_384		= -0x384
var_380		= -0x380
var_37C		= -0x37C
var_378		= -0x378
var_374		= -0x374
var_260		= -0x260
var_25C		= -0x25C

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x470
		LDR	R7, =dword_10AED8
		SUB	SP, SP,	#4
		MOV	R5, R0
		LDR	R8, [R7,#(dword_10AEE4 - 0x10AED8)]
		MOV	R6, R7
		CMP	R8, #0
		BNE	loc_103914
		ADD	R0, R7,	#0xC	; process
		MOV	R1, #0xF	; processId
		BL	svcOpenProcess
		SUBS	R4, R0,	#0
		STRNE	R8, [R7,#(dword_10AEE4 - 0x10AED8)]
		LDRNE	R0, =0x10A73B
		BNE	loc_103B0C

loc_103914				; CODE XREF: sub_1038D4+20j
		LDR	R0, =0x10A75B
		LDR	R1, [R6,#0xC]
		LDR	R9, =dword_1085F4
		BL	sub_101A14
		MOV	R1, #0
		MOV	R2, #0x238
		ADD	R0, SP,	#0x498+var_260
		BL	memset
		ADD	R7, SP,	#0x498+var_488
		MOV	R3, #0x114
		STR	R3, [SP,#0x498+var_498]
		LDR	R0, =0xFFFF8001
		MOV	R1, R7
		LDR	R2, [R6,#0xC]
		LDR	R3, [R9,#(dword_1085F8 - 0x1085F4)]
		BL	sub_1043C0
		SUBS	R4, R0,	#0
		LDRNE	R0, =aLoadPlginfoFai ; "load plginfo failed:%08x\n"
		BNE	loc_103B0C
		SUB	R1, R7,	#8
		MOV	R0, R5
		BL	sub_104524
		LDR	R2, [SP,#0x498+var_490]
		LDR	R0, =aProctid08x08x ; "procTid: %08x%08x\n"
		LDR	R1, [SP,#0x498+var_48C]
		BL	sub_101A14
		LDR	R3, [SP,#0x498+var_37C]
		LDR	R2, [SP,#0x498+var_490]
		CMP	R2, R3
		BNE	loc_10399C
		LDR	R3, [SP,#0x498+var_378]
		LDR	R2, [SP,#0x498+var_48C]
		CMP	R2, R3
		BEQ	loc_1039A8

loc_10399C				; CODE XREF: sub_1038D4+B4j
		LDR	R0, =0x10A79B
		BL	sub_101A14
		B	loc_103B18
; ---------------------------------------------------------------------------

loc_1039A8				; CODE XREF: sub_1038D4+C4j
		LDR	R3, [SP,#0x498+var_488]
		CMP	R3, #0
		BEQ	loc_103A0C

loc_1039B4				; CODE XREF: sub_1038D4+144j
		LDR	R3, [SP,#0x498+var_384]
		ADD	R8, SP,	#0x498+var_374
		STR	R3, [R6,#0x10]
		LDR	R3, [SP,#0x498+var_380]
		MOV	R1, R7
		STR	R3, [R6,#0x14]
		LDR	R3, [R6,#0xC]
		MOV	R2, #0x114
		STR	R3, [R9,#(dword_1085FC - 0x1085F4)]
		LDR	R3, =0x3E9
		MOV	R0, R8
		STR	R3, [SP,#0x498+var_25C]
		LDR	R4, [R9,#(dword_1085F8 - 0x1085F4)]
		BL	memcpy
		MOV	R0, #0x114	; size
		BL	rtAlignToPageSize
		LDR	R1, [SP,#0x498+var_488]
		MOV	R3, #0
		MOV	R1, R1,LSL#2
		MOV	R11, R0
		ADD	R2, R0,	R4
		B	loc_103A1C
; ---------------------------------------------------------------------------

loc_103A0C				; CODE XREF: sub_1038D4+DCj
		BL	sub_100C14
		CMP	R0, #0
		BEQ	loc_103B18
		B	loc_1039B4
; ---------------------------------------------------------------------------

loc_103A1C				; CODE XREF: sub_1038D4+134j
					; sub_1038D4+16Cj
		CMP	R3, R1
		BEQ	loc_103A44
		ADD	R0, R7,	R3
		ADD	R12, R8, R3
		LDR	R0, [R0,#0x84]
		STR	R2, [R12,#4]
		ADD	R11, R11, R0
		ADD	R2, R2,	R0
		ADD	R3, R3,	#4
		B	loc_103A1C
; ---------------------------------------------------------------------------

loc_103A44				; CODE XREF: sub_1038D4+14Cj
		MOV	R0, R5		; addr
		LDR	R1, [R9,#(dword_1085F8 - 0x1085F4)] ; size
		MOV	R2, R11
		BL	controlMemory
		LDR	R10, =dword_1085F4
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A7A9
		BNE	loc_103B0C
		MOV	R0, R5		; hProcess
		LDR	R1, [R10,#(dword_1085F8	- 0x1085F4)] ; addr
		MOV	R2, R11		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A7CB
		BNE	loc_103B0C
		MOV	R3, #0x114
		STR	R3, [SP,#0x498+var_498]
		MOV	R0, R5
		LDR	R1, [R10,#(dword_1085F8	- 0x1085F4)]
		LDR	R2, =0xFFFF8001
		MOV	R3, R8
		BL	sub_1043C0
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A7DD
		BNE	loc_103B0C
		MOV	R9, #1

loc_103AAC				; CODE XREF: sub_1038D4+210j
		LDR	R2, [SP,#0x498+var_374]
		SUB	R3, R9,	#1
		CMP	R3, R2
		BCS	loc_103AF0
		ADD	R3, R8,	R9,LSL#2
		MOV	R0, R5
		LDR	R3, [R3,#0x80]
		STR	R3, [SP,#0x498+var_498]
		LDR	R1, [R8,R9,LSL#2]
		LDR	R3, [R7,R9,LSL#2]
		LDR	R2, [R6,#0xC]
		BL	sub_1043C0
		ADD	R9, R9,	#1
		SUBS	R4, R0,	#0
		BEQ	loc_103AAC
		LDR	R0, =aLoadPlgFailed0 ; "load plg failed: %08x\n"
		B	loc_103B0C
; ---------------------------------------------------------------------------

loc_103AF0				; CODE XREF: sub_1038D4+1E4j
		MOV	R0, R5
		MOV	R1, #0x100000
		ADD	R2, SP,	#0x498+var_260
		BL	sub_102AC4
		SUBS	R4, R0,	#0
		BEQ	loc_103B20
		LDR	R0, =0x10A80F

loc_103B0C				; CODE XREF: sub_1038D4+3Cj
					; sub_1038D4+88j ...
		MOV	R1, R4
		BL	sub_101A14
		B	loc_103B20
; ---------------------------------------------------------------------------

loc_103B18				; CODE XREF: sub_1038D4+D0j
					; sub_1038D4+140j
		MOV	R0, #0xFFFFFFFF
		B	loc_103B24
; ---------------------------------------------------------------------------

loc_103B20				; CODE XREF: sub_1038D4+230j
					; sub_1038D4+240j
		MOV	R0, R4

loc_103B24				; CODE XREF: sub_1038D4+248j
		ADD	SP, SP,	#0x470
		ADD	SP, SP,	#4
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_1038D4

; ---------------------------------------------------------------------------
off_103B30	DCD dword_10AED8	; DATA XREF: sub_1038D4+8r
dword_103B34	DCD 0x10A73B		; DATA XREF: sub_1038D4+38r
dword_103B38	DCD 0x10A75B		; DATA XREF: sub_1038D4:loc_103914r
off_103B3C	DCD dword_1085F4	; DATA XREF: sub_1038D4+48r
					; sub_1038D4+180r
dword_103B40	DCD 0xFFFF8001		; DATA XREF: sub_1038D4+6Cr
					; sub_1038D4+1BCr
off_103B44	DCD aLoadPlginfoFai	; DATA XREF: sub_1038D4+84r
					; "load plginfo failed:%08x\n"
off_103B48	DCD aProctid08x08x	; DATA XREF: sub_1038D4+9Cr
					; "procTid: %08x%08x\n"
dword_103B4C	DCD 0x10A79B		; DATA XREF: sub_1038D4:loc_10399Cr
dword_103B50	DCD 0x3E9		; DATA XREF: sub_1038D4+104r
dword_103B54	DCD 0x10A7A9		; DATA XREF: sub_1038D4+188r
dword_103B58	DCD 0x10A7CB		; DATA XREF: sub_1038D4+1A4r
dword_103B5C	DCD 0x10A7DD		; DATA XREF: sub_1038D4+1CCr
off_103B60	DCD aLoadPlgFailed0	; DATA XREF: sub_1038D4+214r
					; "load plg failed: %08x\n"
dword_103B64	DCD 0x10A80F		; DATA XREF: sub_1038D4+234r

; =============== S U B	R O U T	I N E =======================================


sub_103B68				; DATA XREF: sub_103BF4+14o
					; ROM:off_103C24o
		STMFD	SP!, {R4-R6,LR}
		MOV	R5, R0
		MOV	R4, R1
		BL	sub_1038D4
		MOV	R0, R5
		MOV	R1, R4
		LDR	R3, =(dword_10AFC4+0x390)
		LDMFD	SP!, {R4-R6,LR}
		BX	R3
; End of function sub_103B68

; ---------------------------------------------------------------------------
off_103B8C	DCD dword_10AFC4+0x390	; DATA XREF: sub_103B68+18r
; ---------------------------------------------------------------------------
		STMFD	SP!, {R4-R8,LR}
		MOV	R4, R2
		MOV	R5, R3
		LDR	R3, [R2]
		LDR	R2, =dword_10AED8
		LDR	R8, [SP,#0x18]
		MOV	R7, R0
		STR	R3, [R2,#(dword_10AEF0 - 0x10AED8)]
		LDR	R3, [R4,#4]
		MOV	R6, R1
		STR	R3, [R2,#(dword_10AEF4 - 0x10AED8)]
		LDR	R0, =aRunappletTid00 ; "runApplet tid0: %08x, tid1: %08x\n"
		LDMIA	R4, {R1,R2}
		BL	sub_101A14
		STR	R8, [SP,#0x18]
		MOV	R0, R7
		MOV	R1, R6
		MOV	R2, R4
		MOV	R3, R5
		LDR	R12, =dword_10AF84
		LDMFD	SP!, {R4-R8,LR}
		BX	R12 ; dword_10AF84
; ---------------------------------------------------------------------------
off_103BE8	DCD dword_10AED8	; DATA XREF: ROM:00103BA0r
off_103BEC	DCD aRunappletTid00	; DATA XREF: ROM:00103BBCr
					; "runApplet tid0: %08x, tid1: %08x\n"
off_103BF0	DCD dword_10AF84	; DATA XREF: ROM:00103BDCr

; =============== S U B	R O U T	I N E =======================================


sub_103BF4				; CODE XREF: main+250p
		LDR	R3, =dword_10AD18
		STMFD	SP!, {R4,LR}
		LDR	R4, =(dword_10AFC4+0x304)
		LDR	R1, [R3]	; funcAddr
		MOV	R0, R4		; hook
		LDR	R2, =sub_103B68	; callbackAddr
		BL	rtInitHook
		MOV	R0, R4		; hook
		LDMFD	SP!, {R4,LR}
		B	rtEnableHook
; End of function sub_103BF4

; ---------------------------------------------------------------------------
off_103C1C	DCD dword_10AD18	; DATA XREF: sub_103BF4r
; RT_HOOK *off_103C20
off_103C20	DCD dword_10AFC4+0x304	; DATA XREF: sub_103BF4+8r
; uint32_t off_103C24
off_103C24	DCD sub_103B68		; DATA XREF: sub_103BF4+14r

; =============== S U B	R O U T	I N E =======================================


sub_103C28				; CODE XREF: sub_103D80+28p

var_498		= -0x498
handle		= -0x484
entriesRead	= -0x480
var_47C		= -0x47C
var_478		= -0x478
var_474		= -0x474
var_470		= -0x470

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x480
		SUB	SP, SP,	#0xC	; archive
		MOV	R3, #3
		MOV	R7, R0
		MOV	R0, R2
		MOV	R4, R2
		MOV	R6, R1
		STRB	R3, [SP,#0x4A8+var_47C]
		BL	strlen
		ADD	R5, SP,	#0x4A8+var_470
		STR	R4, [SP,#0x4A8+var_474]
		LDR	R12, =(dword_10AFC4+0x3D0)
		ADD	R3, SP,	#0x4A8+var_498
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x4A8+var_478]
		LDMDB	R5, {R0-R2}
		STMIA	R3, {R0-R2}
		ADD	R3, R12, #8
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x4A8+handle ;	out
		BL	FSUSER_OpenDirectory
		SUBS	R1, R0,	#0
		MOVEQ	R4, R1
		MOVEQ	R8, R4
		MOVEQ	R9, R4
		BEQ	loc_103CE0
		LDR	R0, =0x109E85
		BL	sub_101A14
		MOV	R0, #0
		B	loc_103D1C
; ---------------------------------------------------------------------------

loc_103CB4				; CODE XREF: sub_103C28+A8j
		ADD	R3, R3,	#2
		CMP	R3, #0x450
		STRB	R2, [R6,R8]
		ADD	R8, R8,	#1
		BEQ	loc_103CD4

loc_103CC8				; CODE XREF: sub_103C28+E4j
		LDRH	R2, [R5,R3]
		CMP	R2, #0
		BNE	loc_103CB4

loc_103CD4				; CODE XREF: sub_103C28+9Cj
		STRB	R9, [R6,R8]
		ADD	R4, R4,	#1
		ADD	R8, R8,	#1

loc_103CE0				; CODE XREF: sub_103C28+78j
		MOV	R3, R5		; buffer
		LDR	R0, [SP,#0x4A8+handle] ; handle
		ADD	R1, SP,	#0x4A8+entriesRead ; entriesRead
		MOV	R2, #1		; entrycount
		STR	R9, [SP,#0x4A8+entriesRead]
		BL	FSDIR_Read
		LDR	R3, [SP,#0x4A8+entriesRead]
		CMP	R3, #0
		ADDNE	R3, R6,	R8
		STRNE	R3, [R7,R4,LSL#2]
		MOVNE	R3, #0
		BNE	loc_103CC8
		LDR	R0, [SP,#0x4A8+handle] ; handle
		BL	FSDIR_Close
		MOV	R0, R4

loc_103D1C				; CODE XREF: sub_103C28+88j
		ADD	SP, SP,	#0x480
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4-R9,PC}
; End of function sub_103C28

; ---------------------------------------------------------------------------
off_103D28	DCD dword_10AFC4+0x3D0	; DATA XREF: sub_103C28+30r
off_103D2C	DCD fsUserHandle	; DATA XREF: sub_103C28+54r
dword_103D30	DCD 0x109E85		; DATA XREF: sub_103C28+7Cr

; =============== S U B	R O U T	I N E =======================================


sub_103D34				; CODE XREF: sub_103E94+24p
					; sub_104044+10Cp ...
		LDR	R3, =dword_10B3AC
		MOV	R2, #0
		LDR	R3, [R3]
		STR	R2, [R3]
		LDR	R2, =(dword_10AFC4+0x300)
		LDR	R1, [R2]
		LDR	R2, =dword_10B3B0
		STR	R1, [R2]
		LDR	R2, =dword_10AED8
		LDR	R1, [R2,#(dword_10AEE8 - 0x10AED8)]
		LDR	R2, [R2,#(dword_10AEEC - 0x10AED8)]
		STR	R1, [R3,#0x104]
		STR	R2, [R3,#0x108]
		BX	LR
; End of function sub_103D34

; ---------------------------------------------------------------------------
off_103D6C	DCD dword_10B3AC	; DATA XREF: sub_103D34r
off_103D70	DCD dword_10AFC4+0x300	; DATA XREF: sub_103D34+10r
off_103D74	DCD dword_10B3B0	; DATA XREF: sub_103D34+18r
off_103D78	DCD dword_10AED8	; DATA XREF: sub_103D34+20r
; ---------------------------------------------------------------------------
		BX	LR

; =============== S U B	R O U T	I N E =======================================


sub_103D80				; CODE XREF: sub_103E94+2Cp
					; sub_103E94+48p ...

var_11A8	= -0x11A8
fileName	= -0x10E0
var_1018	= -0x1018

		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0x1200
		SUB	SP, SP,	#0x14
		MOV	R2, R0
		LDR	R1, =aPluginS	; "/plugin/%s"
		ADD	R0, SP,	#0x1228+var_11A8
		BL	sub_107B90
		MOV	R0, SP
		ADD	R1, SP,	#0x1228+var_1018
		ADD	R2, SP,	#0x1228+var_11A8
		BL	sub_103C28
		LDR	R6, =dword_10B3B0
		MOV	R5, #0
		MOV	R7, R0

loc_103DB8				; CODE XREF: sub_103D80+E4j
		CMP	R5, R7
		BEQ	loc_103E68
		LDR	R1, =0x10A859
		ADD	R2, SP,	#0x1228+var_11A8
		LDR	R3, [SP,R5,LSL#2]
		ADD	R0, SP,	#0x1228+fileName
		BL	sub_107B90
		ADD	R0, SP,	#0x1228+fileName ; fileName
		BL	rtGetFileSize
		BL	rtAlignToPageSize
		ADD	R1, SP,	#0x1228+fileName
		LDR	R3, [R6]
		MOV	R4, R0
		MOV	R2, R4
		LDR	R0, =0x10A85F
		BL	sub_101A14
		LDR	R0, [R6]
		ADD	R0, R4,	R0
		BL	sub_1037A4
		CMP	R0, #0
		LDRNE	R0, =0x10A88B
		BNE	loc_103E2C
		ADD	R0, SP,	#0x1228+fileName ; fileName
		LDR	R1, [R6]	; pBuf
		MOV	R2, R4		; bufSize
		BL	rtLoadFileToBuffer
		CMP	R0, #0
		BNE	loc_103E34
		LDR	R0, =0x10A8A7

loc_103E2C				; CODE XREF: sub_103D80+8Cj
		BL	sub_101A14
		B	loc_103E60
; ---------------------------------------------------------------------------

loc_103E34				; CODE XREF: sub_103D80+A4j
		LDR	R3, =dword_10B3AC
		LDR	R1, [R6]
		LDR	R2, [R3]
		LDR	R3, [R2]
		ADD	R0, R2,	R3,LSL#2
		ADD	R3, R3,	#1
		STR	R4, [R0,#0x84]
		ADD	R4, R4,	R1
		STR	R1, [R0,#4]
		STR	R3, [R2]
		STR	R4, [R6]

loc_103E60				; CODE XREF: sub_103D80+B0j
		ADD	R5, R5,	#1
		B	loc_103DB8
; ---------------------------------------------------------------------------

loc_103E68				; CODE XREF: sub_103D80+3Cj
		MOV	R0, R5
		ADD	SP, SP,	#0x1200
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_103D80

; ---------------------------------------------------------------------------
off_103E78	DCD aPluginS		; DATA XREF: sub_103D80+10r
					; "/plugin/%s"
off_103E7C	DCD dword_10B3B0	; DATA XREF: sub_103D80+2Cr
dword_103E80	DCD 0x10A859		; DATA XREF: sub_103D80+40r
dword_103E84	DCD 0x10A85F		; DATA XREF: sub_103D80+70r
dword_103E88	DCD 0x10A88B		; DATA XREF: sub_103D80+88r
dword_103E8C	DCD 0x10A8A7		; DATA XREF: sub_103D80+A8r
off_103E90	DCD dword_10B3AC	; DATA XREF: sub_103D80:loc_103E34r

; =============== S U B	R O U T	I N E =======================================


sub_103E94				; DATA XREF: sub_104044+134o
					; ROM:off_1041D4o
		STMFD	SP!, {R4-R6,LR}
		MOV	R4, R0
		SUB	SP, SP,	#0x20
		MOV	R6, R1
		MOV	R5, R2
		LDR	R1, [R4,#4]
		LDR	R2, [R4]
		LDR	R0, =aStartingApplet ; "starting applet: %08x%08x\n"
		BL	sub_101A14
		BL	sub_103D34
		LDR	R0, =0x10A8DD
		BL	sub_103D80
		LDR	R2, [R4,#4]
		LDR	R3, [R4]
		MOV	R0, SP
		LDR	R1, =a08x08x	; "%08x%08x"
		BL	sub_107B90
		MOV	R0, SP
		BL	sub_103D80
		LDR	R3, =dword_10B3AC
		LDR	R2, [R4]
		MOV	R0, R4
		LDR	R3, [R3]
		MOV	R1, R6
		STR	R2, [R3,#0x10C]
		LDR	R2, [R4,#4]
		STR	R2, [R3,#0x110]
		MOV	R2, R5
		LDR	R3, =dword_10B440
		BLX	R3 ; dword_10B440
		ADD	SP, SP,	#0x20
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_103E94

; ---------------------------------------------------------------------------
off_103F14	DCD aStartingApplet	; DATA XREF: sub_103E94+1Cr
					; "starting applet: %08x%08x\n"
dword_103F18	DCD 0x10A8DD		; DATA XREF: sub_103E94+28r
off_103F1C	DCD a08x08x		; DATA XREF: sub_103E94+3Cr
					; "%08x%08x"
off_103F20	DCD dword_10B3AC	; DATA XREF: sub_103E94+4Cr
off_103F24	DCD dword_10B440	; DATA XREF: sub_103E94+70r

; =============== S U B	R O U T	I N E =======================================


sub_103F28				; CODE XREF: sub_104044+14Cp

process		= -0x244
var_240		= -0x240
var_23C		= -0x23C

		LDR	R3, =dword_10AD18
		STMFD	SP!, {R4,LR}
		SUB	SP, SP,	#0x240
		MOV	R1, #0
		MOV	R2, #0x238
		ADD	R0, SP,	#0x248+var_240
		LDR	R4, [R3]
		BL	memset
		MOV	R3, #0x3E8
		MOV	R1, #2		; processId
		ADD	R0, SP,	#0x248+process ; process
		STR	R3, [SP,#0x248+var_23C]
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		BEQ	loc_103F7C
		LDR	R0, =aOpenprocessF_2 ; "openProcess failed: %08x\n"
		MOV	R2, #0
		BL	sub_101A14
		MOV	R3, #0
		STR	R3, [SP,#0x248+process]
		B	loc_103F8C
; ---------------------------------------------------------------------------

loc_103F7C				; CODE XREF: sub_103F28+38j
		LDR	R0, [SP,#0x248+process]
		MOV	R1, R4
		ADD	R2, SP,	#0x248+var_240
		BL	sub_102AC4

loc_103F8C				; CODE XREF: sub_103F28+50j
		LDR	R0, [SP,#0x248+process]	; handle
		CMP	R0, #0
		BEQ	loc_103F9C
		BL	svcCloseHandle

loc_103F9C				; CODE XREF: sub_103F28+6Cj
		ADD	SP, SP,	#0x240
		LDMFD	SP!, {R4,PC}
; End of function sub_103F28

; ---------------------------------------------------------------------------
off_103FA4	DCD dword_10AD18	; DATA XREF: sub_103F28r
off_103FA8	DCD aOpenprocessF_2	; DATA XREF: sub_103F28+3Cr
					; "openProcess failed: %08x\n"

; =============== S U B	R O U T	I N E =======================================


sub_103FAC				; CODE XREF: sub_104044+118p
		STMFD	SP!, {R4-R6,LR}
		LDR	R3, =dword_10B3B0
		LDR	R5, =(dword_10AFC4+0x300)
		LDR	R3, [R3]
		LDR	R4, [R5]
		RSB	R4, R4,	R3
		BL	getCurrentProcessHandle
		LDR	R1, [R5]	; addr
		MOV	R2, R4		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R1, R0,	#0
		MOVEQ	R4, R1
		LDREQ	R5, =dword_10B3AC
		BEQ	loc_103FF0
		LDR	R0, =0x10A7CB
		LDMFD	SP!, {R4-R6,LR}
		B	sub_101A14
; ---------------------------------------------------------------------------

loc_103FF0				; CODE XREF: sub_103FAC+34j
					; sub_103FAC+7Cj
		LDR	R3, [R5]
		LDR	R2, [R3]
		CMP	R4, R2
		BCS	locret_10402C
		MOV	R6, R4,LSL#2
		ADD	R3, R3,	R6
		LDR	R0, =0x10A8EB
		LDR	R1, [R3,#4]
		BL	sub_101A14
		LDR	R3, [R5]
		ADD	R4, R4,	#1
		ADD	R3, R3,	R6
		LDR	R3, [R3,#4]
		BLX	R3
		B	loc_103FF0
; ---------------------------------------------------------------------------

locret_10402C				; CODE XREF: sub_103FAC+50j
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_103FAC

; ---------------------------------------------------------------------------
off_104030	DCD dword_10B3B0	; DATA XREF: sub_103FAC+4r
off_104034	DCD dword_10AFC4+0x300	; DATA XREF: sub_103FAC+8r
off_104038	DCD dword_10B3AC	; DATA XREF: sub_103FAC+30r
dword_10403C	DCD 0x10A7CB		; DATA XREF: sub_103FAC+38r
dword_104040	DCD 0x10A8EB		; DATA XREF: sub_103FAC+5Cr

; =============== S U B	R O U T	I N E =======================================


sub_104044				; CODE XREF: sub_101278+D0p
		STMFD	SP!, {R3-R7,LR}
		LDR	R3, =dword_1085F4
		LDR	R5, =(dword_10AFC4+0x3D0)
		LDR	R4, [R3,#(dword_1085F8 - 0x1085F4)]
		BL	sub_10593C
		MOV	R1, #0
		MOV	R2, #0x18
		MOV	R0, R5
		BL	memset
		MOV	R3, #9
		STR	R3, [R5]
		MOV	R3, #1
		STRB	R3, [R5,#(byte_10B398 -	0x10B394)]
		STR	R3, [R5,#(dword_10B39C - 0x10B394)]
		LDR	R3, =0x10A4DD
		MOV	R1, R5		; archive
		STR	R3, [R5,#(dword_10B3A0 - 0x10B394)]
		LDR	R3, =fsUserHandle
		LDR	R0, [R3]	; handle
		BL	FSUSER_OpenArchive
		SUBS	R1, R0,	#0
		BEQ	loc_1040A8
		LDR	R0, =aFsuser_openarc ; "FSUSER_OpenArchive failed: %08x\n"
		LDMFD	SP!, {R3-R7,LR}
		B	sub_101A14
; ---------------------------------------------------------------------------

loc_1040A8				; CODE XREF: sub_104044+54j
		LDR	R6, =dword_10B3AC
		MOV	R0, #0x114	; size
		LDR	R5, =dword_10AED8
		STR	R4, [R6]
		BL	rtAlignToPageSize
		ADD	R4, R0,	R4
		LDR	R0, =aNtr_bin	; "/ntr.bin"
		BL	rtGetFileSize
		BL	rtAlignToPageSize
		MOV	R1, R0
		STR	R0, [R5,#(dword_10AEEC - 0x10AED8)]
		LDR	R0, =aArm11BinSize08 ; "arm11 bin size: %08x\n"
		BL	sub_101A14
		LDR	R0, [R5,#(dword_10AEEC - 0x10AED8)]
		ADD	R0, R4,	R0
		BL	sub_1037A4
		CMP	R0, #0
		BEQ	loc_1040F8
		LDR	R0, =aAllocMemoryFor ; "alloc memory for arm11bin failed\n"
		BL	sub_101A14

loc_1040F8				; CODE XREF: sub_104044+A8j
		LDR	R0, =aNtr_bin	; fileName
		MOV	R1, R4		; pBuf
		LDR	R2, [R5,#0x14]	; bufSize
		BL	rtLoadFileToBuffer
		LDR	R7, =dword_10AED8
		CMP	R0, #0
		BNE	loc_104120
		LDR	R0, =aLoadArm11binFa ; "load arm11bin failed\n"
		LDMFD	SP!, {R3-R7,LR}
		B	sub_101A14
; ---------------------------------------------------------------------------

loc_104120				; CODE XREF: sub_104044+CCj
		LDR	R3, [R7,#(dword_10AEEC - 0x10AED8)]
		STR	R4, [R7,#(dword_10AEE8 - 0x10AED8)]
		CMP	R3, #0x20
		ADD	R5, R4,	R3
		MOVHI	R3, #1
		STRHI	R3, [R4,#4]
		LDR	R4, =(dword_10AFC4+0x300)
		MOV	R1, #0
		MOV	R2, #0x114
		LDR	R0, [R6]
		BL	memset
		STR	R5, [R4]
		BL	sub_103D34
		LDR	R0, =aHome	; "home"
		BL	sub_103D80
		BL	sub_103FAC
		LDR	R3, =dword_10B3B0
		LDR	R3, [R3]
		STR	R3, [R4]
		BL	sub_103D34
		LDR	R3, =dword_10AEBC
		LDR	R0, =dword_10B3B4 ; hook
		LDR	R2, =sub_103E94	; callbackAddr
		LDR	R1, [R3]	; funcAddr
		BL	rtInitHook
		LDR	R0, =dword_10B3B4 ; hook
		BL	rtEnableHook
		LDMFD	SP!, {R3-R7,LR}
		B	sub_103F28
; End of function sub_104044

; ---------------------------------------------------------------------------
off_104194	DCD dword_1085F4	; DATA XREF: sub_104044+4r
off_104198	DCD dword_10AFC4+0x3D0	; DATA XREF: sub_104044+8r
dword_10419C	DCD 0x10A4DD		; DATA XREF: sub_104044+38r
off_1041A0	DCD fsUserHandle	; DATA XREF: sub_104044+44r
off_1041A4	DCD aFsuser_openarc	; DATA XREF: sub_104044+58r
					; "FSUSER_OpenArchive failed: %08x\n"
off_1041A8	DCD dword_10B3AC	; DATA XREF: sub_104044:loc_1040A8r
off_1041AC	DCD dword_10AED8	; DATA XREF: sub_104044+6Cr
					; sub_104044+C4r
; uint8_t *fileName
fileName	DCD aNtr_bin		; DATA XREF: sub_104044+7Cr
					; sub_104044:loc_1040F8r
					; "/ntr.bin"
off_1041B4	DCD aArm11BinSize08	; DATA XREF: sub_104044+90r
					; "arm11 bin size: %08x\n"
off_1041B8	DCD aAllocMemoryFor	; DATA XREF: sub_104044+ACr
					; "alloc memory for arm11bin failed\n"
off_1041BC	DCD aLoadArm11binFa	; DATA XREF: sub_104044+D0r
					; "load arm11bin failed\n"
off_1041C0	DCD dword_10AFC4+0x300	; DATA XREF: sub_104044+F4r
off_1041C4	DCD aHome		; DATA XREF: sub_104044+110r
					; "home"
off_1041C8	DCD dword_10B3B0	; DATA XREF: sub_104044+11Cr
off_1041CC	DCD dword_10AEBC	; DATA XREF: sub_104044+12Cr
; RT_HOOK *off_1041D0
off_1041D0	DCD dword_10B3B4	; DATA XREF: sub_104044+130r
					; sub_104044+140r
; uint32_t off_1041D4
off_1041D4	DCD sub_103E94		; DATA XREF: sub_104044+134r

; =============== S U B	R O U T	I N E =======================================


sub_1041D8				; CODE XREF: main+278p
		STMFD	SP!, {R3-R7,LR}
		BL	sub_10593C
		LDR	R3, =dword_1085F4
		LDR	R4, =dword_10B3AC
		MOV	R5, #0
		LDR	R3, [R3,#(dword_1085F8 - 0x1085F4)]
		MOV	R7, R4
		STR	R3, [R4]

loc_1041F8				; CODE XREF: sub_1041D8+58j
		LDR	R3, [R4]
		LDR	R2, [R3]
		CMP	R5, R2
		BCS	locret_104234
		MOV	R6, R5,LSL#2
		ADD	R3, R3,	R6
		LDR	R0, =0x10A8EB
		LDR	R1, [R3,#4]
		BL	sub_101A14
		LDR	R3, [R7]
		ADD	R5, R5,	#1
		ADD	R3, R3,	R6
		LDR	R3, [R3,#4]
		BLX	R3
		B	loc_1041F8
; ---------------------------------------------------------------------------

locret_104234				; CODE XREF: sub_1041D8+2Cj
		LDMFD	SP!, {R3-R7,PC}
; End of function sub_1041D8

; ---------------------------------------------------------------------------
off_104238	DCD dword_1085F4	; DATA XREF: sub_1041D8+8r
off_10423C	DCD dword_10B3AC	; DATA XREF: sub_1041D8+Cr
dword_104240	DCD 0x10A8EB		; DATA XREF: sub_1041D8+38r
; ---------------------------------------------------------------------------
		BX	LR

; =============== S U B	R O U T	I N E =======================================


; uint32_t __stdcall getCurrentProcessId()
getCurrentProcessId			; CODE XREF: main+1A4p	sub_103158+110p
		STMFD	SP!, {R4,LR}
		LDR	R4, =dword_10B480
		LDR	R1, =0xFFFF8001	; handle
		MOV	R0, R4		; out
		BL	svcGetProcessId
		LDR	R0, [R4]
		LDMFD	SP!, {R4,PC}
; End of function getCurrentProcessId

; ---------------------------------------------------------------------------
; u32 *out
out		DCD dword_10B480	; DATA XREF: getCurrentProcessId+4r
; Handle dword_104268
dword_104268	DCD 0xFFFF8001		; DATA XREF: getCurrentProcessId+8r

; =============== S U B	R O U T	I N E =======================================


; uint32_t __stdcall getCurrentProcessHandle()
getCurrentProcessHandle			; CODE XREF: sub_101EA4+18p
					; sub_102508+24p ...

process		= -0x14

		STMFD	SP!, {R0-R2,R4,R5,LR}
		MOV	R3, #0
		LDR	R5, =dword_10B480
		STR	R3, [SP,#0x18+process]
		LDR	R4, [R5,#(dword_10B484 - 0x10B480)]
		CMP	R4, R3
		BNE	loc_1042BC
		LDR	R1, =0xFFFF8001	; handle
		MOV	R0, R5		; out
		BL	svcGetProcessId
		LDR	R1, [R5]	; processId
		ADD	R0, SP,	#0x18+process ;	process
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		LDREQ	R4, [SP,#0x18+process]
		STREQ	R4, [R5,#(dword_10B484 - 0x10B480)]
		BEQ	loc_1042BC
		LDR	R0, =0x10A973
		MOV	R2, R4
		BL	showDbg

loc_1042BC				; CODE XREF: getCurrentProcessHandle+18j
					; getCurrentProcessHandle+40j
		MOV	R0, R4
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,R5,PC}
; End of function getCurrentProcessHandle

; ---------------------------------------------------------------------------
; u32 *off_1042C8
off_1042C8	DCD dword_10B480	; DATA XREF: getCurrentProcessHandle+8r
; Handle dword_1042CC
dword_1042CC	DCD 0xFFFF8001		; DATA XREF: getCurrentProcessHandle+1Cr
dword_1042D0	DCD 0x10A973		; DATA XREF: getCurrentProcessHandle+44r
; ---------------------------------------------------------------------------
		B	sub_107020

; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall controlMemory(void *addr,	uint32_t size)
controlMemory				; CODE XREF: sub_102AC4+58p
					; sub_1038D4+17Cp

var_24		= -0x24
var_20		= -0x20

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x14	; op
		ADD	R5, SP,	#0x30+var_20
		MOV	R6, #0
		MOV	R4, R1
		MOV	R8, R2
		STR	R6, [R5,#-4]!
		BL	sub_10704C
		MOV	R9, R0
		BL	sub_107020
		MOV	R7, R0
		MOV	R0, R9
		BL	sub_106FFC
		LDR	R2, =0x203
		MOV	R3, #3
		MOV	R0, R5		; addr_out
		STMEA	SP, {R2,R3}
		MOV	R1, R4		; addr0
		MOV	R2, R4		; addr1
		MOV	R3, R8		; size
		BL	svcControlMemory
		MOV	R5, R0
		MOV	R0, R7
		BL	sub_106FFC
		CMP	R5, R6
		LDRNE	R0, =aSvc_controlmem ; "svc_controlMemory failed: %08x"
		MOVNE	R1, R5
		MOVNE	R2, R6
		BNE	loc_104360
		LDR	R1, [SP,#0x30+var_24]
		CMP	R1, R4
		BEQ	loc_104364
		LDR	R0, =0x10A991
		MOV	R2, R4

loc_104360				; CODE XREF: controlMemory+70j
		BL	showDbg

loc_104364				; CODE XREF: controlMemory+7Cj
		MOV	R0, R5
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4-R9,PC}
; End of function controlMemory

; ---------------------------------------------------------------------------
dword_104370	DCD 0x203		; DATA XREF: controlMemory+34r
off_104374	DCD aSvc_controlmem	; DATA XREF: controlMemory+64r
					; "svc_controlMemory failed: %08x"
dword_104378	DCD 0x10A991		; DATA XREF: controlMemory+80r

; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall protectRemoteMemory(Handle hProcess, void	*addr, uint32_t	size)
protectRemoteMemory			; CODE XREF: sub_102434+5Cp
					; sub_102AC4+7Cp ...

var_4		= -4

		STMFD	SP!, {R0-R2,LR}	; Type
		MOV	R3, R2		; size
		MOV	R12, #7
		MOV	R2, #6
		STMEA	SP, {R2,R12}
		MOV	R2, R1		; Addr1
		BL	svcControlProcessMemory
		ADD	SP, SP,	#0xC
		LDR	PC, [SP+4+var_4],#4
; End of function protectRemoteMemory


; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall protectMemory(void *addr,	uint32_t size)
protectMemory				; CODE XREF: sub_101458+1Cp
					; sub_1021FC+130p ...
		STMFD	SP!, {R3-R5,LR}
		MOV	R4, R1
		MOV	R5, R0
		BL	getCurrentProcessHandle
		MOV	R1, R5		; addr
		MOV	R2, R4		; size
		LDMFD	SP!, {R3-R5,LR}
		B	protectRemoteMemory
; End of function protectMemory


; =============== S U B	R O U T	I N E =======================================


sub_1043C0				; CODE XREF: sub_100CA8+3Cp
					; sub_102508+118p ...

src		= -0x88
hdma		= -0x78
state		= -0x74
var_70		= -0x70
arg_0		=  0

		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x68
		ADD	R9, SP,	#0x88+var_70
		LDR	R5, [SP,#0x88+arg_0]
		MOV	R10, R3
		MOV	R8, R2
		MOV	R7, R0
		MOV	R2, #0x50
		MOV	R6, R1
		MOV	R0, R9
		MOV	R1, #0
		BL	memset
		MOV	R3, #0
		MOV	R0, R8		; handle
		MOV	R1, R10		; addr
		MOV	R2, R5		; size
		STR	R3, [SP,#0x88+hdma]
		BL	svcFlushProcessDataCache
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10A9AB
		BNE	loc_104430
		MOV	R0, R7		; handle
		MOV	R1, R6		; addr
		MOV	R2, R5		; size
		BL	svcFlushProcessDataCache
		SUBS	R4, R0,	#0
		BEQ	loc_10443C
		LDR	R0, =aSvc_flushproce ; "svc_flushProcessDataCache(hDst) failed."...

loc_104430				; CODE XREF: sub_1043C0+50j
		BL	sub_101A14
		MOV	R0, R4
		B	loc_1044FC
; ---------------------------------------------------------------------------

loc_10443C				; CODE XREF: sub_1043C0+68j
		STR	R10, [SP,#0x88+src] ; src
		STMFA	SP, {R5,R9}
		ADD	R0, SP,	#0x88+hdma ; hdma
		MOV	R1, R7		; dstProcess
		MOV	R2, R6		; dst
		MOV	R3, R8		; srcProcess
		BL	svcStartInterProcessDma
		CMP	R0, #0
		BNE	loc_1044FC
		LDR	R4, =0x2710
		LDR	R8, =0xFFF04504
		LDR	R9, =0xFFF54204

loc_10446C				; CODE XREF: sub_1043C0+108j
		MOV	R3, #0
		ADD	R0, SP,	#0x88+state ; state
		LDR	R1, [SP,#0x88+hdma] ; dma
		STR	R3, [SP,#0x88+state]
		BL	svcGetDmaState
		LDR	R3, [SP,#0x88+state]
		UXTB	R2, R3
		CMP	R2, #4
		BNE	loc_1044B8
		CMP	R3, R9
		CMPNE	R3, R8
		LDR	R1, =0xFFF04204
		MOVEQ	R2, #1
		MOVNE	R2, #0
		CMP	R3, R1
		MOVNE	R3, R2
		ORREQ	R3, R2,	#1
		CMP	R3, #0
		BNE	loc_1044E4

loc_1044B8				; CODE XREF: sub_1043C0+CCj
		LDR	R0, =0xF4240	; ns
		MOV	R1, #0
		BL	svcSleepThread
		SUBS	R4, R4,	#1
		BNE	loc_10446C
		LDR	R0, =0x10A9FD
		LDR	R1, [SP,#0x88+state]
		MOV	R2, R4
		BL	showDbg
		MOV	R0, #1
		B	loc_1044FC
; ---------------------------------------------------------------------------

loc_1044E4				; CODE XREF: sub_1043C0+F4j
		LDR	R0, [SP,#0x88+hdma] ; handle
		BL	svcCloseHandle
		MOV	R0, R7		; handle
		MOV	R1, R6		; addr
		MOV	R2, R5		; size
		BL	svcInvalidateProcessDataCache

loc_1044FC				; CODE XREF: sub_1043C0+78j
					; sub_1043C0+9Cj ...
		ADD	SP, SP,	#0x68
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_1043C0

; ---------------------------------------------------------------------------
dword_104504	DCD 0x10A9AB		; DATA XREF: sub_1043C0+4Cr
off_104508	DCD aSvc_flushproce	; DATA XREF: sub_1043C0+6Cr
					; "svc_flushProcessDataCache(hDst) failed."...
dword_10450C	DCD 0x2710		; DATA XREF: sub_1043C0+A0r
dword_104510	DCD 0xFFF04504		; DATA XREF: sub_1043C0+A4r
dword_104514	DCD 0xFFF54204		; DATA XREF: sub_1043C0+A8r
dword_104518	DCD 0xFFF04204		; DATA XREF: sub_1043C0+D8r
; s64 dword_10451C
dword_10451C	DCD 0xF4240		; DATA XREF: sub_1043C0:loc_1044B8r
dword_104520	DCD 0x10A9FD		; DATA XREF: sub_1043C0+10Cr

; =============== S U B	R O U T	I N E =======================================


sub_104524				; CODE XREF: sub_1038D4+94p

var_108		= -0x108
var_AC		= -0xAC
var_A8		= -0xA8

		STMFD	SP!, {R4,LR}
		SUB	SP, SP,	#0x200
		MOV	R4, R1
		BL	sub_10704C
		MOV	R2, #0x100
		MOV	R1, R0
		MOV	R0, SP
		BL	sub_10707C
		LDR	R3, =dword_108630
		ADD	R0, SP,	#0x208+var_108
		MOV	R2, #0x100
		LDR	R3, [R3]
		LDR	R1, [SP,R3]
		BL	sub_10707C
		LDR	R3, [SP,#0x208+var_AC]
		STR	R3, [R4]
		LDR	R3, [SP,#0x208+var_A8]
		STR	R3, [R4,#4]
		ADD	SP, SP,	#0x200
		LDMFD	SP!, {R4,PC}
; End of function sub_104524

; ---------------------------------------------------------------------------
off_104574	DCD dword_108630	; DATA XREF: sub_104524+20r

; =============== S U B	R O U T	I N E =======================================


sub_104578				; CODE XREF: sub_102388+44p
					; sub_104BE8+128p

process		= -0x224
var_220		= -0x220
var_120		= -0x120
var_D0		= -0xD0
var_C6		= -0xC6
var_C4		= -0xC4
var_C0		= -0xC0

		STMFD	SP!, {R4-R9,LR}
		MOV	R12, R0
		SUB	SP, SP,	#0x20C
		MOV	R9, R1
		ADD	R0, SP,	#0x228+process ; process
		MOV	R1, R12		; processId
		MOV	R6, R2
		MOV	R8, R3
		BL	svcOpenProcess
		SUBS	R4, R0,	#0
		BEQ	loc_1045B8
		LDR	R0, =aOpenprocessF_2 ; "openProcess failed: %08x\n"
		MOV	R1, R4
		MOV	R2, #0
		BL	sub_101A14
		B	loc_104614
; ---------------------------------------------------------------------------

loc_1045B8				; CODE XREF: sub_104578+28j
		LDR	R0, [SP,#0x228+process]
		BL	sub_10704C
		ADD	R7, SP,	#0x228+var_220
		MOV	R2, #0x100
		MOV	R5, R0
		MOV	R1, R5
		MOV	R0, R7
		BL	sub_10707C
		LDR	R3, =dword_108630
		ADD	R0, SP,	#0x228+var_120
		MOV	R2, #0x100
		LDR	R3, [R3]
		LDR	R1, [R7,R3]
		BL	sub_10707C
		LDR	R3, [SP,#0x228+var_C4]
		MOV	R0, R9
		STR	R3, [R6]
		LDR	R3, [SP,#0x228+var_C0]
		ADD	R1, SP,	#0x228+var_D0
		STR	R3, [R6,#4]
		STRB	R4, [SP,#0x228+var_C6]
		BL	strcpy
		STR	R5, [R8]

loc_104614				; CODE XREF: sub_104578+3Cj
		LDR	R0, [SP,#0x228+process]	; handle
		CMP	R0, #0
		BEQ	loc_104624
		BL	svcCloseHandle

loc_104624				; CODE XREF: sub_104578+A4j
		MOV	R0, R4
		ADD	SP, SP,	#0x20C
		LDMFD	SP!, {R4-R9,PC}
; End of function sub_104578

; ---------------------------------------------------------------------------
off_104630	DCD aOpenprocessF_2	; DATA XREF: sub_104578+2Cr
					; "openProcess failed: %08x\n"
off_104634	DCD dword_108630	; DATA XREF: sub_104578+60r

; =============== S U B	R O U T	I N E =======================================


sub_104638				; CODE XREF: main+C4p main+D0p ...

var_1078	= -0x1078
var_1068	= -0x1068
openflags	= -0x105C
attributes	= -0x1058
hProcess	= -0x1050
out		= -0x104C
var_1044	= -0x1044
var_1040	= -0x1040
var_103C	= -0x103C
var_1038	= -0x1038
var_1018	= -0x1018

		STMFD	SP!, {R4-R8,LR}
		SUB	SP, SP,	#0x1040
		SUB	SP, SP,	#0x20	; archive
		MOV	R3, #3
		MOV	R6, R0
		MOV	R0, R1
		MOV	R4, R1
		STRB	R3, [SP,#0x1078+var_1044]
		BL	strlen
		ADD	R2, SP,	#0x1078+var_1044
		STR	R4, [SP,#0x1078+var_103C]
		ADD	R3, SP,	#0x1078+var_1068
		LDR	R12, =sdmcArchive
		MOV	R5, #0
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x1078+var_1040]
		LDMIA	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x1078+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R5, [SP,#0x1078+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x1078+out ; out
		BL	FSUSER_OpenFileDirectly
		SUBS	R4, R0,	#0
		LDRNE	R0, =aOpenfileFailed ; "openFile failed: %08x"
		MOVNE	R1, R4
		MOVNE	R2, R5
		BNE	loc_10473C
		MOV	R1, R6		; processId
		ADD	R0, SP,	#0x1078+hProcess ; process
		BL	svcOpenProcess
		SUBS	R1, R0,	#0
		MOVNE	R2, R4
		LDRNE	R0, =aOpenprocessF_0 ; "openProcess failed: %08x"
		BNE	loc_10473C
		ADD	R3, SP,	#0x1078+var_1018
		MOV	R4, #0x100000
		ADD	R5, SP,	#0x1078+var_1038
		SUB	R7, R3,	#0x30

loc_1046EC				; CODE XREF: sub_104638+174j
		LDR	R1, =(aOutaddr08xAddr+0xF)
		MOV	R2, R4
		MOV	R0, R5
		BL	sub_107B90
		MOV	R0, R5
		BL	sub_107200
		MOV	R1, #0
		LDR	R2, =0x1020
		MOV	R0, R5
		BL	memset
		LDR	R0, [SP,#0x1078+hProcess] ; hProcess
		MOV	R1, R4		; addr
		MOV	R2, #0x1000	; size
		BL	protectRemoteMemory
		SUB	R6, R4,	#0x100000
		SUBS	R8, R0,	#0
		BEQ	loc_104754
		LDR	R0, =0x10AA35
		MOV	R1, R4
		MOV	R2, #0

loc_10473C				; CODE XREF: sub_104638+84j
					; sub_104638+A0j
		BL	showDbg
		LDR	R0, [SP,#0x1078+hProcess] ; handle
		CMP	R0, #0
		BEQ	loc_1047B0
		BL	svcCloseHandle
		B	loc_1047B0
; ---------------------------------------------------------------------------

loc_104754				; CODE XREF: sub_104638+F4j
		MOV	R3, #0x1000
		STR	R3, [SP,#0x1078+var_1078]
		MOV	R1, R5
		LDR	R0, =0xFFFF8001
		LDR	R2, [SP,#0x1078+hProcess]
		MOV	R3, R4
		BL	sub_1043C0
		SUBS	R1, R0,	#0
		BEQ	loc_104784
		LDR	R0, =0x10AA51
		MOV	R2, R8
		BL	showDbg

loc_104784				; CODE XREF: sub_104638+13Cj
		MOV	R2, #0x1000
		MOV	R3, #0
		STR	R5, [SP,#0x1078+var_1078]
		STMFA	SP, {R2,R3}
		LDR	R0, [SP,#0x1078+out] ; data
		MOV	R1, R7		; size
		MOV	R2, R6		; flushFlags
		MOV	R3, #0
		BL	FSFILE_Write
		ADD	R4, R4,	#0x1000
		B	loc_1046EC
; ---------------------------------------------------------------------------

loc_1047B0				; CODE XREF: sub_104638+110j
					; sub_104638+118j
		LDR	R0, [SP,#0x1078+out] ; handle
		CMP	R0, #0
		BEQ	loc_1047C0
		BL	svcCloseHandle

loc_1047C0				; CODE XREF: sub_104638+180j
		ADD	SP, SP,	#0x1040
		ADD	SP, SP,	#0x20
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_104638

; ---------------------------------------------------------------------------
off_1047CC	DCD sdmcArchive		; DATA XREF: sub_104638+30r
off_1047D0	DCD fsUserHandle	; DATA XREF: sub_104638+60r
off_1047D4	DCD aOpenfileFailed	; DATA XREF: sub_104638+78r
					; "openFile failed: %08x"
off_1047D8	DCD aOpenprocessF_0	; DATA XREF: sub_104638+9Cr
					; "openProcess failed: %08x"
off_1047DC	DCD aOutaddr08xAddr+0xF	; DATA XREF: sub_104638:loc_1046ECr
dword_1047E0	DCD 0x1020		; DATA XREF: sub_104638+D0r
dword_1047E4	DCD 0x10AA35		; DATA XREF: sub_104638+F8r
dword_1047E8	DCD 0xFFFF8001		; DATA XREF: sub_104638+128r
dword_1047EC	DCD 0x10AA51		; DATA XREF: sub_104638+140r

; =============== S U B	R O U T	I N E =======================================


sub_1047F0

g		= -0x1078
b		= -0x1074
var_1070	= -0x1070
var_1068	= -0x1068
openflags	= -0x105C
attributes	= -0x1058
handle_out	= -0x1050
out		= -0x104C
var_1044	= -0x1044
var_1040	= -0x1040
var_103C	= -0x103C
var_1038	= -0x1038
var_1018	= -0x1018

		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0x1040
		SUB	SP, SP,	#0x24	; archive
		MOV	R4, #0
		MOV	R3, #3
		MOV	R6, R0
		MOV	R0, R1
		MOV	R5, R1
		STRB	R3, [SP,#0x1078+var_1044]
		STR	R4, [SP,#0x1078+handle_out]
		STR	R4, [SP,#0x1078+out]
		BL	strlen
		ADD	R2, SP,	#0x1078+var_1044
		STR	R5, [SP,#0x1078+var_103C]
		ADD	R3, SP,	#0x1078+var_1068
		LDR	R12, =sdmcArchive
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x1078+var_1040]
		LDMIA	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x1078+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R4, [SP,#0x1078+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x1078+out ; out
		BL	FSUSER_OpenFileDirectly
		SUBS	R5, R0,	#0
		LDRNE	R0, =aOpenfileFailed ; "openFile failed: %08x"
		MOVNE	R1, R5
		MOVNE	R2, R4
		BNE	loc_104928
		LDR	R0, =0x10AA6F
		LDR	R1, [SP,#0x1078+out]
		MOV	R2, R5
		BL	showDbg
		ADD	R0, SP,	#0x1078+handle_out ; handle_out
		MOV	R1, R6		; pid
		BL	svc_debugActiveProcess
		SUBS	R4, R0,	#0
		LDRNE	R0, =0x10AA7B
		MOVNE	R1, R4
		MOVNE	R2, R5
		BNE	loc_104928
		LDR	R0, =0x10AA9B
		LDR	R1, [SP,#0x1078+handle_out]
		MOV	R2, R4
		BL	showDbg
		ADD	R3, SP,	#0x1078+var_1018
		ADD	R5, SP,	#0x1078+var_1038
		SUB	R7, R3,	#0x30

loc_1048CC				; CODE XREF: sub_1047F0+178j
		ADD	R6, R4,	#0x100000
		MOV	R0, R5
		LDR	R1, =(aOutaddr08xAddr+0xF)
		MOV	R2, R6
		BL	sub_107B90
		MOV	R1, #0xA	; x
		MOV	R3, #0
		MOV	R2, R1		; y
		STR	R3, [SP,#0x1078+g] ; g
		STR	R3, [SP,#0x1078+b] ; b
		MOV	R0, R5		; s
		MOV	R3, #0xFF	; r
		BL	print
		BL	sub_107188
		MOV	R2, R6		; addr
		MOV	R0, R5		; buffer
		LDR	R1, [SP,#0x1078+handle_out] ; debug
		MOV	R3, #0x1000	; size
		BL	svcReadProcessMemory
		SUBS	R2, R0,	#0
		BEQ	loc_104940
		LDR	R0, =aReadmemoryAddr ; "readmemory addr = %08x, ret = %08x"
		MOV	R1, R6

loc_104928				; CODE XREF: sub_1047F0+8Cj
					; sub_1047F0+BCj
		BL	showDbg
		LDR	R0, [SP,#0x1078+handle_out] ; handle
		CMP	R0, #0
		BEQ	loc_10496C
		BL	svcCloseHandle
		B	loc_10496C
; ---------------------------------------------------------------------------

loc_104940				; CODE XREF: sub_1047F0+12Cj
		MOV	R3, #0x1000
		STR	R3, [SP,#0x1078+b]
		STR	R2, [SP,#0x1078+var_1070]
		STR	R5, [SP,#0x1078+g]
		MOV	R2, R4		; flushFlags
		LDR	R0, [SP,#0x1078+out] ; data
		MOV	R1, R7		; size
		MOV	R3, #0
		BL	FSFILE_Write
		ADD	R4, R4,	#0x1000
		B	loc_1048CC
; ---------------------------------------------------------------------------

loc_10496C				; CODE XREF: sub_1047F0+144j
					; sub_1047F0+14Cj
		LDR	R0, [SP,#0x1078+out] ; handle
		CMP	R0, #0
		BEQ	loc_10497C
		BL	svcCloseHandle

loc_10497C				; CODE XREF: sub_1047F0+184j
		ADD	SP, SP,	#0x1040
		ADD	SP, SP,	#0x24
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_1047F0

; ---------------------------------------------------------------------------
off_104988	DCD sdmcArchive		; DATA XREF: sub_1047F0+3Cr
off_10498C	DCD fsUserHandle	; DATA XREF: sub_1047F0+68r
off_104990	DCD aOpenfileFailed	; DATA XREF: sub_1047F0+80r
					; "openFile failed: %08x"
dword_104994	DCD 0x10AA6F		; DATA XREF: sub_1047F0+90r
dword_104998	DCD 0x10AA7B		; DATA XREF: sub_1047F0+B0r
dword_10499C	DCD 0x10AA9B		; DATA XREF: sub_1047F0+C0r
off_1049A0	DCD aOutaddr08xAddr+0xF	; DATA XREF: sub_1047F0+E4r
off_1049A4	DCD aReadmemoryAddr	; DATA XREF: sub_1047F0+130r
					; "readmemory addr = %08x, ret = %08x"

; =============== S U B	R O U T	I N E =======================================


sub_1049A8				; CODE XREF: main+F8p

var_1128	= -0x1128
var_1118	= -0x1118
openflags	= -0x110C
attributes	= -0x1108
out		= -0x1100
var_10FC	= -0x10FC
var_10E8	= -0x10E8
var_1020	= -0x1020

		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x1100
		SUB	SP, SP,	#8	; archive
		ADD	R4, SP,	#0x1128+var_1020
		MOV	R8, R2
		MOV	R5, #0
		MOV	R7, R0
		LDR	R0, =0x10AACB
		MOV	R6, R1
		STR	R5, [R4,#-0xE0]
		STR	R5, [R4,#-0xDC]
		BL	sub_107574
		MOV	R3, #3
		MOV	R0, R8
		STRB	R3, [R4,#-0xD4]
		BL	strlen
		STR	R8, [R4,#-0xCC]
		ADD	R0, R0,	#1
		STR	R0, [R4,#-0xD0]
		LDR	R0, =aTestpath	; "testpath"
		BL	sub_107574
		SUB	R2, R4,	#0xD4
		ADD	R3, SP,	#0x1128+var_1118
		LDMIA	R2, {R0-R2}
		LDR	R12, =sdmcArchive
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x1128+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R5, [SP,#0x1128+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x1128+out ; out
		BL	FSUSER_OpenFileDirectly
		LDR	R0, =0x10AADD
		BL	sub_107574
		LDR	R3, [R4,#-0xE0]
		CMP	R3, R5
		ADDNE	R8, SP,	#0x1128+var_10E8
		LDRNE	R9, =0xF423F
		BNE	loc_104A9C
		LDR	R0, =aOpenFileFailed ; "open file failed"
		BL	sub_107574
		B	loc_104AE0
; ---------------------------------------------------------------------------

loc_104A64				; CODE XREF: sub_1049A8+128j
		MOV	R0, R4
		MOV	R1, R10
		MOV	R2, #0x1000
		BL	sub_10707C
		MOV	R2, #0x1000
		MOV	R3, #0
		STR	R4, [SP,#0x1128+var_1128]
		STMFA	SP, {R2,R3}
		ADD	R1, SP,	#0x1128+var_10FC ; size
		MOV	R2, R5		; flushFlags
		LDR	R0, [R4,#-0xE0]	; data
		MOV	R3, #0
		BL	FSFILE_Write
		ADD	R5, R5,	#0x1000

loc_104A9C				; CODE XREF: sub_1049A8+ACj
		CMP	R5, R6
		BCS	loc_104AE0
		ADD	R10, R5, R7
		MOV	R0, R8
		LDR	R1, =(aOutaddr08xAddr+0xF)
		MOV	R2, R10
		BL	sub_107B90
		MOV	R0, R8
		BL	sub_107200
		MOV	R3, #0

loc_104AC4				; CODE XREF: sub_1049A8+134j
		STR	R3, [R4,#-0xD8]
		LDR	R3, [R4,#-0xD8]
		CMP	R3, R9
		BHI	loc_104A64
		LDR	R3, [R4,#-0xD8]
		ADD	R3, R3,	#1
		B	loc_104AC4
; ---------------------------------------------------------------------------

loc_104AE0				; CODE XREF: sub_1049A8+B8j
					; sub_1049A8+F8j
		ADD	SP, SP,	#0x1100
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_1049A8

; ---------------------------------------------------------------------------
dword_104AEC	DCD 0x10AACB		; DATA XREF: sub_1049A8+1Cr
off_104AF0	DCD aTestpath		; DATA XREF: sub_1049A8+4Cr
					; "testpath"
off_104AF4	DCD sdmcArchive		; DATA XREF: sub_1049A8+60r
off_104AF8	DCD fsUserHandle	; DATA XREF: sub_1049A8+80r
dword_104AFC	DCD 0x10AADD		; DATA XREF: sub_1049A8+94r
dword_104B00	DCD 0xF423F		; DATA XREF: sub_1049A8+A8r
off_104B04	DCD aOpenFileFailed	; DATA XREF: sub_1049A8+B0r
					; "open file failed"
off_104B08	DCD aOutaddr08xAddr+0xF	; DATA XREF: sub_1049A8+104r

; =============== S U B	R O U T	I N E =======================================


sub_104B0C				; CODE XREF: ROM:00104BB8p

var_28		= -0x28
hProcess	= -0x1C
var_18		= -0x18

		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0x14
		MOV	R12, R0
		ADD	R0, SP,	#0x28+var_18
		MOV	R7, R3
		MOV	R3, #0
		MOV	R5, R1
		STR	R3, [R0,#-4]!
		MOV	R1, R12		; processId
		MOV	R6, R2
		BL	svcOpenProcess
		CMP	R0, #0
		BNE	loc_104B88
		LDR	R0, [SP,#0x28+hProcess]	; hProcess
		MOV	R1, R5		; addr
		MOV	R2, R6		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R4, R0,	#0
		BNE	loc_104B74
		STR	R6, [SP,#0x28+var_28]
		LDR	R0, [SP,#0x28+hProcess]
		MOV	R1, R5
		LDR	R2, =0xFFFF8001
		MOV	R3, R7
		BL	sub_1043C0
		MOV	R4, R0

loc_104B74				; CODE XREF: sub_104B0C+48j
		LDR	R0, [SP,#0x28+hProcess]	; handle
		CMP	R0, #0
		BEQ	loc_104B84
		BL	svcCloseHandle

loc_104B84				; CODE XREF: sub_104B0C+70j
		MOV	R0, R4

loc_104B88				; CODE XREF: sub_104B0C+30j
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_104B0C

; ---------------------------------------------------------------------------
dword_104B90	DCD 0xFFFF8001		; DATA XREF: sub_104B0C+58r
; ---------------------------------------------------------------------------
		LDR	R2, =0xE3A00001
		LDR	R3, =0xE12FFF1E
		STR	LR, [SP,#-4]!
		SUB	SP, SP,	#0x54
		LDR	R1, =0x101820
		STMEA	SP, {R2,R3}
		MOV	R0, #3
		MOV	R2, #8
		MOV	R3, SP
		BL	sub_104B0C
		SUBS	R1, R0,	#0
		BEQ	loc_104BD0
		LDR	R0, =0x10AAF7
		MOV	R2, #0
		BL	showDbg

loc_104BD0				; CODE XREF: ROM:00104BC0j
		ADD	SP, SP,	#0x54
		LDR	PC, [SP],#4
; ---------------------------------------------------------------------------
dword_104BD8	DCD 0xE3A00001		; DATA XREF: ROM:00104B94r
dword_104BDC	DCD 0xE12FFF1E		; DATA XREF: ROM:00104B98r
dword_104BE0	DCD 0x101820		; DATA XREF: ROM:00104BA4r
dword_104BE4	DCD 0x10AAF7		; DATA XREF: ROM:00104BC4r

; =============== S U B	R O U T	I N E =======================================


sub_104BE8				; CODE XREF: sub_1035F8+A0p

entryCount	= -0x6BC
var_6B8		= -0x6B8
var_6B0		= -0x6B0
var_6A0		= -0x6A0
var_696		= -0x696
var_68C		= -0x68C
processIds	= -0x658
captions	= -0x4C8
var_338		= -0x338
var_20		= -0x20

		STMFD	SP!, {R4-R8,LR}
		SUB	SP, SP,	#0x6A0
		SUB	SP, SP,	#8
		ADD	R5, SP,	#0x6C0+var_6B8
		ADD	R8, SP,	#0x6C0+processIds
		MOV	R4, #0
		MOV	R1, R8		; processIds
		SUB	R0, R5,	#4	; processCount
		MOV	R2, #0x64	; processIdMaxCount
		STR	R4, [SP,#0x6C0+entryCount]
		BL	svcGetProcessList
		SUBS	R1, R0,	#0
		MOVEQ	R4, R1
		STREQB	R1, [SP,#0x6C0+var_338]
		MOVEQ	R6, R4
		BEQ	loc_104C38
		LDR	R0, =0x10AB0D
		MOV	R2, R4
		BL	showDbg
		B	loc_104D28
; ---------------------------------------------------------------------------

loc_104C38				; CODE XREF: sub_104BE8+3Cj
					; sub_104BE8+98j
		LDR	R3, [SP,#0x6C0+entryCount]
		ADD	R7, SP,	#0x6C0+captions
		CMP	R4, R3
		BCS	loc_104C84
		LDR	R2, [R8,R4,LSL#2]
		ADD	R0, SP,	#0x6C0+var_68C
		LDR	R1, =0x10A01E
		BL	sub_107B90
		ADD	R3, SP,	#0x6C0+var_338
		ADD	R0, R3,	R6
		ADD	R1, SP,	#0x6C0+var_68C
		STR	R0, [R7,R4,LSL#2]
		BL	strcpy
		ADD	R0, SP,	#0x6C0+var_68C
		BL	strlen
		ADD	R4, R4,	#1
		ADD	R0, R0,	#1
		ADD	R6, R6,	R0
		B	loc_104C38
; ---------------------------------------------------------------------------

loc_104C84				; CODE XREF: sub_104BE8+5Cj
		LDR	R8, =dword_109E0C

loc_104C88				; CODE XREF: sub_104BE8+104j
					; sub_104BE8+10Cj ...
		LDR	R0, =aProcesslist ; title
		LDR	R1, [SP,#0x6C0+entryCount] ; entryCount
		MOV	R2, R7		; captions
		BL	showMenu
		CMN	R0, #1
		MOV	R4, R0
		BEQ	loc_104D28
		ADD	R3, SP,	#0x6C0+var_20
		LDMIA	R8, {R0,R1}
		ADD	R3, R3,	#8
		ADD	R4, R3,	R4,LSL#2
		STMIA	R5, {R0,R1}
		MOV	R2, R5		; captions
		LDR	R0, [R4,#-0x4B0] ; title
		MOV	R1, #2		; entryCount
		BL	showMenu
		CMP	R0, #0
		BNE	loc_104CF0
		ADD	R0, SP,	#0x6C0+var_68C
		LDR	R1, =0x10AB35
		LDR	R2, [R4,#-0x640]
		BL	sub_107B90
		LDR	R0, [R4,#-0x640]
		ADD	R1, SP,	#0x6C0+var_68C
		BL	sub_104638
		B	loc_104C88
; ---------------------------------------------------------------------------

loc_104CF0				; CODE XREF: sub_104BE8+E4j
		CMP	R0, #1
		BNE	loc_104C88
		MOV	R6, #0
		ADD	R1, SP,	#0x6C0+var_6A0
		ADD	R2, SP,	#0x6C0+var_6B0
		LDR	R0, [R4,#-0x640]
		SUB	R3, R5,	#8
		STRB	R6, [SP,#0x6C0+var_696]
		BL	sub_104578
		LDR	R0, =0x10AB43
		ADD	R1, SP,	#0x6C0+var_6A0
		MOV	R2, R6
		BL	showDbg
		B	loc_104C88
; ---------------------------------------------------------------------------

loc_104D28				; CODE XREF: sub_104BE8+4Cj
					; sub_104BE8+B8j
		ADD	SP, SP,	#0x6A0
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_104BE8

; ---------------------------------------------------------------------------
dword_104D34	DCD 0x10AB0D		; DATA XREF: sub_104BE8+40r
dword_104D38	DCD 0x10A01E		; DATA XREF: sub_104BE8+68r
off_104D3C	DCD dword_109E0C	; DATA XREF: sub_104BE8:loc_104C84r
; uint8_t *off_104D40
off_104D40	DCD aProcesslist	; DATA XREF: sub_104BE8:loc_104C88r
					; "processList"
dword_104D44	DCD 0x10AB35		; DATA XREF: sub_104BE8+ECr
dword_104D48	DCD 0x10AB43		; DATA XREF: sub_104BE8+12Cr

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __stdcall rtInitLock(RT_LOCK *lock)
rtInitLock				; CODE XREF: sub_103100+1Cp
					; sub_103158+12Cp ...
		MOV	R3, #0
		STR	R3, [R0]
		BX	LR
; End of function rtInitLock


; =============== S U B	R O U T	I N E =======================================


; void __fastcall rtAcquireLock(RT_LOCK	*lock)
rtAcquireLock				; CODE XREF: sub_101A14+30p
					; sub_101DC4+1Cp ...
		STMFD	SP!, {R4,LR}
		MOV	R4, R0

loc_104D60				; CODE XREF: rtAcquireLock+20j
		LDR	R3, [R4]
		CMP	R3, #0
		BEQ	loc_104D7C
		LDR	R0, =0xF4240	; ns
		MOV	R1, #0
		BL	svcSleepThread
		B	loc_104D60
; ---------------------------------------------------------------------------

loc_104D7C				; CODE XREF: rtAcquireLock+10j
		MOV	R3, #1
		STR	R3, [R4]
		LDMFD	SP!, {R4,PC}
; End of function rtAcquireLock

; ---------------------------------------------------------------------------
; s64 dword_104D88
dword_104D88	DCD 0xF4240		; DATA XREF: rtAcquireLock+14r

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __stdcall rtReleaseLock(RT_LOCK *lock)
rtReleaseLock				; CODE XREF: sub_101A14+48p
					; sub_101DC4+70p ...
		MOV	R3, #0
		STR	R3, [R0]
		BX	LR
; End of function rtReleaseLock


; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall rtAlignToPageSize(uint32_t size)
rtAlignToPageSize			; CODE XREF: sub_1014DC+2Cp
					; sub_1021FC+C4p ...
		CMP	R0, #0
		SUBNE	R0, R0,	#1
		BICNE	R0, R0,	#0xFF0
		BICNE	R0, R0,	#0xF
		ADDNE	R0, R0,	#0x1000
		BX	LR
; End of function rtAlignToPageSize

; [0000000C BYTES: COLLAPSED FUNCTION rtGetPageOfAddress. PRESS	KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall rtCheckRemoteMemoryRegionSafeForWrite(Handle hProcess, uint32_t addr, uint32_t size)
rtCheckRemoteMemoryRegionSafeForWrite	; CODE XREF: sub_101EA4+30p
					; sub_102508+7Cp ...
		SUB	R2, R2,	#1
		STMFD	SP!, {R4-R6,LR}
		ADD	R4, R2,	R1
		BIC	R5, R1,	#0xFF0
		BIC	R4, R4,	#0xFF0
		MOV	R6, R0
		BIC	R5, R5,	#0xF
		BIC	R4, R4,	#0xF

loc_104DDC				; CODE XREF: rtCheckRemoteMemoryRegionSafeForWrite+44j
		CMP	R5, R4
		BHI	loc_104E04
		MOV	R0, R6		; hProcess
		MOV	R1, R5		; addr
		MOV	R2, #0x1000	; size
		BL	protectRemoteMemory
		CMP	R0, #0
		LDMNEFD	SP!, {R4-R6,PC}
		ADD	R5, R5,	#0x1000
		B	loc_104DDC
; ---------------------------------------------------------------------------

loc_104E04				; CODE XREF: rtCheckRemoteMemoryRegionSafeForWrite+24j
		MOV	R0, #0
		LDMFD	SP!, {R4-R6,PC}
; End of function rtCheckRemoteMemoryRegionSafeForWrite


; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall rtSafeCopyMemory(uint32_t	dst, uint32_t src, uint32_t size)
rtSafeCopyMemory
		STMFD	SP!, {R3-R7,LR}
		MOV	R7, R0
		MOV	R6, R1
		LDR	R0, =0xFFFF8001	; hProcess
		MOV	R1, R7		; addr
		MOV	R5, R2
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R7,PC}
		LDR	R0, =0xFFFF8001	; hProcess
		MOV	R1, R6		; addr
		MOV	R2, R5		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		SUBS	R4, R0,	#0
		BNE	loc_104E58
		MOV	R0, R7
		MOV	R1, R6
		MOV	R2, R5
		BL	memcpy

loc_104E58				; CODE XREF: rtSafeCopyMemory+38j
		MOV	R0, R4
		LDMFD	SP!, {R3-R7,PC}
; End of function rtSafeCopyMemory

; ---------------------------------------------------------------------------
; Handle dword_104E60
dword_104E60	DCD 0xFFFF8001		; DATA XREF: rtSafeCopyMemory+Cr
					; rtSafeCopyMemory+24r

; =============== S U B	R O U T	I N E =======================================


sub_104E64				; CODE XREF: sub_101AF0+38p
					; sub_102F98+C0p
		STMFD	SP!, {R4-R8,LR}
		MOV	R7, R0
		MOV	R8, R1
		MOV	R6, R2
		MOV	R4, R2
		MOV	R5, #0

loc_104E7C				; CODE XREF: sub_104E64+50j
		CMP	R4, #0
		BEQ	loc_104EB8
		MOV	R0, R7
		ADD	R1, R8,	R5
		MOV	R2, R4
		MOV	R3, #0
		BL	sub_10642C
		CMP	R0, #0
		BGT	loc_104EAC
		LDMEQFD	SP!, {R4-R8,PC}
		LDMFD	SP!, {R4-R8,LR}
		B	sub_105AE8
; ---------------------------------------------------------------------------

loc_104EAC				; CODE XREF: sub_104E64+38j
		ADD	R5, R5,	R0
		RSB	R4, R0,	R4
		B	loc_104E7C
; ---------------------------------------------------------------------------

loc_104EB8				; CODE XREF: sub_104E64+1Cj
		MOV	R0, R6
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_104E64


; =============== S U B	R O U T	I N E =======================================


sub_104EC0				; CODE XREF: sub_101A74+20j
					; sub_101A9C+38p
		STMFD	SP!, {R4-R8,LR}
		MOV	R7, R0
		MOV	R8, R1
		MOV	R6, R2
		MOV	R4, R2
		MOV	R5, #0

loc_104ED8				; CODE XREF: sub_104EC0+4Cj
		CMP	R4, #0
		BEQ	loc_104F10
		MOV	R0, R7
		ADD	R1, R8,	R5
		MOV	R2, R4
		MOV	R3, #0
		BL	sub_106448
		CMP	R0, #0
		BGE	loc_104F04
		LDMFD	SP!, {R4-R8,LR}
		B	sub_105AE8
; ---------------------------------------------------------------------------

loc_104F04				; CODE XREF: sub_104EC0+38j
		ADD	R5, R5,	R0
		RSB	R4, R0,	R4
		B	loc_104ED8
; ---------------------------------------------------------------------------

loc_104F10				; CODE XREF: sub_104EC0+1Cj
		MOV	R0, R6
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_104EC0


; =============== S U B	R O U T	I N E =======================================


sub_104F18				; CODE XREF: sub_102F98+4Cp

var_2		= -2

		SUB	SP, SP,	#8
		MOV	R3, R0,LSR#8
		STRB	R3, [SP,#8+var_2]
		STRB	R0, [SP,#8+var_2+1]
		LDRH	R0, [SP,#8+var_2]
		ADD	SP, SP,	#8
		BX	LR
; End of function sub_104F18


; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall rtGetFileSize(uint8_t *fileName)
rtGetFileSize				; CODE XREF: sub_103D80+58p
					; sub_104044+80p

var_50		= -0x50
openflags	= -0x44
attributes	= -0x40
out		= -0x34
size		= -0x30
var_24		= -0x24
var_20		= -0x20
var_1C		= -0x1C
var_18		= -0x18

		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0x4C	; archive
		MOV	R3, #3
		MOV	R4, R0
		STRB	R3, [SP,#0x60+var_24]
		BL	strlen
		ADD	R2, SP,	#0x60+var_18
		STR	R4, [SP,#0x60+var_1C]
		ADD	R3, SP,	#0x60+var_50
		LDR	R12, =sdmcArchive
		MOV	R5, #0
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x60+var_20]
		LDMDB	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x60+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R5, [SP,#0x60+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x60+out ; out
		BL	FSUSER_OpenFileDirectly
		CMP	R0, R5
		MOV	R4, R0
		BEQ	loc_104FC0
		LDR	R0, =0x10AB57
		MOV	R1, R4
		MOV	R2, R5
		BL	sub_101A14
		STR	R5, [SP,#0x60+out]
		B	loc_104FEC
; ---------------------------------------------------------------------------

loc_104FC0				; CODE XREF: rtGetFileSize+70j
		MOV	R7, R0
		ADD	R1, SP,	#0x60+size ; size
		LDR	R0, [SP,#0x60+out] ; handle
		BL	FSFILE_GetSize
		SUBS	R4, R0,	#0
		LDREQ	R6, [SP,#0x60+size]
		BEQ	loc_104FEC
		LDR	R0, =0x10AB6E
		MOV	R1, R4
		MOV	R2, R7
		BL	sub_101A14

loc_104FEC				; CODE XREF: rtGetFileSize+88j
					; rtGetFileSize+A4j
		LDR	R0, [SP,#0x60+out] ; handle
		CMP	R0, #0
		BEQ	loc_104FFC
		BL	svcCloseHandle

loc_104FFC				; CODE XREF: rtGetFileSize+C0j
		CMP	R4, #0
		MOVEQ	R0, R6
		MOVNE	R0, #0
		ADD	SP, SP,	#0x4C
		LDMFD	SP!, {R4-R7,PC}
; End of function rtGetFileSize

; ---------------------------------------------------------------------------
off_105010	DCD sdmcArchive		; DATA XREF: rtGetFileSize+24r
off_105014	DCD fsUserHandle	; DATA XREF: rtGetFileSize+54r
dword_105018	DCD 0x10AB57		; DATA XREF: rtGetFileSize+74r
dword_10501C	DCD 0x10AB6E		; DATA XREF: rtGetFileSize+A8r

; =============== S U B	R O U T	I N E =======================================


; uint32_t __fastcall rtLoadFileToBuffer(uint8_t *fileName, uint32_t *pBuf, uint32_t bufSize)
rtLoadFileToBuffer			; CODE XREF: sub_103D80+9Cp
					; sub_104044+C0p

var_68		= -0x68
var_64		= -0x64
var_58		= -0x58
openflags	= -0x4C
attributes	= -0x48
out		= -0x40
var_3C		= -0x3C
size		= -0x38
var_2C		= -0x2C
var_28		= -0x28
var_24		= -0x24
var_20		= -0x20

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x4C	; archive
		MOV	R3, #3
		MOV	R4, R0
		MOV	R7, R1
		MOV	R8, R2
		STRB	R3, [SP,#0x68+var_2C]
		BL	strlen
		ADD	R2, SP,	#0x68+var_20
		STR	R4, [SP,#0x68+var_24]
		ADD	R3, SP,	#0x68+var_58
		LDR	R12, =sdmcArchive
		MOV	R6, #0
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x68+var_28]
		LDMDB	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x68+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R6, [SP,#0x68+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x68+out ; out
		BL	FSUSER_OpenFileDirectly
		CMP	R0, R6
		MOV	R4, R0
		BEQ	loc_1050B4
		LDR	R0, =0x10AB57
		MOV	R1, R4
		MOV	R2, R6
		BL	sub_101A14
		STR	R6, [SP,#0x68+out]
		B	loc_10512C
; ---------------------------------------------------------------------------

loc_1050B4				; CODE XREF: rtLoadFileToBuffer+78j
		MOV	R9, R0
		ADD	R1, SP,	#0x68+size ; size
		LDR	R0, [SP,#0x68+out] ; handle
		BL	FSFILE_GetSize
		SUBS	R6, R0,	#0
		MOV	R4, R0
		LDRNE	R0, =0x10AB6E
		MOVNE	R1, R4
		MOVNE	R2, R9
		BNE	loc_105128
		LDR	R5, [SP,#0x68+size]
		CMP	R8, R5
		BCS	loc_1050F8
		LDR	R0, =0x10AB8B
		BL	sub_101A14
		MOV	R4, #0xFFFFFFFF
		B	loc_10512C
; ---------------------------------------------------------------------------

loc_1050F8				; CODE XREF: rtLoadFileToBuffer+C4j
		STR	R7, [SP,#0x68+var_68]
		STR	R5, [SP,#0x68+var_64]
		LDR	R0, [SP,#0x68+out] ; buffer
		ADD	R1, SP,	#0x68+var_3C ; size
		MOV	R2, #0
		MOV	R3, #0
		BL	FSFILE_Read
		SUBS	R4, R0,	#0
		BEQ	loc_10512C
		LDR	R0, =0x10ABB1
		MOV	R1, R4
		MOV	R2, R6

loc_105128				; CODE XREF: rtLoadFileToBuffer+B8j
		BL	sub_101A14

loc_10512C				; CODE XREF: rtLoadFileToBuffer+90j
					; rtLoadFileToBuffer+D4j ...
		LDR	R0, [SP,#0x68+out] ; handle
		CMP	R0, #0
		BEQ	loc_10513C
		BL	svcCloseHandle

loc_10513C				; CODE XREF: rtLoadFileToBuffer+114j
		CMP	R4, #0
		MOVEQ	R0, R5
		MOVNE	R0, #0
		ADD	SP, SP,	#0x4C
		LDMFD	SP!, {R4-R9,PC}
; End of function rtLoadFileToBuffer

; ---------------------------------------------------------------------------
off_105150	DCD sdmcArchive		; DATA XREF: rtLoadFileToBuffer+2Cr
off_105154	DCD fsUserHandle	; DATA XREF: rtLoadFileToBuffer+5Cr
dword_105158	DCD 0x10AB57		; DATA XREF: rtLoadFileToBuffer+7Cr
dword_10515C	DCD 0x10AB6E		; DATA XREF: rtLoadFileToBuffer+ACr
dword_105160	DCD 0x10AB8B		; DATA XREF: rtLoadFileToBuffer+C8r
dword_105164	DCD 0x10ABB1		; DATA XREF: rtLoadFileToBuffer+FCr

; =============== S U B	R O U T	I N E =======================================


sub_105168				; CODE XREF: sub_1027F4+78p
					; sub_10298C+DCp

handle		= -0x14

		MOV	R12, R0
		MOV	R3, R1
		STMFD	SP!, {R0-R2,R4,R5,LR}
		MOV	R4, R2
		ADD	R0, SP,	#0x18+handle ; thread
		MOV	R1, R12		; process
		MOV	R2, R3		; threadId
		BL	svcOpenThread
		SUBS	R5, R0,	#0
		BEQ	loc_1051A4
		LDR	R0, =0x10ABCB
		MOV	R1, R5
		MOV	R2, #0
		BL	sub_101A14
		B	loc_1051D8
; ---------------------------------------------------------------------------

loc_1051A4				; CODE XREF: sub_105168+24j
		LDR	R0, [SP,#0x18+handle]
		BL	sub_10704C
		MOV	R2, #0xA0
		MOV	R1, R0
		MOV	R0, R4
		BL	sub_10707C
		LDR	R1, [R4,#0x8C]
		MOV	R0, R4
		SUB	R1, R1,	#0x10C
		MOV	R2, #0x10C
		BL	sub_10707C
		LDR	R0, [SP,#0x18+handle] ;	handle
		BL	svcCloseHandle

loc_1051D8				; CODE XREF: sub_105168+38j
		MOV	R0, R5
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_105168

; ---------------------------------------------------------------------------
dword_1051E4	DCD 0x10ABCB		; DATA XREF: sub_105168+28r

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; u32 __stdcall	rtGenerateJumpCode(u32 dst, u32	*buf)
rtGenerateJumpCode			; CODE XREF: main+188p	sub_106DD8+6Cp
		LDR	R3, =0xE51FF004
		STR	R0, [R1,#4]
		STR	R3, [R1]
		MOV	R0, #8
		BX	LR
; End of function rtGenerateJumpCode

; ---------------------------------------------------------------------------
dword_1051FC	DCD 0xE51FF004		; DATA XREF: rtGenerateJumpCoder

; =============== S U B	R O U T	I N E =======================================


; u32 __stdcall	rtFlushInstructionCache(void *ptr, u32 size)
rtFlushInstructionCache			; CODE XREF: main+17Cp	main+194p ...
		MOV	R3, R0
		MOV	R2, R1		; size
		LDR	R0, =0xFFFF8001	; handle
		MOV	R1, R3		; addr
		B	svcFlushProcessDataCache
; End of function rtFlushInstructionCache

; ---------------------------------------------------------------------------
; Handle handle
handle		DCD 0xFFFF8001		; DATA XREF: rtFlushInstructionCache+8r

; =============== S U B	R O U T	I N E =======================================


; void __fastcall rtInitHook(RT_HOOK *hook, uint32_t funcAddr, uint32_t	callbackAddr)
rtInitHook				; CODE XREF: sub_101278+14p
					; sub_101278+30p ...
		STMFD	SP!, {R4-R6,LR}
		MOV	R3, #0
		MOV	R5, R1
		STR	R3, [R0]
		STMIB	R0, {R3,R5}
		MOV	R4, R0
		MOV	R6, R2
		BL	getCurrentProcessHandle
		MOV	R1, R5		; addr
		MOV	R2, #8		; size
		BL	rtCheckRemoteMemoryRegionSafeForWrite
		LDR	R3, [R5]
		LDR	R1, =0xE51FF004
		STR	R3, [R4,#0xC]
		LDR	R3, [R5,#4]
		STR	R1, [R4,#0x4C]
		STR	R3, [R4,#0x10]
		STR	R6, [R4,#0x50]
		LDR	R3, [R5]
		ADD	R0, R4,	#0x8C	; ptr
		STR	R3, [R4,#0x8C]
		LDR	R3, [R5,#4]
		ADD	R5, R5,	#8
		STR	R3, [R0,#4]
		STR	R1, [R4,#0x94]
		STR	R5, [R4,#0x98]
		MOV	R1, #0x10	; size
		LDMFD	SP!, {R4-R6,LR}
		B	rtFlushInstructionCache
; End of function rtInitHook

; ---------------------------------------------------------------------------
dword_10528C	DCD 0xE51FF004		; DATA XREF: rtInitHook+30r

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __stdcall rtEnableHook(RT_HOOK *hook)
rtEnableHook				; CODE XREF: sub_101278+1Cp
					; sub_101278+38p ...
		LDR	R3, [R0,#4]
		CMP	R3, #0
		BXNE	LR
		MOV	R2, R0
		STMFD	SP!, {R4,LR}
		MOV	R4, R0
		LDR	R1, [R0,#8]
		LDR	R3, [R2,#0x4C]!
		STR	R3, [R1]
		LDR	R3, [R2,#4]
		STR	R3, [R1,#4]
		MOV	R1, #8		; size
		LDR	R0, [R0,#8]	; ptr
		BL	rtFlushInstructionCache
		MOV	R3, #1
		STR	R3, [R4,#4]
		LDMFD	SP!, {R4,PC}
; End of function rtEnableHook

; [00000044 BYTES: COLLAPSED FUNCTION rtDisableHook. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


sub_105318				; CODE XREF: sub_10543C+E0p
					; sub_105674+24p

var_38		= -0x38
openflags	= -0x2C
attributes	= -0x28
out		= -0x20
var_1C		= -0x1C
var_18		= -0x18
var_14		= -0x14
var_10		= -0x10

		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x3C	; archive
		MOV	R3, #3
		MOV	R4, R1
		MOV	R5, R0
		STRB	R3, [SP,#0x48+var_1C]
		BL	strlen
		ADD	R2, SP,	#0x48+var_10
		STR	R5, [SP,#0x48+var_14]
		ADD	R3, SP,	#0x48+var_38
		LDR	R12, =sdmcArchive
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x48+var_18]
		LDMDB	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #0
		STR	R3, [SP,#0x48+attributes] ; attributes
		ADD	R3, R12, #8
		STR	R4, [SP,#0x48+openflags] ; openflags
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x48+out ; out
		BL	FSUSER_OpenFileDirectly
		CMP	R0, #0
		LDRGE	R0, [SP,#0x48+out]
		ADD	SP, SP,	#0x3C
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_105318

; ---------------------------------------------------------------------------
off_105390	DCD sdmcArchive		; DATA XREF: sub_105318+28r
off_105394	DCD fsUserHandle	; DATA XREF: sub_105318+54r
; ---------------------------------------------------------------------------
		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x14
		MOV	R4, R1
		MOV	R5, R1,ASR#31
		STMEA	SP, {R2,R3}
		ADD	R1, SP,	#0xC
		MOV	R2, R4
		MOV	R3, R5
		BL	FSFILE_Read
		CMP	R0, #0
		LDRGE	R0, [SP,#0xC]
		ADD	SP, SP,	#0x14
		LDMFD	SP!, {R4,R5,PC}

; =============== S U B	R O U T	I N E =======================================


sub_1053CC				; CODE XREF: sub_10543C+F8p

var_20		= -0x20
var_14		= -0x14

		STMFD	SP!, {R4,R5,LR}
		SUB	SP, SP,	#0x1C
		MOV	R4, R1
		STMEA	SP, {R2,R3}
		MOV	R5, R1,ASR#31
		MOV	R3, #0
		STR	R3, [SP,#0x28+var_20]
		ADD	R1, SP,	#0x28+var_14 ; size
		MOV	R2, R4		; flushFlags
		MOV	R3, R5
		BL	FSFILE_Write
		CMP	R0, #0
		LDRGE	R0, [SP,#0x28+var_14]
		ADD	SP, SP,	#0x1C
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_1053CC


; =============== S U B	R O U T	I N E =======================================

; Attributes: thunk

j_FSFILE_Close				; CODE XREF: sub_10543C+104p
					; sub_105674+30p
		B	FSFILE_Close
; End of function j_FSFILE_Close


; =============== S U B	R O U T	I N E =======================================


sub_10540C				; CODE XREF: sub_10543C+48p
					; sub_10543C+7Cp ...
		MOV	R3, R1,LSR#8
		STRB	R1, [R0]
		STRB	R3, [R0,#1]
		MOV	R3, R1,LSR#16
		MOV	R1, R1,LSR#24
		STRB	R3, [R0,#2]
		STRB	R1, [R0,#3]
		BX	LR
; End of function sub_10540C

; ---------------------------------------------------------------------------
		STRB	R1, [R0]
		MOV	R1, R1,LSR#8
		STRB	R1, [R0,#1]
		BX	LR

; =============== S U B	R O U T	I N E =======================================


sub_10543C				; CODE XREF: sub_1056C0+F0p
					; sub_1056C0+15Cp
		STMFD	SP!, {R4-R10,LR}
		MUL	R6, R2,	R1
		MOV	R5, #0x36
		MOV	R4, R0
		MOV	R10, R1
		MOV	R8, R2
		MOV	R1, #0
		MOV	R2, R5
		MOV	R9, R3
		ADD	R6, R6,	R6,LSL#1
		BL	memset
		MOV	R3, #0x42
		ADD	R7, R6,	#0x36
		STRB	R3, [R4]
		MOV	R3, #0x4D
		STRB	R3, [R4,#1]
		ADD	R0, R4,	#2
		MOV	R1, R7
		BL	sub_10540C
		MOV	R3, #0x28
		STRB	R5, [R4,#0xA]
		MOV	R5, #0
		STRB	R3, [R4,#0xE]
		ADD	R0, R4,	#0x12
		MOV	R1, R10
		STRB	R5, [R4,#0xB]
		STRB	R5, [R4,#0xC]
		STRB	R5, [R4,#0xD]
		STRB	R5, [R4,#0xF]
		STRB	R5, [R4,#0x10]
		STRB	R5, [R4,#0x11]
		BL	sub_10540C
		ADD	R0, R4,	#0x16
		MOV	R1, R8
		BL	sub_10540C
		MOV	R3, #1
		STRB	R3, [R4,#0x1A]
		MOV	R3, #0x18
		MOV	R1, R6
		STRB	R3, [R4,#0x1C]
		ADD	R0, R4,	#0x22
		STRB	R5, [R4,#0x1B]
		STRB	R5, [R4,#0x1D]
		BL	sub_10540C
		MOV	R12, #0x12
		MOV	R2, #0xB
		STRB	R12, [R4,#0x26]
		STRB	R2, [R4,#0x27]
		STRB	R5, [R4,#0x28]
		STRB	R5, [R4,#0x29]
		STRB	R12, [R4,#0x2A]
		STRB	R2, [R4,#0x2B]
		STRB	R5, [R4,#0x2C]
		STRB	R5, [R4,#0x2D]
		MOV	R0, R9
		MOV	R1, #7
		BL	sub_105318
		SUBS	R6, R0,	#0
		LDMLEFD	SP!, {R4-R10,PC}
		MOV	R1, R5
		MOV	R2, R4
		MOV	R3, R7
		BL	sub_1053CC
		MOV	R0, R6
		LDMFD	SP!, {R4-R10,LR}
		B	j_FSFILE_Close
; End of function sub_10543C


; =============== S U B	R O U T	I N E =======================================


sub_105544				; CODE XREF: sub_1056C0+CCp
					; sub_1056C0+138p

arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R4-R11,LR}
		LDR	R4, [SP,#0x24+arg_4]
		LDR	R10, [SP,#0x24+arg_0]
		ANDS	R4, R4,	#0xF
		MOVEQ	R8, #4
		BEQ	loc_105568
		CMP	R4, #1
		MOVEQ	R8, #3
		MOVNE	R8, #2

loc_105568				; CODE XREF: sub_105544+14j
		ADD	R9, R1,	R1,LSL#1
		ADD	R0, R0,	#3
		ADD	R3, R3,	#2
		MOV	R6, #0

loc_105578				; CODE XREF: sub_105544+128j
		CMP	R6, R2
		BGE	locret_105670
		MOV	LR, R3
		MOV	R12, R0
		MOV	R7, #0

loc_10558C				; CODE XREF: sub_105544+118j
		CMP	R7, R1
		BGE	loc_105660
		CMP	R4, #0
		BEQ	loc_1055A4
		CMP	R4, #1
		BNE	loc_1055BC

loc_1055A4				; CODE XREF: sub_105544+54j
		LDRB	R5, [LR,#-2]
		STRB	R5, [R12,#-3]
		LDRB	R5, [LR,#-1]
		STRB	R5, [R12,#-2]
		LDRB	R5, [LR]
		B	loc_10564C
; ---------------------------------------------------------------------------

loc_1055BC				; CODE XREF: sub_105544+5Cj
		CMP	R4, #2
		BNE	loc_1055E4
		LDRB	R11, [LR,#-1]
		LDRB	R5, [LR,#-2]
		ORR	R5, R5,	R11,LSL#8
		MOV	R11, R5,LSL#3
		STRB	R11, [R12,#-3]
		MOV	R11, R5,LSR#3
		BIC	R11, R11, #3
		B	loc_10560C
; ---------------------------------------------------------------------------

loc_1055E4				; CODE XREF: sub_105544+7Cj
		CMP	R4, #3
		BNE	loc_10561C
		LDRB	R11, [LR,#-1]
		LDRB	R5, [LR,#-2]
		ORR	R5, R5,	R11,LSL#8
		MOV	R11, R5,LSL#2
		BIC	R11, R11, #7
		STRB	R11, [R12,#-3]
		MOV	R11, R5,LSR#3
		BIC	R11, R11, #7

loc_10560C				; CODE XREF: sub_105544+9Cj
		MOV	R5, R5,LSR#8
		STRB	R11, [R12,#-2]
		BIC	R5, R5,	#7
		B	loc_10564C
; ---------------------------------------------------------------------------

loc_10561C				; CODE XREF: sub_105544+A4j
		CMP	R4, #4
		BNE	loc_105650
		LDRB	R11, [LR,#-1]
		LDRB	R5, [LR,#-2]
		ORR	R5, R5,	R11,LSL#8
		BIC	R11, R5, #0xF
		STRB	R11, [R12,#-3]
		MOV	R11, R5,LSR#4
		MOV	R5, R5,LSR#8
		BIC	R5, R5,	#0xF
		BIC	R11, R11, #0xF
		STRB	R11, [R12,#-2]

loc_10564C				; CODE XREF: sub_105544+74j
					; sub_105544+D4j
		STRB	R5, [R12,#-1]

loc_105650				; CODE XREF: sub_105544+DCj
		ADD	R7, R7,	#1
		ADD	R12, R12, #3
		ADD	LR, LR,	R10
		B	loc_10558C
; ---------------------------------------------------------------------------

loc_105660				; CODE XREF: sub_105544+4Cj
		ADD	R6, R6,	#1
		ADD	R0, R0,	R9
		ADD	R3, R3,	R8
		B	loc_105578
; ---------------------------------------------------------------------------

locret_105670				; CODE XREF: sub_105544+38j
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_105544


; =============== S U B	R O U T	I N E =======================================


sub_105674				; CODE XREF: sub_1058C8+38p
		STMFD	SP!, {R4,LR}
		MOV	R4, #0
		SUB	SP, SP,	#0x40

loc_105680				; CODE XREF: sub_105674+38j
		MOV	R0, SP
		LDR	R1, =aTop_04d_bmp ; "/top_%04d.bmp"
		MOV	R2, R4
		BL	sub_107B90
		MOV	R0, SP
		MOV	R1, #3
		BL	sub_105318
		CMP	R0, #0
		BLE	loc_1056B0
		BL	j_FSFILE_Close
		ADD	R4, R4,	#1
		B	loc_105680
; ---------------------------------------------------------------------------

loc_1056B0				; CODE XREF: sub_105674+2Cj
		MOV	R0, R4
		ADD	SP, SP,	#0x40
		LDMFD	SP!, {R4,PC}
; End of function sub_105674

; ---------------------------------------------------------------------------
off_1056BC	DCD aTop_04d_bmp	; DATA XREF: sub_105674+10r
					; "/top_%04d.bmp"

; =============== S U B	R O U T	I N E =======================================


sub_1056C0				; CODE XREF: sub_101278+120p
					; sub_105864+3Cp

var_78		= -0x78
var_74		= -0x74
var_70		= -0x70
var_6C		= -0x6C
var_68		= -0x68
var_64		= -0x64
var_60		= -0x60
var_20		= -0x20

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x5C
		LDR	R5, =dword_10B488
		LDR	R3, [R5]
		CMP	R3, #0
		BNE	loc_1056F4
		MOV	R0, #0x100000
		BL	sub_1033D0
		MOV	R4, R0
		MOV	R1, R4
		LDR	R0, =aOut_addr08x ; "    out_addr: %08x"
		BL	sub_101A14
		STR	R4, [R5]

loc_1056F4				; CODE XREF: sub_1056C0+14j
		LDR	R0, [R5]
		LDR	R4, =dword_10B488
		CMP	R0, #0
		BEQ	loc_105838
		LDR	R8, =dword_1085E4
		ADD	R0, R0,	#0x50000
		LDR	R3, [R8]
		LDR	R2, [R3,#0x468]
		ADD	R2, R2,	#0xC0000000
		STR	R2, [SP,#0x78+var_70]
		LDR	R2, [R3,#0x46C]
		ADD	R2, R2,	#0xC0000000
		STR	R2, [SP,#0x78+var_6C]
		LDR	R2, [R3,#0x568]
		ADD	R2, R2,	#0xC0000000
		STR	R2, [SP,#0x78+var_68]
		LDR	R2, [R3,#0x56C]
		LDR	R7, [R3,#0x470]
		LDR	R5, [R3,#0x570]
		LDR	R9, [R3,#0x490]
		LDR	R6, [R3,#0x590]
		LDR	R3, [R3,#0x478]
		ADD	R2, R2,	#0xC0000000
		AND	R3, R3,	#1
		STR	R2, [SP,#0x78+var_64]
		ADD	R2, SP,	#0x78+var_20
		ADD	R3, R2,	R3,LSL#2
		LDR	R2, =0x46500
		LDR	R1, [R3,#-0x50]
		BL	sub_10707C
		LDR	R3, [R4]
		STR	R7, [SP,#0x78+var_74]
		LDR	R7, =dword_10B48C
		ADD	R0, R3,	#0x36
		MOV	R1, #0x190
		ADD	R3, R3,	#0x50000
		MOV	R2, #0xF0
		STR	R9, [SP,#0x78+var_78]
		BL	sub_105544
		ADD	R0, SP,	#0x78+var_60
		LDR	R1, =aTop_04d_bmp ; "/top_%04d.bmp"
		LDR	R2, [R7]
		BL	sub_107B90
		LDR	R0, [R4]
		MOV	R1, #0x190
		MOV	R2, #0xF0
		ADD	R3, SP,	#0x78+var_60
		BL	sub_10543C
		LDR	R3, [R8]
		ADD	R2, SP,	#0x78+var_20
		LDR	R0, [R4]
		LDR	R3, [R3,#0x578]
		ADD	R0, R0,	#0x50000
		AND	R3, R3,	#1
		ADD	R3, R2,	R3,LSL#2
		MOV	R2, #0x38400
		LDR	R1, [R3,#-0x48]
		BL	sub_10707C
		LDR	R3, [R4]
		MOV	R1, #0x140
		ADD	R0, R3,	#0x36
		MOV	R2, #0xF0
		ADD	R3, R3,	#0x50000
		STR	R6, [SP,#0x78+var_78]
		STR	R5, [SP,#0x78+var_74]
		BL	sub_105544
		ADD	R0, SP,	#0x78+var_60
		LDR	R1, =0x10AC05
		LDR	R2, [R7]
		BL	sub_107B90
		ADD	R3, SP,	#0x78+var_60
		LDR	R0, [R4]
		MOV	R1, #0x140
		MOV	R2, #0xF0
		BL	sub_10543C
		MOV	R0, #0x64
		LDR	R1, =0x1FF00FF
		BL	sub_100E98
		LDR	R3, [R7]
		ADD	R3, R3,	#1
		STR	R3, [R7]

loc_105838				; CODE XREF: sub_1056C0+40j
		ADD	SP, SP,	#0x5C
		LDMFD	SP!, {R4-R9,PC}
; End of function sub_1056C0

; ---------------------------------------------------------------------------
off_105840	DCD dword_10B488	; DATA XREF: sub_1056C0+8r
					; sub_1056C0+38r
off_105844	DCD aOut_addr08x	; DATA XREF: sub_1056C0+28r
					; "    out_addr: %08x"
off_105848	DCD dword_1085E4	; DATA XREF: sub_1056C0+44r
dword_10584C	DCD 0x46500		; DATA XREF: sub_1056C0+A0r
off_105850	DCD dword_10B48C	; DATA XREF: sub_1056C0+B4r
off_105854	DCD aTop_04d_bmp	; DATA XREF: sub_1056C0+D4r
					; "/top_%04d.bmp"
dword_105858	DCD 0x10AC05		; DATA XREF: sub_1056C0+140r
dword_10585C	DCD 0x1FF00FF		; DATA XREF: sub_1056C0+164r
dword_105860	DCD 0xE3A03000		; DATA XREF: sub_1058C8+10o
					; ROM:off_105924o

; =============== S U B	R O U T	I N E =======================================


sub_105864

var_C		= -0xC
var_4		= -4

		STMFD	SP!, {R0-R2,LR}

loc_105868				; CODE XREF: sub_105864+18j
		STR	R3, [SP,#0x10+var_C]
		LDR	R3, [SP,#0x10+var_C]
		CMP	R3, #0x1000000
		LDRCC	R3, [SP,#0x10+var_C]
		ADDCC	R3, R3,	#1
		BCC	loc_105868
		MOV	R1, #0
		MOV	R2, R1
		MOV	R3, R1
		MOV	R0, #2
		BL	sub_10736C
		LDR	R0, =0x5F5E100	; ns
		MOV	R1, #0
		BL	svcSleepThread
		BL	sub_1056C0
		MOV	R1, #0
		MOV	R2, R1
		MOV	R3, R1
		MOV	R0, #1
		BL	sub_10736C
		MOV	R0, #1
		ADD	SP, SP,	#0xC
		LDR	PC, [SP+4+var_4],#4
; End of function sub_105864

; ---------------------------------------------------------------------------
; s64 dword_1058C4
dword_1058C4	DCD 0x5F5E100		; DATA XREF: sub_105864+30r

; =============== S U B	R O U T	I N E =======================================


sub_1058C8				; CODE XREF: sub_101278+D4p
		STMFD	SP!, {R4,LR}
		LDR	R0, =0x10AC13
		LDR	R4, =fsUserHandle
		BL	sub_101A14
		LDR	R2, =dword_105860
		LDR	R1, =0x10AC33
		MOV	R0, #1
		BL	sub_10375C
		MOV	R1, R4
		LDR	R0, =aFsUser	; "fs:USER"
		BL	sub_103454
		LDR	R1, [R4]
		LDR	R0, =0x10A727
		BL	sub_101A14
		BL	sub_105674
		LDR	R3, =dword_10B48C
		MOV	R1, R0
		STR	R0, [R3]
		LDR	R0, =0x10AC43
		BL	sub_101A14
		LDMFD	SP!, {R4,PC}
; End of function sub_1058C8

; ---------------------------------------------------------------------------
dword_10591C	DCD 0x10AC13		; DATA XREF: sub_1058C8+4r
off_105920	DCD fsUserHandle	; DATA XREF: sub_1058C8+8r
off_105924	DCD dword_105860	; DATA XREF: sub_1058C8+10r
dword_105928	DCD 0x10AC33		; DATA XREF: sub_1058C8+14r
off_10592C	DCD aFsUser		; DATA XREF: sub_1058C8+24r
					; "fs:USER"
dword_105930	DCD 0x10A727		; DATA XREF: sub_1058C8+30r
off_105934	DCD dword_10B48C	; DATA XREF: sub_1058C8+3Cr
dword_105938	DCD 0x10AC43		; DATA XREF: sub_1058C8+48r

; =============== S U B	R O U T	I N E =======================================


sub_10593C				; CODE XREF: sub_104044+10p
					; sub_1041D8+4p
		LDR	R3, =dword_10AED4
		LDR	R2, =showDbg
		LDR	R3, [R3]
		STR	R2, [R3,#0xA8]
		LDR	R2, =sub_101A14
		STR	R2, [R3,#0xAC]
		LDR	R2, =sub_10375C
		STR	R2, [R3,#0xB0]
		LDR	R2, =sub_103454
		STR	R2, [R3,#0xB4]
		LDR	R2, =sub_1033D0
		STR	R2, [R3,#0xB8]
		LDR	R2, =__udiv_w_sdiv
		STR	R2, [R3,#0xBC]
		LDR	R2, =sub_107B90
		STR	R2, [R3,#0xC0]
		LDR	R2, =sub_10736C
		STR	R2, [R3,#0xC4]
		LDR	R2, =sub_103488
		STR	R2, [R3,#0xC8]
		BX	LR
; End of function sub_10593C

; ---------------------------------------------------------------------------
off_105990	DCD dword_10AED4	; DATA XREF: sub_10593Cr
off_105994	DCD showDbg		; DATA XREF: sub_10593C+4r
off_105998	DCD sub_101A14		; DATA XREF: sub_10593C+10r
off_10599C	DCD sub_10375C		; DATA XREF: sub_10593C+18r
off_1059A0	DCD sub_103454		; DATA XREF: sub_10593C+20r
off_1059A4	DCD sub_1033D0		; DATA XREF: sub_10593C+28r
off_1059A8	DCD __udiv_w_sdiv	; DATA XREF: sub_10593C+30r
off_1059AC	DCD sub_107B90		; DATA XREF: sub_10593C+38r
off_1059B0	DCD sub_10736C		; DATA XREF: sub_10593C+40r
off_1059B4	DCD sub_103488		; DATA XREF: sub_10593C+48r

; =============== S U B	R O U T	I N E =======================================


sub_1059B8				; CODE XREF: sub_105AF8+5Cp
					; sub_105B68+44p ...
		CMP	R0, #0
		BXGE	LR
		CMN	R0, #0x4E
		BLS	loc_1059DC
		LDR	R2, =off_109E14
		RSB	R3, R0,	#0
		LDRB	R3, [R2,R3]
		CMP	R3, #0
		BNE	loc_1059E8

loc_1059DC				; CODE XREF: sub_1059B8+Cj
		SUB	R0, R0,	#0x2700
		SUB	R0, R0,	#0x10
		BX	LR
; ---------------------------------------------------------------------------

loc_1059E8				; CODE XREF: sub_1059B8+20j
		RSB	R0, R3,	#0
		BX	LR
; End of function sub_1059B8

; ---------------------------------------------------------------------------
off_1059F0	DCD off_109E14		; DATA XREF: sub_1059B8+10r

; =============== S U B	R O U T	I N E =======================================


sub_1059F4				; CODE XREF: sub_105A80+54p
		STMFD	SP!, {R4-R6,LR}
		MOV	R6, R1
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x10044
		STMIA	R0, {R3,R6}
		MOV	R3, #0x20
		STR	R3, [R0,#8]
		MOV	R3, #0
		STR	R3, [R0,#0x10]
		LDR	R3, =dword_10B490
		MOV	R4, R0
		STR	R5, [R0,#0x14]
		LDR	R0, [R3]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_1059F4

; ---------------------------------------------------------------------------
dword_105A3C	DCD 0x10044		; DATA XREF: sub_1059F4+10r
off_105A40	DCD dword_10B490	; DATA XREF: sub_1059F4+28r
; ---------------------------------------------------------------------------
		STMFD	SP!, {R3-R5,LR}
		BL	svcGetThreadCommandBuffer
		LDR	R5, =dword_10B490
		MOV	R3, #0x190000
		STR	R3, [R0]
		MOV	R4, R0
		LDR	R0, [R5]
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R5,PC}
		LDR	R0, [R5]
		BL	svcCloseHandle
		LDR	R0, [R4,#4]
		LDMFD	SP!, {R3-R5,PC}
; ---------------------------------------------------------------------------
off_105A7C	DCD dword_10B490	; DATA XREF: ROM:00105A4Cr

; =============== S U B	R O U T	I N E =======================================


sub_105A80				; CODE XREF: sub_103158+B0p

otherpermission	= -0x18
var_C		= -0xC
var_8		= -8

		STMFD	SP!, {R0-R4,LR}
		MOV	R2, R0
		ADD	R0, SP,	#0x18+var_8
		MOV	R3, #0		; my_perm
		MOV	R4, R1
		MOV	R1, #3
		STR	R3, [R0,#-4]!
		STR	R1, [SP,#0x18+otherpermission] ; other_perm
		MOV	R1, R2		; addr
		MOV	R2, R4		; size
		BL	svcCreateMemoryBlock
		SUBS	R3, R0,	#0
		MOVNE	R0, R3		; handleptr
		BNE	loc_105AD8
		LDR	R1, =dword_10B490 ; out
		LDR	R2, =aSocU	; "soc:U"
		BL	srv_getServiceHandle
		CMP	R0, #0
		BNE	loc_105AD8
		LDR	R0, [SP,#0x18+var_C]
		MOV	R1, R4
		BL	sub_1059F4

loc_105AD8				; CODE XREF: sub_105A80+34j
					; sub_105A80+48j
		ADD	SP, SP,	#0x10
		LDMFD	SP!, {R4,PC}
; End of function sub_105A80

; ---------------------------------------------------------------------------
; Handle *off_105AE0
off_105AE0	DCD dword_10B490	; DATA XREF: sub_105A80+38r
; unsigned __int8 *off_105AE4
off_105AE4	DCD aSocU		; DATA XREF: sub_105A80+3Cr
					; "soc:U"

; =============== S U B	R O U T	I N E =======================================


sub_105AE8				; CODE XREF: sub_104E64+44p
					; sub_104EC0+40p
		LDR	R3, =dword_10B490
		LDR	R0, [R3,#(dword_10B494 - 0x10B490)]
		BX	LR
; End of function sub_105AE8

; ---------------------------------------------------------------------------
off_105AF4	DCD dword_10B490	; DATA XREF: sub_105AE8r

; =============== S U B	R O U T	I N E =======================================


sub_105AF8				; CODE XREF: sub_102F98+14p
		STMFD	SP!, {R3-R7,LR}
		MOV	R5, R2
		MOV	R6, R1
		MOV	R7, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x200C2
		STR	R5, [R0,#0xC]
		LDR	R5, =dword_10B490
		STMIA	R0, {R3,R7}
		MOV	R3, #0x20
		STR	R6, [R0,#8]
		STR	R3, [R0,#0x10]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R7,PC}
		LDR	R3, [R4,#4]
		CMP	R3, #0
		STR	R3, [R5,#4]
		BNE	loc_105B58
		LDR	R0, [R4,#8]
		LDMFD	SP!, {R3-R7,LR}
		B	sub_1059B8
; ---------------------------------------------------------------------------

loc_105B58				; CODE XREF: sub_105AF8+50j
		MOV	R0, #0xFFFFFFFF
		LDMFD	SP!, {R3-R7,PC}
; End of function sub_105AF8

; ---------------------------------------------------------------------------
dword_105B60	DCD 0x200C2		; DATA XREF: sub_105AF8+14r
off_105B64	DCD dword_10B490	; DATA XREF: sub_105AF8+1Cr

; =============== S U B	R O U T	I N E =======================================


sub_105B68				; CODE XREF: sub_1021FC+28p
					; sub_1021FC+38p ...
		STMFD	SP!, {R3-R5,LR}
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0xB0042
		STMIA	R0, {R3,R5}
		LDR	R5, =dword_10B490
		MOV	R3, #0x20
		STR	R3, [R0,#8]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R5,PC}
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_105BB0
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_105BB0				; CODE XREF: sub_105B68+3Cj
		STR	R0, [R5,#4]
		MOVS	R0, R0
		MOVNE	R0, #0xFFFFFFFF
		LDMFD	SP!, {R3-R5,PC}
; End of function sub_105B68

; ---------------------------------------------------------------------------
dword_105BC0	DCD 0xB0042		; DATA XREF: sub_105B68+Cr
off_105BC4	DCD dword_10B490	; DATA XREF: sub_105B68+14r

; =============== S U B	R O U T	I N E =======================================


sub_105BC8
		STMFD	SP!, {R4-R6,LR}
		MOV	R5, R1
		MOV	R6, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0xC0082
		STR	R5, [R0,#8]
		LDR	R5, =dword_10B490
		STMIA	R0, {R3,R6}
		MOV	R3, #0x20
		STR	R3, [R0,#0xC]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R4-R6,PC}
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_105C18
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_105C18				; CODE XREF: sub_105BC8+44j
		STR	R0, [R5,#4]
		MOVS	R0, R0
		MOVNE	R0, #0xFFFFFFFF
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_105BC8

; ---------------------------------------------------------------------------
dword_105C28	DCD 0xC0082		; DATA XREF: sub_105BC8+10r
off_105C2C	DCD dword_10B490	; DATA XREF: sub_105BC8+18r

; =============== S U B	R O U T	I N E =======================================


sub_105C30				; CODE XREF: sub_102F98+7Cp
		STMFD	SP!, {R4-R6,LR}
		MOV	R5, R1
		MOV	R6, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x30082
		STR	R5, [R0,#8]
		LDR	R5, =dword_10B490
		STMIA	R0, {R3,R6}
		MOV	R3, #0x20
		STR	R3, [R0,#0xC]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R4-R6,PC}
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_105C80
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_105C80				; CODE XREF: sub_105C30+44j
		STR	R0, [R5,#4]
		MOVS	R0, R0
		MOVNE	R0, #0xFFFFFFFF
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_105C30

; ---------------------------------------------------------------------------
dword_105C90	DCD 0x30082		; DATA XREF: sub_105C30+10r
off_105C94	DCD dword_10B490	; DATA XREF: sub_105C30+18r

; =============== S U B	R O U T	I N E =======================================


sub_105C98				; CODE XREF: sub_102F98+F4p

var_44		= -0x44
var_43		= -0x43

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x24
		MOV	R6, R0
		MOV	R8, R1
		MOV	R9, R2
		BL	svcGetThreadCommandBuffer
		ADD	R7, SP,	#0x48+var_44
		MOV	R4, #0x1C
		MOV	R1, #0
		MOV	R2, R4
		MOV	R5, R0
		MOV	R0, R7
		BL	memset
		LDR	R3, =0x40082
		LDR	R11, [R5,#0x100]
		LDR	R10, [R5,#0x104]
		STMIA	R5, {R3,R6}
		MOV	R3, #0x20
		LDR	R6, =dword_10B490
		STR	R3, [R5,#0xC]
		LDR	R3, =0x70002
		STR	R4, [R5,#8]
		STR	R3, [R5,#0x100]
		STR	R7, [R5,#0x104]
		LDR	R0, [R6]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_105D88
		LDR	R4, [R5,#4]
		STR	R11, [R5,#0x100]
		CMP	R4, #0
		STR	R10, [R5,#0x104]
		BNE	loc_105D28
		LDR	R0, [R5,#8]
		BL	sub_1059B8
		MOV	R4, R0

loc_105D28				; CODE XREF: sub_105C98+80j
		CMP	R4, #0
		MVN	R3, R4
		STRLT	R4, [R6,#4]
		CMP	R8, #0
		MOV	R3, R3,LSR#31
		MOVEQ	R3, #0
		CMP	R3, #0
		BEQ	loc_105D7C
		LDRB	R3, [SP,#0x48+var_43]
		LDR	R2, [R9]
		ADD	R0, R8,	#2
		STRH	R3, [R8]
		LDRB	R3, [SP,#0x48+var_44]
		ADD	R1, R7,	#2
		CMP	R2, R3
		STRGT	R3, [R9]
		LDR	R2, [R9]
		SUB	R2, R2,	#2
		BL	memcpy
		MOV	R0, R4
		B	loc_105D88
; ---------------------------------------------------------------------------

loc_105D7C				; CODE XREF: sub_105C98+ACj
		CMP	R4, #0
		MOVGE	R0, R4
		MOVLT	R0, #0xFFFFFFFF

loc_105D88				; CODE XREF: sub_105C98+6Cj
					; sub_105C98+E0j
		ADD	SP, SP,	#0x24
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_105C98

; ---------------------------------------------------------------------------
dword_105D90	DCD 0x40082		; DATA XREF: sub_105C98+34r
off_105D94	DCD dword_10B490	; DATA XREF: sub_105C98+48r
dword_105D98	DCD 0x70002		; DATA XREF: sub_105C98+50r

; =============== S U B	R O U T	I N E =======================================


sub_105D9C				; CODE XREF: sub_102F98+64p

var_3C		= -0x3C
var_3B		= -0x3B

		STMFD	SP!, {R4-R9,LR}
		SUB	SP, SP,	#0x24
		MOV	R6, R2
		MOV	R8, R1
		MOV	R9, R0
		BL	svcGetThreadCommandBuffer
		ADD	R7, SP,	#0x40+var_3C
		MOV	R1, #0
		MOV	R2, #0x1C
		MOV	R5, R0
		MOV	R0, R7
		BL	memset
		LDRH	R3, [R8]
		CMP	R3, #2
		MOVEQ	R4, #8
		MOVNE	R4, #0x1C
		CMP	R6, R4
		LDR	R6, =dword_10B490
		MOVLT	R3, #0xFFFFFFEA
		MOVLT	R0, #0xFFFFFFFF
		STRLT	R3, [R6,#(dword_10B494 - 0x10B490)]
		BLT	loc_105E5C
		SUB	R2, R4,	#2
		ADD	R1, R8,	#2
		ADD	R0, R7,	#2
		STRB	R4, [SP,#0x40+var_3C]
		STRB	R3, [SP,#0x40+var_3B]
		BL	memcpy
		LDR	R3, =0x50084
		STR	R4, [R5,#8]
		MOV	R4, R4,LSL#14
		STMIA	R5, {R3,R9}
		ORR	R4, R4,	#2
		MOV	R3, #0x20
		STR	R3, [R5,#0xC]
		STR	R4, [R5,#0x14]
		STR	R7, [R5,#0x18]
		LDR	R0, [R6]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_105E5C
		LDR	R0, [R5,#4]
		CMP	R0, #0
		BNE	loc_105E54
		LDR	R0, [R5,#8]
		BL	sub_1059B8

loc_105E54				; CODE XREF: sub_105D9C+ACj
		STR	R0, [R6,#4]
		MOV	R0, R0,ASR#31

loc_105E5C				; CODE XREF: sub_105D9C+54j
					; sub_105D9C+A0j
		ADD	SP, SP,	#0x24
		LDMFD	SP!, {R4-R9,PC}
; End of function sub_105D9C

; ---------------------------------------------------------------------------
off_105E64	DCD dword_10B490	; DATA XREF: sub_105D9C+44r
dword_105E68	DCD 0x50084		; DATA XREF: sub_105D9C+70r

; =============== S U B	R O U T	I N E =======================================


sub_105E6C

var_3C		= -0x3C
var_3B		= -0x3B

		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x20
		MOV	R9, R1
		MOV	R8, R2
		MOV	R10, R0
		BL	svcGetThreadCommandBuffer
		ADD	R7, SP,	#0x40+var_3C
		MOV	R1, #0
		MOV	R2, #0x1C
		LDR	R6, =dword_10B490
		MOV	R4, R0
		MOV	R0, R7
		BL	memset
		LDRH	R3, [R9]
		CMP	R3, #2
		MOVEQ	R5, #8
		MOVNE	R5, #0x1C
		CMP	R8, R5
		MOVLT	R3, #0xFFFFFFEA
		STRLT	R3, [R6,#(dword_10B494 - 0x10B490)]
		MOVLT	R0, #0xFFFFFFFF
		BLT	loc_105F2C
		SUB	R2, R5,	#2
		ADD	R1, R9,	#2
		ADD	R0, R7,	#2
		STRB	R5, [SP,#0x40+var_3C]
		STRB	R3, [SP,#0x40+var_3B]
		BL	memcpy
		LDR	R3, =0x60084
		MOV	R5, R5,LSL#14
		ORR	R5, R5,	#2
		STMIA	R4, {R3,R10}
		MOV	R3, #0x20
		STR	R8, [R4,#8]
		STR	R3, [R4,#0xC]
		STR	R5, [R4,#0x14]
		STR	R7, [R4,#0x18]
		LDR	R0, [R6]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_105F2C
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_105F24
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_105F24				; CODE XREF: sub_105E6C+ACj
		STR	R0, [R6,#4]
		MOV	R0, R0,ASR#31

loc_105F2C				; CODE XREF: sub_105E6C+54j
					; sub_105E6C+A0j
		ADD	SP, SP,	#0x20
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_105E6C

; ---------------------------------------------------------------------------
off_105F34	DCD dword_10B490	; DATA XREF: sub_105E6C+24r
dword_105F38	DCD 0x60084		; DATA XREF: sub_105E6C+70r

; =============== S U B	R O U T	I N E =======================================


sub_105F3C				; CODE XREF: sub_1063D4+28p

var_44		= -0x44
var_43		= -0x43
arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x24
		MOV	R10, R3
		MOV	R9, R1
		MOV	R5, R2
		MOV	R11, R0
		LDR	R6, [SP,#0x48+arg_0]
		LDR	R8, [SP,#0x48+arg_4]
		BL	svcGetThreadCommandBuffer
		ADD	R7, SP,	#0x48+var_44
		MOV	R1, #0
		MOV	R2, #0x1C
		MOV	R4, R0
		MOV	R0, R7
		BL	memset
		CMP	R6, #0
		MOVNE	R12, #0x1C
		MOVEQ	R12, #0
		LDR	R3, =0x70104
		STR	R9, [R4,#0x20]
		LDR	R9, =dword_10B490
		STR	R5, [R4,#8]
		MOV	R5, R5,LSL#4
		STMIA	R4, {R3,R11}
		ORR	R5, R5,	#0xC
		MOV	R3, #0x20
		STR	R10, [R4,#0xC]
		LDR	R11, [R4,#0x100]
		LDR	R10, [R4,#0x104]
		STR	R3, [R4,#0x14]
		STR	R5, [R4,#0x1C]
		STR	R7, [R4,#0x104]
		LDR	R0, [R9]	; session
		STR	R12, [R4,#0x10]
		MOV	R12, R12,LSL#14
		ORR	R12, R12, #2
		STR	R12, [R4,#0x100]
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_106050
		LDR	R5, [R4,#4]
		STR	R11, [R4,#0x100]
		CMP	R5, #0
		STR	R10, [R4,#0x104]
		BNE	loc_105FFC
		LDR	R0, [R4,#8]
		BL	sub_1059B8
		MOV	R5, R0

loc_105FFC				; CODE XREF: sub_105F3C+B0j
		CMP	R5, #0
		STRLT	R5, [R9,#4]
		CMP	R6, #0
		CMPNE	R5, #0
		BLE	loc_106044
		LDRB	R3, [SP,#0x48+var_43]
		LDR	R2, [R8]
		ADD	R0, R6,	#2
		STRH	R3, [R6]
		LDRB	R3, [SP,#0x48+var_44]
		ADD	R1, R7,	#2
		CMP	R2, R3
		STRGT	R3, [R8]
		LDR	R2, [R8]
		SUB	R2, R2,	#2
		BL	memcpy
		MOV	R0, R5
		B	loc_106050
; ---------------------------------------------------------------------------

loc_106044				; CODE XREF: sub_105F3C+D0j
		CMP	R5, #0
		MOVGE	R0, R5
		MOVLT	R0, #0xFFFFFFFF

loc_106050				; CODE XREF: sub_105F3C+9Cj
					; sub_105F3C+104j
		ADD	SP, SP,	#0x24
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_105F3C

; ---------------------------------------------------------------------------
dword_106058	DCD 0x70104		; DATA XREF: sub_105F3C+48r
off_10605C	DCD dword_10B490	; DATA XREF: sub_105F3C+50r

; =============== S U B	R O U T	I N E =======================================


sub_106060				; CODE XREF: sub_1063D4+18p

var_54		= -0x54
var_50		= -0x50
var_4C		= -0x4C
var_44		= -0x44
var_43		= -0x43
arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x34
		MOV	R10, R3
		MOV	R6, R2
		MOV	R11, R0
		STR	R1, [SP,#0x58+var_4C]
		LDR	R7, [SP,#0x58+arg_0]
		LDR	R9, [SP,#0x58+arg_4]
		BL	svcGetThreadCommandBuffer
		ADD	R8, SP,	#0x58+var_44
		CMP	R7, #0
		MOV	R1, #0
		MOV	R2, #0x1C
		MOVNE	R5, #0x1C
		MOVEQ	R5, #0
		MOV	R4, R0
		MOV	R0, R8
		BL	memset
		LDR	R3, =0x80102
		STR	R6, [R4,#8]
		MOV	R6, R6,LSL#14
		ORR	R6, R6,	#2
		LDR	R2, [R4,#0x100]
		STR	R6, [R4,#0x100]
		LDR	R6, =dword_10B490
		STMIA	R4, {R3,R11}
		STR	R5, [R4,#0x10]
		MOV	R3, #0x20
		LDR	R12, [SP,#0x58+var_4C]
		MOV	R5, R5,LSL#14
		STR	R3, [R4,#0x14]
		ORR	R5, R5,	#2
		LDR	R3, [R4,#0x104]
		STR	R10, [R4,#0xC]
		LDR	R11, [R4,#0x108]
		LDR	R10, [R4,#0x10C]
		STR	R12, [R4,#0x104]
		STR	R5, [R4,#0x108]
		STR	R8, [R4,#0x10C]
		LDR	R0, [R6]	; session
		STR	R2, [SP,#0x58+var_50]
		STR	R3, [SP,#0x58+var_54]
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_106198
		LDR	R5, [R4,#4]
		LDR	R2, [SP,#0x58+var_50]
		LDR	R3, [SP,#0x58+var_54]
		CMP	R5, #0
		STR	R2, [R4,#0x100]
		STR	R3, [R4,#0x104]
		STR	R11, [R4,#0x108]
		STR	R10, [R4,#0x10C]
		BNE	loc_106144
		LDR	R0, [R4,#8]
		BL	sub_1059B8
		MOV	R5, R0

loc_106144				; CODE XREF: sub_106060+D4j
		CMP	R5, #0
		STRLT	R5, [R6,#4]
		CMP	R7, #0
		CMPNE	R5, #0
		BLE	loc_10618C
		LDRB	R3, [SP,#0x58+var_43]
		LDR	R2, [R9]
		ADD	R0, R7,	#2
		STRH	R3, [R7]
		LDRB	R3, [SP,#0x58+var_44]
		ADD	R1, R8,	#2
		CMP	R2, R3
		STRGT	R3, [R9]
		LDR	R2, [R9]
		SUB	R2, R2,	#2
		BL	memcpy
		MOV	R0, R5
		B	loc_106198
; ---------------------------------------------------------------------------

loc_10618C				; CODE XREF: sub_106060+F4j
		CMP	R5, #0
		MOVGE	R0, R5
		MOVLT	R0, #0xFFFFFFFF

loc_106198				; CODE XREF: sub_106060+B0j
					; sub_106060+128j
		ADD	SP, SP,	#0x34
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_106060

; ---------------------------------------------------------------------------
dword_1061A0	DCD 0x80102		; DATA XREF: sub_106060+48r
off_1061A4	DCD dword_10B490	; DATA XREF: sub_106060+60r

; =============== S U B	R O U T	I N E =======================================


sub_1061A8				; CODE XREF: sub_106400+28p

var_4C		= -0x4C
var_44		= -0x44
var_43		= -0x43
arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x2C
		MOV	R10, R3
		LDR	R3, [SP,#0x50+arg_0]
		MOV	R8, R1
		STR	R3, [SP,#0x50+var_4C]
		MOV	R7, R2
		MOV	R11, R0
		BL	svcGetThreadCommandBuffer
		ADD	R9, SP,	#0x50+var_44
		MOV	R1, #0
		MOV	R2, #0x1C
		LDR	R6, =dword_10B490
		MOV	R4, R0
		MOV	R0, R9
		BL	memset
		LDR	R3, [SP,#0x50+var_4C]
		CMP	R3, #0
		BEQ	loc_106234
		LDRH	R2, [R3]
		LDR	R1, [SP,#0x50+arg_4]
		CMP	R2, #2
		MOVEQ	R5, #8
		MOVNE	R5, #0x1C
		CMP	R1, R5
		MOVCC	R3, #0xFFFFFFEA
		STRCC	R3, [R6,#(dword_10B494 - 0x10B490)]
		BCC	loc_1062A8
		STRB	R2, [SP,#0x50+var_43]
		ADD	R0, R9,	#2
		ADD	R1, R3,	#2
		SUB	R2, R5,	#2
		STRB	R5, [SP,#0x50+var_44]
		BL	memcpy
		B	loc_106238
; ---------------------------------------------------------------------------

loc_106234				; CODE XREF: sub_1061A8+48j
		MOV	R5, R3

loc_106238				; CODE XREF: sub_1061A8+88j
		LDR	R3, =0x90106
		STR	R5, [R4,#0x10]
		MOV	R5, R5,LSL#14
		STR	R7, [R4,#8]
		ORR	R5, R5,	#0x400
		MOV	R7, R7,LSL#4
		STMIA	R4, {R3,R11}
		ORR	R5, R5,	#2
		MOV	R3, #0x20
		ORR	R7, R7,	#0xA
		STR	R10, [R4,#0xC]
		STR	R3, [R4,#0x14]
		STR	R5, [R4,#0x1C]
		STR	R9, [R4,#0x20]
		STR	R7, [R4,#0x24]
		STR	R8, [R4,#0x28]
		LDR	R0, [R6]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_1062AC
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_10629C
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_10629C				; CODE XREF: sub_1061A8+E8j
		CMP	R0, #0
		BGE	loc_1062AC
		STR	R0, [R6,#4]

loc_1062A8				; CODE XREF: sub_1061A8+6Cj
		MOV	R0, #0xFFFFFFFF

loc_1062AC				; CODE XREF: sub_1061A8+DCj
					; sub_1061A8+F8j
		ADD	SP, SP,	#0x2C
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_1061A8

; ---------------------------------------------------------------------------
off_1062B4	DCD dword_10B490	; DATA XREF: sub_1061A8+30r
dword_1062B8	DCD 0x90106		; DATA XREF: sub_1061A8:loc_106238r

; =============== S U B	R O U T	I N E =======================================


sub_1062BC				; CODE XREF: sub_106400+18p

var_4C		= -0x4C
var_44		= -0x44
var_43		= -0x43
arg_0		=  0
arg_4		=  4

		STMFD	SP!, {R4-R11,LR}
		SUB	SP, SP,	#0x2C
		MOV	R10, R3
		LDR	R3, [SP,#0x50+arg_0]
		MOV	R9, R1
		STR	R3, [SP,#0x50+var_4C]
		MOV	R7, R2
		MOV	R11, R0
		BL	svcGetThreadCommandBuffer
		ADD	R8, SP,	#0x50+var_44
		MOV	R1, #0
		MOV	R2, #0x1C
		LDR	R6, =dword_10B490
		MOV	R4, R0
		MOV	R0, R8
		BL	memset
		LDR	R3, [SP,#0x50+var_4C]
		CMP	R3, #0
		BEQ	loc_106348
		LDRH	R2, [R3]
		LDR	R1, [SP,#0x50+arg_4]
		CMP	R2, #2
		MOVEQ	R5, #8
		MOVNE	R5, #0x1C
		CMP	R1, R5
		MOVCC	R3, #0xFFFFFFEA
		STRCC	R3, [R6,#(dword_10B494 - 0x10B490)]
		BCC	loc_1063C0
		STRB	R2, [SP,#0x50+var_43]
		ADD	R0, R8,	#2
		ADD	R1, R3,	#2
		SUB	R2, R5,	#2
		STRB	R5, [SP,#0x50+var_44]
		BL	memcpy
		B	loc_10634C
; ---------------------------------------------------------------------------

loc_106348				; CODE XREF: sub_1062BC+48j
		MOV	R5, R3

loc_10634C				; CODE XREF: sub_1062BC+88j
		LDR	R3, =0xA0106
		STR	R7, [R4,#8]
		STR	R5, [R4,#0x10]
		MOV	R7, R7,LSL#14
		MOV	R5, R5,LSL#14
		ORR	R7, R7,	#0x800
		ORR	R5, R5,	#0x400
		STMIA	R4, {R3,R11}
		ORR	R7, R7,	#2
		MOV	R3, #0x20
		ORR	R5, R5,	#2
		STR	R10, [R4,#0xC]
		STR	R3, [R4,#0x14]
		STR	R7, [R4,#0x1C]
		STR	R9, [R4,#0x20]
		STR	R5, [R4,#0x24]
		STR	R8, [R4,#0x28]
		LDR	R0, [R6]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_1063C4
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_1063B4
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_1063B4				; CODE XREF: sub_1062BC+ECj
		CMP	R0, #0
		BGE	loc_1063C4
		STR	R0, [R6,#4]

loc_1063C0				; CODE XREF: sub_1062BC+6Cj
		MOV	R0, #0xFFFFFFFF

loc_1063C4				; CODE XREF: sub_1062BC+E0j
					; sub_1062BC+FCj
		ADD	SP, SP,	#0x2C
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_1062BC

; ---------------------------------------------------------------------------
off_1063CC	DCD dword_10B490	; DATA XREF: sub_1062BC+30r
dword_1063D0	DCD 0xA0106		; DATA XREF: sub_1062BC:loc_10634Cr

; =============== S U B	R O U T	I N E =======================================


sub_1063D4				; CODE XREF: sub_10642C+10p

var_4		= -4
arg_0		=  0
arg_4		=  4

		STR	LR, [SP,#var_4]!
		CMP	R2, #0x2000
		LDR	LR, [SP,#4+arg_0]
		LDR	R12, [SP,#4+arg_4]
		BGE	loc_1063F0
		LDR	LR, [SP+4+var_4],#4
		B	sub_106060
; ---------------------------------------------------------------------------

loc_1063F0				; CODE XREF: sub_1063D4+10j
		STR	LR, [SP,#4+arg_0]
		STR	R12, [SP,#4+arg_4]
		LDR	LR, [SP+4+var_4],#4
		B	sub_105F3C
; End of function sub_1063D4


; =============== S U B	R O U T	I N E =======================================


sub_106400				; CODE XREF: sub_106448+10p

var_4		= -4
arg_0		=  0
arg_4		=  4

		STR	LR, [SP,#var_4]!
		CMP	R2, #0x2000
		LDR	LR, [SP,#4+arg_0]
		LDR	R12, [SP,#4+arg_4]
		BGE	loc_10641C
		LDR	LR, [SP+4+var_4],#4
		B	sub_1062BC
; ---------------------------------------------------------------------------

loc_10641C				; CODE XREF: sub_106400+10j
		STR	LR, [SP,#4+arg_0]
		STR	R12, [SP,#4+arg_4]
		LDR	LR, [SP+4+var_4],#4
		B	sub_1061A8
; End of function sub_106400


; =============== S U B	R O U T	I N E =======================================


sub_10642C				; CODE XREF: sub_104E64+30p

var_10		= -0x10
var_C		= -0xC
var_4		= -4

		MOV	R12, #0
		STMFD	SP!, {R0-R2,LR}
		STR	R12, [SP,#0x10+var_10]
		STR	R12, [SP,#0x10+var_C]
		BL	sub_1063D4
		ADD	SP, SP,	#0xC
		LDR	PC, [SP+4+var_4],#4
; End of function sub_10642C


; =============== S U B	R O U T	I N E =======================================


sub_106448				; CODE XREF: sub_104EC0+30p

var_10		= -0x10
var_C		= -0xC
var_4		= -4

		MOV	R12, #0
		STMFD	SP!, {R0-R2,LR}
		STR	R12, [SP,#0x10+var_10]
		STR	R12, [SP,#0x10+var_C]
		BL	sub_106400
		ADD	SP, SP,	#0xC
		LDR	PC, [SP+4+var_4],#4
; End of function sub_106448


; =============== S U B	R O U T	I N E =======================================


sub_106464

arg_0		=  0

		STMFD	SP!, {R3-R9,LR}
		MOV	R8, R1
		MOV	R7, R2
		MOV	R5, R3
		MOV	R9, R0
		LDR	R6, [SP,#0x20+arg_0]
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x110102
		LDR	R2, [R6]
		STR	R7, [R0,#0xC]
		LDR	R7, [R0,#0x104]
		STR	R5, [R0,#0x104]
		LDR	R5, =dword_10B490
		STR	R2, [R0,#0x10]
		MOV	R2, R2,LSL#14
		STMIA	R0, {R3,R9}
		ORR	R2, R2,	#2
		MOV	R3, #0x20
		STR	R8, [R0,#8]
		STR	R3, [R0,#0x14]
		LDR	R8, [R0,#0x100]
		MOV	R4, R0
		STR	R2, [R0,#0x100]
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R9,PC}
		LDR	R0, [R4,#4]
		STR	R8, [R4,#0x100]
		CMP	R0, #0
		STR	R7, [R4,#0x104]
		BNE	loc_10650C
		LDR	R0, [R4,#8]
		BL	sub_1059B8
		CMP	R0, #0
		BGE	loc_106500

loc_1064F4				; CODE XREF: sub_106464:loc_10650Cj
		STR	R0, [R5,#4]
		MOV	R0, #0xFFFFFFFF
		LDMFD	SP!, {R3-R9,PC}
; ---------------------------------------------------------------------------

loc_106500				; CODE XREF: sub_106464+8Cj
		LDREQ	R3, [R4,#0xC]
		STREQ	R3, [R6]
		LDMFD	SP!, {R3-R9,PC}
; ---------------------------------------------------------------------------

loc_10650C				; CODE XREF: sub_106464+7Cj
		BLT	loc_1064F4
		LDMFD	SP!, {R3-R9,PC}
; End of function sub_106464

; ---------------------------------------------------------------------------
dword_106514	DCD 0x110102		; DATA XREF: sub_106464+1Cr
off_106518	DCD dword_10B490	; DATA XREF: sub_106464+30r

; =============== S U B	R O U T	I N E =======================================


sub_10651C

arg_0		=  0

		STMFD	SP!, {R3-R9,LR}
		MOV	R8, R1
		MOV	R7, R2
		MOV	R6, R3
		LDR	R5, [SP,#0x20+arg_0]
		MOV	R9, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x120104
		STR	R5, [R0,#0x10]
		MOV	R5, R5,LSL#14
		ORR	R5, R5,	#0x2400
		ORR	R5, R5,	#2
		STR	R5, [R0,#0x1C]
		LDR	R5, =dword_10B490
		STMIA	R0, {R3,R9}
		MOV	R3, #0x20
		STR	R8, [R0,#8]
		STR	R7, [R0,#0xC]
		STR	R3, [R0,#0x14]
		STR	R6, [R0,#0x20]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R9,PC}
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_106594
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_106594				; CODE XREF: sub_10651C+6Cj
		CMP	R0, #0
		STRLT	R0, [R5,#4]
		MOVLT	R0, #0xFFFFFFFF
		LDMFD	SP!, {R3-R9,PC}
; End of function sub_10651C

; ---------------------------------------------------------------------------
dword_1065A4	DCD 0x120104		; DATA XREF: sub_10651C+1Cr
off_1065A8	DCD dword_10B490	; DATA XREF: sub_10651C+34r

; =============== S U B	R O U T	I N E =======================================


sub_1065AC

var_24		= -0x24
varg_r1		= -0xC
varg_r2		= -8
varg_r3		= -4

		STMFD	SP!, {R1-R3}
		STMFD	SP!, {R0,R1,R4-R7,LR}
		MOV	R7, R0
		LDR	R6, [SP,#0x28+varg_r1]
		BL	svcGetThreadCommandBuffer
		SUB	R2, R6,	#3
		ADD	R3, SP,	#0x28+varg_r2
		CMP	R2, #1
		STR	R3, [SP,#0x28+var_24]
		LDR	R5, =dword_10B490
		BLS	loc_1065E4

loc_1065D8				; CODE XREF: sub_1065AC+58j
		MOV	R3, #0xFFFFFFEA
		STR	R3, [R5,#(dword_10B494 - 0x10B490)]
		B	loc_106658
; ---------------------------------------------------------------------------

loc_1065E4				; CODE XREF: sub_1065AC+28j
		CMP	R6, #4
		MOV	R4, R0
		MOVNE	R3, #0
		BNE	loc_106610
		LDR	R3, [R3]
		ADD	R2, SP,	#0x28+varg_r3
		STR	R2, [SP,#0x28+var_24]
		BICS	R2, R3,	#0x4000
		BNE	loc_1065D8
		CMP	R3, #0x4000
		MOVEQ	R3, #4

loc_106610				; CODE XREF: sub_1065AC+44j
		LDR	R2, =0x1300C2
		STR	R3, [R4,#0xC]
		MOV	R3, #0x20
		STMIA	R4, {R2,R7}
		STR	R6, [R4,#8]
		STR	R3, [R4,#0x10]
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_10665C
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_10664C
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_10664C				; CODE XREF: sub_1065AC+94j
		CMP	R0, #0
		BGE	loc_10665C
		STR	R0, [R5,#4]

loc_106658				; CODE XREF: sub_1065AC+34j
		MOV	R0, #0xFFFFFFFF

loc_10665C				; CODE XREF: sub_1065AC+88j
					; sub_1065AC+A4j
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4-R7,LR}
		ADD	SP, SP,	#0xC
		BX	LR
; End of function sub_1065AC

; ---------------------------------------------------------------------------
off_10666C	DCD dword_10B490	; DATA XREF: sub_1065AC+24r
dword_106670	DCD 0x1300C2		; DATA XREF: sub_1065AC:loc_106610r

; =============== S U B	R O U T	I N E =======================================


sub_106674
		STMFD	SP!, {R3-R5,LR}
		MOV	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x150042
		STMIA	R0, {R3,R5}
		LDR	R5, =dword_10B490
		MOV	R3, #0x20
		STR	R3, [R0,#8]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R3-R5,PC}
		LDR	R0, [R4,#4]
		CMP	R0, #0
		BNE	loc_1066BC
		LDR	R0, [R4,#8]
		BL	sub_1059B8

loc_1066BC				; CODE XREF: sub_106674+3Cj
		CMP	R0, #0
		STRLT	R0, [R5,#4]
		MOVLT	R0, #0xFFFFFFFF
		LDMFD	SP!, {R3-R5,PC}
; End of function sub_106674

; ---------------------------------------------------------------------------
dword_1066CC	DCD 0x150042		; DATA XREF: sub_106674+Cr
off_1066D0	DCD dword_10B490	; DATA XREF: sub_106674+14r

; =============== S U B	R O U T	I N E =======================================


sub_1066D4
		STMFD	SP!, {R4,LR}
		BL	svcGetThreadCommandBuffer
		MOV	R3, #0x160000
		STR	R3, [R0]
		LDR	R3, =dword_10B490
		MOV	R4, R0
		LDR	R0, [R3]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDMNEFD	SP!, {R4,PC}
		LDR	R3, [R4,#4]
		CMP	R3, #0
		LDREQ	R0, [R4,#8]
		MOVNE	R0, R3
		LDMFD	SP!, {R4,PC}
; End of function sub_1066D4

; ---------------------------------------------------------------------------
off_106710	DCD dword_10B490	; DATA XREF: sub_1066D4+10r

; =============== S U B	R O U T	I N E =======================================


sub_106714

var_3C		= -0x3C
var_3B		= -0x3B

		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x20
		MOV	R5, R0
		MOV	R6, R1
		MOV	R7, R2
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x170082
		ADD	R8, SP,	#0x40+var_3C
		STMIA	R0, {R3,R5}
		MOV	R3, #0x1C
		STR	R3, [R0,#8]
		LDR	R5, =dword_10B490
		MOV	R3, #0x20
		STR	R3, [R0,#0xC]
		LDR	R3, =0x70002
		LDR	R10, [R0,#0x100]
		LDR	R9, [R0,#0x104]
		STR	R3, [R0,#0x100]
		STR	R8, [R0,#0x104]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_1067F0
		LDR	R0, [R4,#4]
		STR	R10, [R4,#0x100]
		CMP	R0, #0
		STR	R9, [R4,#0x104]
		BNE	loc_1067EC
		LDR	R0, [R4,#8]
		BL	sub_1059B8
		CMP	R0, #0
		BGE	loc_1067A4

loc_106798				; CODE XREF: sub_106714:loc_1067ECj
		STR	R0, [R5,#(dword_10B494 - 0x10B490)]
		MOV	R0, #0xFFFFFFFF
		B	loc_1067F0
; ---------------------------------------------------------------------------

loc_1067A4				; CODE XREF: sub_106714+80j
		BNE	loc_1067F0
		LDRB	R3, [SP,#0x40+var_3B]
		LDR	R2, [R7]
		MOV	R1, #0
		STRH	R3, [R6]
		LDRB	R3, [SP,#0x40+var_3C]
		MOV	R0, R6
		CMP	R2, R3
		STRGT	R3, [R7]
		MOV	R2, #0x10
		BL	memset
		LDR	R2, [R7]
		ADD	R0, R6,	#2
		ADD	R1, R8,	#2
		SUB	R2, R2,	#2
		BL	memcpy
		MOV	R0, #0
		B	loc_1067F0
; ---------------------------------------------------------------------------

loc_1067EC				; CODE XREF: sub_106714+70j
		BLT	loc_106798

loc_1067F0				; CODE XREF: sub_106714+5Cj
					; sub_106714+8Cj ...
		ADD	SP, SP,	#0x20
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_106714

; ---------------------------------------------------------------------------
dword_1067F8	DCD 0x170082		; DATA XREF: sub_106714+18r
off_1067FC	DCD dword_10B490	; DATA XREF: sub_106714+2Cr
dword_106800	DCD 0x70002		; DATA XREF: sub_106714+38r

; =============== S U B	R O U T	I N E =======================================


sub_106804

var_3C		= -0x3C
var_3B		= -0x3B

		STMFD	SP!, {R4-R10,LR}
		SUB	SP, SP,	#0x20
		MOV	R5, R0
		MOV	R6, R1
		MOV	R7, R2
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x180082
		ADD	R8, SP,	#0x40+var_3C
		STMIA	R0, {R3,R5}
		MOV	R3, #0x1C
		STR	R3, [R0,#8]
		LDR	R5, =dword_10B490
		MOV	R3, #0x20
		STR	R3, [R0,#0xC]
		LDR	R3, =0x70002
		LDR	R10, [R0,#0x100]
		LDR	R9, [R0,#0x104]
		STR	R3, [R0,#0x100]
		STR	R8, [R0,#0x104]
		MOV	R4, R0
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		BNE	loc_1068E0
		LDR	R0, [R4,#4]
		STR	R10, [R4,#0x100]
		CMP	R0, #0
		STR	R9, [R4,#0x104]
		BNE	loc_1068DC
		LDR	R0, [R4,#8]
		BL	sub_1059B8
		CMP	R0, #0
		BGE	loc_106894

loc_106888				; CODE XREF: sub_106804:loc_1068DCj
		STR	R0, [R5,#(dword_10B494 - 0x10B490)]
		MOV	R0, #0xFFFFFFFF
		B	loc_1068E0
; ---------------------------------------------------------------------------

loc_106894				; CODE XREF: sub_106804+80j
		BNE	loc_1068E0
		LDRB	R3, [SP,#0x40+var_3B]
		LDR	R2, [R7]
		MOV	R1, #0
		STRH	R3, [R6]
		LDRB	R3, [SP,#0x40+var_3C]
		MOV	R0, R6
		CMP	R2, R3
		STRGT	R3, [R7]
		MOV	R2, #0x10
		BL	memset
		LDR	R2, [R7]
		ADD	R0, R6,	#2
		ADD	R1, R8,	#2
		SUB	R2, R2,	#2
		BL	memcpy
		MOV	R0, #0
		B	loc_1068E0
; ---------------------------------------------------------------------------

loc_1068DC				; CODE XREF: sub_106804+70j
		BLT	loc_106888

loc_1068E0				; CODE XREF: sub_106804+5Cj
					; sub_106804+8Cj ...
		ADD	SP, SP,	#0x20
		LDMFD	SP!, {R4-R10,PC}
; End of function sub_106804

; ---------------------------------------------------------------------------
dword_1068E8	DCD 0x180082		; DATA XREF: sub_106804+18r
off_1068EC	DCD dword_10B490	; DATA XREF: sub_106804+2Cr
dword_1068F0	DCD 0x70002		; DATA XREF: sub_106804+38r

; =============== S U B	R O U T	I N E =======================================


; Result __stdcall exitSrv()
exitSrv					; CODE XREF: sub_101594+Cp
		LDR	R3, =srvHandle
		STMFD	SP!, {R4,LR}
		MOV	R4, R3
		LDR	R0, [R3]	; handle
		CMP	R0, #0
		BEQ	loc_106910
		BL	svcCloseHandle

loc_106910				; CODE XREF: exitSrv+14j
		MOV	R3, #0
		STR	R3, [R4]
		LDMFD	SP!, {R4,PC}
; End of function exitSrv

; ---------------------------------------------------------------------------
off_10691C	DCD srvHandle		; DATA XREF: exitSrvr

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall srv_RegisterClient(Handle *handleptr)
srv_RegisterClient			; CODE XREF: initSrv+20p
		STMFD	SP!, {R3-R5,LR}
		CMP	R0, #0
		LDR	R5, =srvHandle
		MOVNE	R5, R0
		BL	svcGetThreadCommandBuffer
		LDR	R2, =0x10002
		MOV	R3, #0x20
		MOV	R4, R0
		STMIA	R0, {R2,R3}
		LDR	R0, [R5]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R0, [R4,#4]
		LDMFD	SP!, {R3-R5,PC}
; End of function srv_RegisterClient

; ---------------------------------------------------------------------------
off_106958	DCD srvHandle		; DATA XREF: srv_RegisterClient+8r
dword_10695C	DCD 0x10002		; DATA XREF: srv_RegisterClient+14r

; =============== S U B	R O U T	I N E =======================================


; Result __stdcall initSrv()
initSrv					; CODE XREF: sub_101278+A8p
					; sub_101594:loc_10159Cp ...
		STMFD	SP!, {R3,LR}
		LDR	R0, =srvHandle	; out
		LDR	R1, =aSrv	; "srv:"
		BL	svcConnectToPort
		CMP	R0, #0
		BNE	loc_106984
		LDR	R0, =srvHandle	; handleptr
		LDMFD	SP!, {R3,LR}
		B	srv_RegisterClient
; ---------------------------------------------------------------------------

loc_106984				; CODE XREF: initSrv+14j
		MOV	R0, #0
		LDMFD	SP!, {R3,PC}
; End of function initSrv

; ---------------------------------------------------------------------------
; volatile Handle *handleptr
handleptr	DCD srvHandle		; DATA XREF: initSrv+4r initSrv+18r
; char *portName
portName	DCD aSrv		; DATA XREF: initSrv+8r
					; "srv:"

; =============== S U B	R O U T	I N E =======================================


; Result __fastcall srv_getServiceHandle(Handle	*handleptr, Handle *out, unsigned __int8 *server)
srv_getServiceHandle			; CODE XREF: ACU_WaitInternetConnection+18p
					; sub_1034D0+18p ...
		CMP	R0, #0
		STMFD	SP!, {R3-R9,LR}
		MOV	R7, R1
		LDR	R6, =srvHandle
		MOVNE	R6, R0
		MOV	R0, R2
		MOV	R9, R2
		BL	strlen
		CLZ	R3, R7
		MOV	R3, R3,LSR#5
		UXTB	R8, R0
		CMP	R8, #8
		MOVLS	R4, R3
		ORRHI	R4, R3,	#1
		CMP	R4, #0
		BNE	loc_106A10
		BL	svcGetThreadCommandBuffer
		LDR	R3, =0x50100
		MOV	R1, R9
		MOV	R5, R0
		STR	R3, [R0],#4
		BL	strcpy
		STR	R8, [R5,#0xC]
		STR	R4, [R5,#0x10]
		LDR	R0, [R6]	; session
		BL	svcSendSyncRequest
		CMP	R0, #0
		LDREQ	R3, [R5,#0xC]
		STREQ	R3, [R7]
		LDREQ	R0, [R5,#4]
		LDMFD	SP!, {R3-R9,PC}
; ---------------------------------------------------------------------------

loc_106A10				; CODE XREF: srv_getServiceHandle+3Cj
		MOV	R0, #0xFFFFFFFF
		LDMFD	SP!, {R3-R9,PC}
; End of function srv_getServiceHandle

; ---------------------------------------------------------------------------
off_106A18	DCD srvHandle		; DATA XREF: srv_getServiceHandle+Cr
dword_106A1C	DCD 0x50100		; DATA XREF: srv_getServiceHandle+44r

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

svcGetThreadCommandBuffer		; CODE XREF: sub_100518+Cp
					; sub_100568+10p ...
		MRC	p15, 0,	R0,c13,c0, 3
		ADD	R0, R0,	#0x80
		BX	LR
; End of function svcGetThreadCommandBuffer

; [00000020 BYTES: COLLAPSED FUNCTION svcControlMemory.	PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svcExitProcess. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION svcCreateThread. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svcExitThread. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __stdcall svcSleepThread(s64 ns)
svcSleepThread				; CODE XREF: sub_100E98+2Cp
					; sub_101278+CCp ...
		SVC	0xA
		BX	LR
; End of function svcSleepThread


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcCreateMutex(Handle *mutex, bool initialLocked)
svcCreateMutex

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x13
		LDR	R3, [SP+4+var_4],#4
		STR	R1, [R3]
		BX	LR
; End of function svcCreateMutex


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcReleaseMutex(Handle handle)
svcReleaseMutex
		SVC	0x14
		BX	LR
; End of function svcReleaseMutex


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcReleaseSemaphore(s32 *count, Handle semaphore, s32 releaseCount)
svcReleaseSemaphore

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x16
		LDR	R2, [SP+4+var_4],#4
		STR	R1, [R2]
		BX	LR
; End of function svcReleaseSemaphore


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcCreateEvent(Handle *event, u8 reset_type)
svcCreateEvent

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x17
		LDR	R2, [SP+4+var_4],#4
		STR	R1, [R2]
		BX	LR
; End of function svcCreateEvent


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcSignalEvent(Handle handle)
svcSignalEvent
		SVC	0x18
		BX	LR
; End of function svcSignalEvent


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcClearEvent(Handle handle)
svcClearEvent
		SVC	0x19
		BX	LR
; End of function svcClearEvent


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcCreateMemoryBlock(Handle *memblock, u32 addr, u32 size, MemPerm my_perm, MemPerm other_perm)
svcCreateMemoryBlock			; CODE XREF: sub_105A80+28p

var_4		= -4
otherpermission	=  0

		STR	R0, [SP,#var_4]!
		LDR	R0, [SP,#4+otherpermission]
		SVC	0x1E
		LDR	R2, [SP+4+var_4],#4
		STR	R1, [R2]
		BX	LR
; End of function svcCreateMemoryBlock


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcMapMemoryBlock(Handle memblock, u32 addr,	u32 mypermissions, u32 otherpermission)
svcMapMemoryBlock
		SVC	0x1F
		BX	LR
; End of function svcMapMemoryBlock


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcUnmapMemoryBlock(Handle memblock, u32 addr)
svcUnmapMemoryBlock
		SVC	0x20
		BX	LR
; End of function svcUnmapMemoryBlock


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcArbitrateAddress(Handle arbiter, u32 addr, u8 type, s32 value, s64 nanoseconds)
svcArbitrateAddress
		SVC	0x22
		BX	LR
; End of function svcArbitrateAddress


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcCloseHandle(Handle handle)
svcCloseHandle				; CODE XREF: ACU_WaitInternetConnection+48p
					; sub_100CA8+170p ...
		SVC	0x23
		BX	LR
; End of function svcCloseHandle


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcWaitSynchronization(Handle handle, s64 nanoseconds)
svcWaitSynchronization
		SVC	0x24
		BX	LR
; End of function svcWaitSynchronization


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcWaitSynchronizationN(s32 *out, Handle *handles, s32 handlecount, bool waitAll, s64 nanoseconds)
svcWaitSynchronizationN

var_4		= -4
nanoseconds	=  0

		STR	R5, [SP,#var_4]!
		MOV	R5, R0
		LDR	R0, [SP,#4+nanoseconds]
		LDR	R4, [SP,#4+nanoseconds+4]
		SVC	0x25
		STR	R1, [R5]
		LDR	R5, [SP+4+var_4],#4
		BX	LR
; End of function svcWaitSynchronizationN


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; u64 __stdcall	svcGetSystemTick()
svcGetSystemTick
		SVC	0x28
		BX	LR
; End of function svcGetSystemTick


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcGetSystemInfo(s64	*out, u32 type,	s32 param)
svcGetSystemInfo

var_8		= -8
var_4		= -4

		STMFD	SP!, {R0,R4}
		SVC	0x2A
		LDR	R4, [SP+8+var_8],#4
		STR	R1, [R4]
		STR	R2, [R4,#4]
		LDR	R4, [SP+4+var_4],#4
		BX	LR
; End of function svcGetSystemInfo


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcGetProcessInfo(s64 *out, Handle process, u32	type)
svcGetProcessInfo

var_8		= -8
var_4		= -4

		STMFD	SP!, {R0,R4}
		SVC	0x2B
		LDR	R4, [SP+8+var_8],#4
		STR	R1, [R4]
		STR	R2, [R4,#4]
		LDR	R4, [SP+4+var_4],#4
		BX	LR
; End of function svcGetProcessInfo


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcConnectToPort(volatile Handle *out, const char *portName)
svcConnectToPort			; CODE XREF: initSrv+Cp

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x2D
		LDR	R3, [SP+4+var_4],#4
		STR	R1, [R3]
		BX	LR
; End of function svcConnectToPort


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcSendSyncRequest(Handle session)
svcSendSyncRequest			; CODE XREF: sub_100518+34p
					; sub_100568+40p ...
		SVC	0x32
		BX	LR
; End of function svcSendSyncRequest

; [00000014 BYTES: COLLAPSED FUNCTION svcGetProcessId. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION svcGetThreadId. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svcSetThreadIdealProcessor. PRESS	KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcOpenThread(Handle	*thread, Handle	process, u32 threadId)
svcOpenThread				; CODE XREF: sub_105168+1Cp

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x34
		LDR	R3, [SP+4+var_4],#4
		STR	R1, [R3]
		BX	LR
; End of function svcOpenThread

; [00000008 BYTES: COLLAPSED FUNCTION svcFlushProcessDataCache.	PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svcInvalidateProcessDataCache. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; s32 __stdcall	svcQueryMemory(MemInfo *info, PageInfo *out, u32 addr)
svcQueryMemory
		SVC	2
		BX	LR
; End of function svcQueryMemory


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcAddCodeSegment(u32 addr, u32 size)
svcAddCodeSegment
		SVC	0x7A
		BX	LR
; End of function svcAddCodeSegment


; =============== S U B	R O U T	I N E =======================================


; s32 __stdcall	svcTerminateProcess(Handle thread)
svcTerminateProcess
		SVC	0x76
		BX	LR
; End of function svcTerminateProcess


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcOpenProcess(Handle *process, u32 processId)
svcOpenProcess				; CODE XREF: sub_100CA8+20p
					; sub_1013F4+Cp ...

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x33
		LDR	R3, [SP+4+var_4],#4
		STR	R1, [R3]
		BX	LR
; End of function svcOpenProcess

; [00000018 BYTES: COLLAPSED FUNCTION svcControlProcessMemory. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svcMapProcessMemory. PRESS KEYPAD	CTRL-"+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION svcStartInterProcessDma. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION svcGetDmaState. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcBackdoor(s32 (*callback)(void))
svcBackdoor				; CODE XREF: ROM:00106FE8p
					; sub_106FFC+18j ...
		SVC	0x7B
		BX	LR
; End of function svcBackdoor


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcGetProcessList(s32 *processCount,	u32 *processIds, s32 processIdMaxCount)
svcGetProcessList			; CODE XREF: sub_102388+18p
					; sub_104BE8+28p

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x65
		LDR	R3, [SP+4+var_4],#4
		STR	R1, [R3]
		BX	LR
; End of function svcGetProcessList


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; Result __stdcall svcGetThreadList(s32	*threadCount, u32 *threadIds, s32 threadIdMaxCount, Handle domain)
svcGetThreadList			; CODE XREF: sub_1027F4+24p
					; sub_10298C+58p

var_4		= -4

		STR	R0, [SP,#var_4]!
		SVC	0x66
		LDR	R3, [SP+4+var_4],#4
		STR	R1, [R3]
		BX	LR
; End of function svcGetThreadList


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

svcGetThreadContext
		SVC	0x3B
		BX	LR
; End of function svcGetThreadContext

; [00000014 BYTES: COLLAPSED FUNCTION svc_debugActiveProcess. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svcReadProcessMemory. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION svc_writeProcessMemory. PRESS KEYPAD CTRL-"+" TO EXPAND]
nsDbgPrint_6	ALIGN 0x10

; =============== S U B	R O U T	I N E =======================================


sub_106CD0				; CODE XREF: sub_106ED4+5Cp
		LDR	R3, [R0]
		MOV	R1, R1,LSL#17
		ADD	R1, R3,	R1,LSR#14
		LDR	R0, [R1,#4]
		BX	LR
; End of function sub_106CD0

; ---------------------------------------------------------------------------
		BX	LR
; ---------------------------------------------------------------------------
		ADD	R0, R0,	#0xC0000000
		BX	LR

; =============== S U B	R O U T	I N E =======================================


sub_106CF0				; CODE XREF: sub_106DD8+14p
					; sub_106DD8+24p ...
		LDR	R12, =0x1FFFC000
		LDR	R3, =0x1FFF8000
		CMP	R0, #0
		MOVEQ	R0, R3
		MOVNE	R0, R12
		ADD	R0, R0,	#0x7F0
		STMFD	SP!, {R4-R6,LR}
		ADD	R2, R2,	R1
		ADD	R0, R0,	#0xC000000C
		MOV	LR, #0x20000000

loc_106D18				; CODE XREF: sub_106CF0+D8j
		LDR	R3, [R0,#4]!
		AND	R12, R3, #3
		CMP	R12, #2
		BNE	loc_106D50
		CMP	LR, R2
		MOVCC	R12, #1
		MOVCS	R12, #0
		CMP	LR, R1
		MOVCC	R12, #0
		CMP	R12, #0
		BICNE	R3, R3,	#0x8C00
		ORRNE	R3, R3,	#0xC00
		STRNE	R3, [R0]
		B	loc_106DC4
; ---------------------------------------------------------------------------

loc_106D50				; CODE XREF: sub_106CF0+34j
		CMP	R12, #1
		BNE	loc_106DC4
		BIC	R3, R3,	#0x3FC
		BIC	R3, R3,	#3
		SUB	R4, R3,	#0x40000004
		ADD	R3, R3,	#0xC0000000
		ADD	R12, R3, #0x3FC
		MOV	R5, LR

loc_106D70				; CODE XREF: sub_106CF0+D0j
		CMP	R5, R2
		MOVCC	R6, #1
		MOVCS	R6, #0
		CMP	R5, R1
		MOVCC	R6, #0
		CMP	R6, #0
		LDR	R3, [R4,#4]!
		BEQ	loc_106DB8
		AND	R6, R3,	#3
		CMP	R6, #1
		BICEQ	R3, R3,	#0x8200
		BICEQ	R3, R3,	#0x30
		BEQ	loc_106DB0
		BLS	loc_106DB8
		BIC	R3, R3,	#0x230
		BIC	R3, R3,	#1

loc_106DB0				; CODE XREF: sub_106CF0+B0j
		ORR	R3, R3,	#0x30
		STR	R3, [R4]

loc_106DB8				; CODE XREF: sub_106CF0+9Cj
					; sub_106CF0+B4j
		CMP	R4, R12
		ADD	R5, R5,	#0x1000
		BNE	loc_106D70

loc_106DC4				; CODE XREF: sub_106CF0+5Cj
					; sub_106CF0+64j
		ADDS	LR, LR,	#0x100000
		BNE	loc_106D18
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_106CF0

; ---------------------------------------------------------------------------
dword_106DD0	DCD 0x1FFFC000		; DATA XREF: sub_106CF0r
dword_106DD4	DCD 0x1FFF8000		; DATA XREF: sub_106CF0+4r

; =============== S U B	R O U T	I N E =======================================


sub_106DD8				; CODE XREF: sub_106ED4+D4p
		STMFD	SP!, {R4,LR}
		MOV	R0, #0
		LDR	R4, =dword_108618
		LDR	R1, =0xFFFBA000
		MOV	R2, #0x10000
		BL	sub_106CF0
		MOV	R0, #1
		LDR	R1, =0xFFFBA000
		MOV	R2, #0x10000
		BL	sub_106CF0
		LDR	R3, [R4]
		MOV	R2, #0
		ADD	R3, R3,	#0x8000
		LDR	R0, =0xE10F0000
		STR	R2, [R3,#0x4EC]
		LDR	R3, [R4]
		ADD	R3, R3,	#0x8000
		STR	R2, [R3,#0x4F0]
		LDR	R2, [R4,#(dword_10861C - 0x108618)]
		LDR	R3, [R4]
		ADD	R1, R2,	R3
		STR	R0, [R2,R3]
		LDR	R2, =0xE38000C0
		LDR	R3, =0xE129F000
		LDR	R0, =sub_106ED4	; dst
		STMIB	R1, {R2,R3}
		ADD	R1, R1,	#0xC	; buf
		BL	rtGenerateJumpCode
		LDR	R3, [R4,#(dword_10861C - 0x108618)]
		LDR	R2, [R4,#(dword_108624 - 0x108618)]
		ADD	R3, R3,	R2
		STR	R3, [R4,#(dword_108620 - 0x108618)]
		BL	InvalidateEntireInstructionCache
		LDMFD	SP!, {R4,LR}
		B	CleanEntireDataCache
; End of function sub_106DD8

; ---------------------------------------------------------------------------
off_106E64	DCD dword_108618	; DATA XREF: sub_106DD8+8r
dword_106E68	DCD 0xFFFBA000		; DATA XREF: sub_106DD8+Cr
					; sub_106DD8+1Cr
dword_106E6C	DCD 0xE10F0000		; DATA XREF: sub_106DD8+34r
dword_106E70	DCD 0xE38000C0		; DATA XREF: sub_106DD8+58r
dword_106E74	DCD 0xE129F000		; DATA XREF: sub_106DD8+5Cr
; u32 dst
dst		DCD sub_106ED4		; DATA XREF: sub_106DD8+60r

; =============== S U B	R O U T	I N E =======================================


sub_106E7C				; CODE XREF: sub_106ED4+E8p
		STMFD	SP!, {R3,LR}
		MOV	R0, #0
		LDR	R1, =0xFFFBA000
		MOV	R2, #0x10000
		BL	sub_106CF0
		MOV	R0, #1
		LDR	R1, =0xFFFBA000
		MOV	R2, #0x10000
		BL	sub_106CF0
		LDR	R1, =dword_108618
		MOV	R2, #0
		LDR	R3, [R1]
		ADD	R3, R3,	#0x8000
		STR	R2, [R3,#0x158]
		LDR	R3, [R1]
		ADD	R3, R3,	#0x8000
		STR	R2, [R3,#0x15C]
		BL	InvalidateEntireInstructionCache
		LDMFD	SP!, {R3,LR}
		B	CleanEntireDataCache
; End of function sub_106E7C

; ---------------------------------------------------------------------------
dword_106ECC	DCD 0xFFFBA000		; DATA XREF: sub_106E7C+8r
					; sub_106E7C+18r
off_106ED0	DCD dword_108618	; DATA XREF: sub_106E7C+24r

; =============== S U B	R O U T	I N E =======================================


sub_106ED4				; CODE XREF: ROM:001019B8p
					; DATA XREF: sub_106DD8+60o ...
		STMFD	SP!, {R4,LR}
		LDR	R4, =dword_10B49C
		LDR	R3, [R4]
		CMP	R3, #1
		BNE	loc_106F10
		LDR	R2, [R4,#(dword_10B4A8 - 0x10B49C)]
		LDR	R1, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDR	R0, [R4,#(dword_10B4A4 - 0x10B49C)]
		MOV	R3, #0

loc_106EF8				; CODE XREF: sub_106ED4+34j
		CMP	R3, R2
		LDRCC	R12, [R3,R0]
		STRCC	R12, [R3,R1]
		ADDCC	R3, R3,	#4
		BCC	loc_106EF8
		LDMFD	SP!, {R4,PC}
; ---------------------------------------------------------------------------

loc_106F10				; CODE XREF: sub_106ED4+10j
		CMP	R3, #2
		BNE	loc_106F3C
		LDR	R3, =dword_108618
		LDR	R1, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDR	R0, [R3,#(dword_108628 - 0x108618)]
		MOV	R3, #0xFFFF9FFF
		LDR	R3, [R3,#-0xFFB]
		ADD	R0, R0,	R3
		BL	sub_106CD0
		STR	R0, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDMFD	SP!, {R4,PC}
; ---------------------------------------------------------------------------

loc_106F3C				; CODE XREF: sub_106ED4+40j
		CMP	R3, #3
		MOVEQ	R3, #0xFFFF9FFF
		LDREQ	R3, [R3,#-0xFFB]
		STREQ	R3, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDMEQFD	SP!, {R4,PC}
		CMP	R3, #4
		MOVEQ	R3, #0xFFFF9FFF
		LDREQ	R2, [R4,#4]
		STREQ	R2, [R3,#-0xFFB]
		LDMEQFD	SP!, {R4,PC}
		CMP	R3, #5
		BNE	loc_106F8C
		LDR	R1, =dword_108618
		LDR	R3, [R4,#4]
		LDR	R2, [R4,#8]
		LDR	R1, [R1,#(dword_10862C - 0x108618)]
		LDR	R1, [R1,R3]
		STR	R1, [R4,#8]
		STR	R2, [R3,#0xAC]
		LDMFD	SP!, {R4,PC}
; ---------------------------------------------------------------------------

loc_106F8C				; CODE XREF: sub_106ED4+94j
		CMP	R3, #6
		LDMNEFD	SP!, {R4,PC}
		LDR	R3, =IoBasePad
		MOV	R4, R3
		LDR	R2, [R3]
		CMP	R2, #0x5C
		BNE	loc_106FAC
		BL	sub_106DD8

loc_106FAC				; CODE XREF: sub_106ED4+D0j
		LDR	R3, [R4]
		CMP	R3, #0x51
		LDMNEFD	SP!, {R4,PC}
		LDMFD	SP!, {R4,LR}
		B	sub_106E7C
; End of function sub_106ED4

; ---------------------------------------------------------------------------
off_106FC0	DCD dword_10B49C	; DATA XREF: sub_106ED4+4r
off_106FC4	DCD dword_108618	; DATA XREF: sub_106ED4+44r
					; sub_106ED4+98r
off_106FC8	DCD IoBasePad		; DATA XREF: sub_106ED4+C0r
; ---------------------------------------------------------------------------
		STMFD	SP!, {R4,LR}
		MOV	R3, #5
		LDR	R4, =dword_10B49C
		STR	R3, [R4]
		LDR	R3, =dword_108618
		STMIB	R4, {R0,R1}
		LDR	R0, [R3,#(dword_108620 - 0x108618)]
		BL	svcBackdoor
		LDR	R0, [R4,#(dword_10B4A4 - 0x10B49C)]
		LDMFD	SP!, {R4,PC}
; ---------------------------------------------------------------------------
off_106FF4	DCD dword_10B49C	; DATA XREF: ROM:00106FD4r
off_106FF8	DCD dword_108618	; DATA XREF: ROM:00106FDCr

; =============== S U B	R O U T	I N E =======================================


sub_106FFC				; CODE XREF: controlMemory+30p
					; controlMemory+5Cp
		LDR	R3, =dword_10B49C
		MOV	R2, #4
		STR	R0, [R3,#(dword_10B4A0 - 0x10B49C)]
		STR	R2, [R3]
		LDR	R3, =dword_108618
		LDR	R0, [R3,#(dword_108620 - 0x108618)] ; callback
		B	svcBackdoor
; End of function sub_106FFC

; ---------------------------------------------------------------------------
off_107018	DCD dword_10B49C	; DATA XREF: sub_106FFCr
off_10701C	DCD dword_108618	; DATA XREF: sub_106FFC+10r

; =============== S U B	R O U T	I N E =======================================


sub_107020				; CODE XREF: ROM:001042D4j
					; controlMemory+24p
		STMFD	SP!, {R4,LR}
		MOV	R3, #3
		LDR	R4, =dword_10B49C
		STR	R3, [R4]
		LDR	R3, =dword_108618
		LDR	R0, [R3,#(dword_108620 - 0x108618)] ; callback
		BL	svcBackdoor
		LDR	R0, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDMFD	SP!, {R4,PC}
; End of function sub_107020

; ---------------------------------------------------------------------------
off_107044	DCD dword_10B49C	; DATA XREF: sub_107020+8r
off_107048	DCD dword_108618	; DATA XREF: sub_107020+10r

; =============== S U B	R O U T	I N E =======================================


sub_10704C				; CODE XREF: sub_1013F4+1Cp
					; sub_10204C+48p ...
		STMFD	SP!, {R4,LR}
		MOV	R3, #2
		LDR	R4, =dword_10B49C
		STR	R3, [R4]
		LDR	R3, =dword_108618
		STR	R0, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDR	R0, [R3,#(dword_108620 - 0x108618)] ; callback
		BL	svcBackdoor
		LDR	R0, [R4,#(dword_10B4A0 - 0x10B49C)]
		LDMFD	SP!, {R4,PC}
; End of function sub_10704C

; ---------------------------------------------------------------------------
off_107074	DCD dword_10B49C	; DATA XREF: sub_10704C+8r
off_107078	DCD dword_108618	; DATA XREF: sub_10704C+10r

; =============== S U B	R O U T	I N E =======================================


sub_10707C				; CODE XREF: sub_1013F4+38p
					; sub_1013F4+50p ...
		LDR	R3, =dword_10B49C
		MOV	R12, #1
		STMIB	R3, {R0-R2}
		STR	R12, [R3]
		LDR	R3, =dword_108618
		LDR	R0, [R3,#(dword_108620 - 0x108618)] ; callback
		B	svcBackdoor
; End of function sub_10707C

; ---------------------------------------------------------------------------
off_107098	DCD dword_10B49C	; DATA XREF: sub_10707Cr
off_10709C	DCD dword_108618	; DATA XREF: sub_10707C+10r

; =============== S U B	R O U T	I N E =======================================


sub_1070A0				; CODE XREF: main:loc_1016ECp
		LDR	R3, =dword_10B49C
		MOV	R2, #6
		STR	R2, [R3]
		LDR	R3, =dword_108618
		LDR	R0, [R3,#(dword_108620 - 0x108618)] ; callback
		B	svcBackdoor
; End of function sub_1070A0

; ---------------------------------------------------------------------------
off_1070B8	DCD dword_10B49C	; DATA XREF: sub_1070A0r
off_1070BC	DCD dword_108618	; DATA XREF: sub_1070A0+Cr
; ---------------------------------------------------------------------------
		BX	LR

; =============== S U B	R O U T	I N E =======================================


sub_1070C4				; CODE XREF: sub_107188+10p
					; sub_107188+20p ...
		ADD	R3, R0,	#0xEC000000
		CMN	R3, #0xF8000001
		BHI	loc_1070D8
		ADD	R0, R0,	#0xC000000
		BX	LR
; ---------------------------------------------------------------------------

loc_1070D8				; CODE XREF: sub_1070C4+8j
		ADD	R3, R0,	#0xD0000000
		CMN	R3, #0xF0000001
		BHI	loc_1070EC
		ADD	R0, R0,	#0xF0000000
		BX	LR
; ---------------------------------------------------------------------------

loc_1070EC				; CODE XREF: sub_1070C4+1Cj
		ADD	R3, R0,	#0xE1000000
		CMP	R3, #0x600000
		BCS	locret_107100
		ADD	R0, R0,	#0xF9000000
		BX	LR
; ---------------------------------------------------------------------------

locret_107100				; CODE XREF: sub_1070C4+30j
		BX	LR
; End of function sub_1070C4


; =============== S U B	R O U T	I N E =======================================


sub_107104				; CODE XREF: sub_101278+80p
		STMFD	SP!, {R3,LR}
		MOV	R1, #0x600000	; size
		MOV	R0, #0x1F000000	; addr
		BL	protectMemory
		CMP	R0, #0
		MOVEQ	R2, #1
		LDREQ	R3, =dword_10B51C
		STREQ	R2, [R3]
		LDMFD	SP!, {R3,PC}
; End of function sub_107104

; ---------------------------------------------------------------------------
off_107128	DCD dword_10B51C	; DATA XREF: sub_107104+18r

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void __stdcall debounceKey()
debounceKey				; CODE XREF: sub_1035F8+8p
					; sub_1035F8+130p ...

var_4		= -4

		LDR	R2, =0xFFFFF
		SUB	SP, SP,	#8
		MOV	R3, #0
		STR	R3, [SP,#8+var_4]

loc_10713C				; CODE XREF: debounceKey+24j
		LDR	R3, [SP,#8+var_4]
		CMP	R3, R2
		LDRLS	R3, [SP,#8+var_4]
		ADDLS	R3, R3,	#1
		STRLS	R3, [SP,#8+var_4]
		BLS	loc_10713C
		ADD	SP, SP,	#8
		BX	LR
; End of function debounceKey

; ---------------------------------------------------------------------------
dword_10715C	DCD 0xFFFFF		; DATA XREF: debounceKeyr

; =============== S U B	R O U T	I N E =======================================


sub_107160				; CODE XREF: sub_1035F8+134p

var_4		= -4

		SUB	SP, SP,	#8
		MOV	R3, #0

loc_107168				; CODE XREF: sub_107160+1Cj
		STR	R3, [SP,#8+var_4]
		LDR	R3, [SP,#8+var_4]
		CMP	R3, #0x3000000
		LDRCC	R3, [SP,#8+var_4]
		ADDCC	R3, R3,	#1
		BCC	loc_107168
		ADD	SP, SP,	#8
		BX	LR
; End of function sub_107160


; =============== S U B	R O U T	I N E =======================================


sub_107188				; CODE XREF: sub_1047F0+110p
					; sub_10736C+50p ...
		STMFD	SP!, {R4-R6,LR}
		LDR	R5, =dword_108634
		LDR	R4, =dword_1085E4
		LDR	R0, [R5]
		BL	sub_1070C4
		LDR	R6, [R4]
		STR	R0, [R6,#0x568]
		LDR	R0, [R5]
		BL	sub_1070C4
		LDR	R6, [R4]
		LDR	R2, =0x80301
		STR	R0, [R6,#0x56C]
		LDR	R3, [R4]
		LDR	R0, =0xFFFF8001	; handle
		STR	R2, [R3,#0x570]
		LDR	R3, [R4]
		LDR	R2, =0x14000F0
		STR	R2, [R3,#0x55C]
		LDR	R3, [R4]
		MOV	R2, #0x2D0
		STR	R2, [R3,#0x590]
		MOV	R2, #0x38400	; size
		LDR	R1, [R5]	; addr
		LDMFD	SP!, {R4-R6,LR}
		B	svcFlushProcessDataCache
; End of function sub_107188

; ---------------------------------------------------------------------------
off_1071EC	DCD dword_108634	; DATA XREF: sub_107188+4r
off_1071F0	DCD dword_1085E4	; DATA XREF: sub_107188+8r
dword_1071F4	DCD 0x80301		; DATA XREF: sub_107188+28r
; Handle dword_1071F8
dword_1071F8	DCD 0xFFFF8001		; DATA XREF: sub_107188+34r
dword_1071FC	DCD 0x14000F0		; DATA XREF: sub_107188+40r

; =============== S U B	R O U T	I N E =======================================


sub_107200				; CODE XREF: main+24p sub_104638+C8p ...
		STMFD	SP!, {R3,LR}
		LDR	R3, =off_10AD08
		LDR	R3, [R3]
		CMP	R3, #0
		LDMEQFD	SP!, {R3,PC}
		BLX	R3
		LDMFD	SP!, {R3,PC}
; End of function sub_107200

; ---------------------------------------------------------------------------
off_10721C	DCD off_10AD08		; DATA XREF: sub_107200+4r

; =============== S U B	R O U T	I N E =======================================


sub_107220				; CODE XREF: ROM:00100F44p
					; sub_1035F8:loc_103674p ...
		STMFD	SP!, {R4-R8,LR}
		LDR	R5, =dword_10B51C
		LDR	R7, [R5,#(dword_10B520 - 0x10B51C)]
		CMP	R7, #0
		BNE	loc_1072D4
		LDR	R3, =dword_1085D8
		LDR	R6, =dword_1085E4
		LDR	R8, =dword_108634
		LDR	R2, [R3]
		STR	R7, [R2,#0x204]
		LDR	R3, [R3]
		STR	R7, [R3,#0xA04]
		LDR	R4, [R6]
		LDR	R3, =dword_10B52C
		LDR	R0, [R8]
		LDR	R2, [R4,#0x568]
		STR	R2, [R3]
		LDR	R2, [R4,#0x56C]
		STR	R2, [R3,#(dword_10B530 - 0x10B52C)]
		LDR	R2, [R4,#0x570]
		STR	R2, [R3,#(dword_10B534 - 0x10B52C)]
		LDR	R2, [R4,#0x55C]
		STR	R2, [R3,#(dword_10B538 - 0x10B52C)]
		LDR	R2, [R4,#0x590]
		STR	R2, [R3,#(dword_10B53C - 0x10B52C)]
		BL	sub_1070C4
		STR	R0, [R4,#0x568]
		LDR	R0, [R8]
		BL	sub_1070C4
		LDR	R4, [R6]
		LDR	R2, =0x80301
		MOV	R1, R7		; y
		STR	R0, [R4,#0x56C]
		LDR	R3, [R6]
		MOV	R0, R7		; x
		STR	R2, [R3,#0x570]
		LDR	R3, [R6]
		LDR	R2, =0x14000F0
		STR	R2, [R3,#0x55C]
		LDR	R3, [R6]
		MOV	R2, #0x2D0
		STR	R2, [R3,#0x590]
		MOV	R2, #0x140	; xs
		MOV	R3, #0xF0	; ys
		BL	blank

loc_1072D4				; CODE XREF: sub_107220+10j
		LDR	R3, [R5,#4]
		ADD	R3, R3,	#1
		STR	R3, [R5,#4]
		LDMFD	SP!, {R4-R8,PC}
; End of function sub_107220

; ---------------------------------------------------------------------------
off_1072E4	DCD dword_10B51C	; DATA XREF: sub_107220+4r
off_1072E8	DCD dword_1085D8	; DATA XREF: sub_107220+14r
off_1072EC	DCD dword_1085E4	; DATA XREF: sub_107220+18r
off_1072F0	DCD dword_108634	; DATA XREF: sub_107220+1Cr
off_1072F4	DCD dword_10B52C	; DATA XREF: sub_107220+34r
dword_1072F8	DCD 0x80301		; DATA XREF: sub_107220+78r
dword_1072FC	DCD 0x14000F0		; DATA XREF: sub_107220+94r

; =============== S U B	R O U T	I N E =======================================


sub_107300				; CODE XREF: ROM:00100F5Cp
					; sub_1035F8:loc_103724p ...
		LDR	R2, =dword_10B51C
		LDR	R3, [R2,#(dword_10B520 - 0x10B51C)]
		SUB	R3, R3,	#1
		CMP	R3, #0
		STR	R3, [R2,#(dword_10B520 - 0x10B51C)]
		BXNE	LR
		LDR	R2, =dword_1085E4
		LDR	R3, =dword_10B52C
		LDR	R1, [R2]
		LDR	R0, [R3]
		STR	R0, [R1,#0x568]
		LDR	R1, [R2]
		LDR	R0, [R3,#(dword_10B530 - 0x10B52C)]
		STR	R0, [R1,#0x56C]
		LDR	R1, [R2]
		LDR	R0, [R3,#(dword_10B534 - 0x10B52C)]
		STR	R0, [R1,#0x570]
		LDR	R1, [R2]
		LDR	R0, [R3,#(dword_10B538 - 0x10B52C)]
		STR	R0, [R1,#0x55C]
		LDR	R2, [R2]
		LDR	R3, [R3,#(dword_10B53C - 0x10B52C)]
		STR	R3, [R2,#0x590]
		BX	LR
; End of function sub_107300

; ---------------------------------------------------------------------------
off_107360	DCD dword_10B51C	; DATA XREF: sub_107300r
off_107364	DCD dword_1085E4	; DATA XREF: sub_107300+18r
off_107368	DCD dword_10B52C	; DATA XREF: sub_107300+1Cr

; =============== S U B	R O U T	I N E =======================================


sub_10736C				; CODE XREF: sub_105864+2Cp
					; sub_105864+50p
					; DATA XREF: ...
		CMP	R0, #1
		STMFD	SP!, {R3,LR}
		BNE	loc_107380
		BL	sub_107220
		B	loc_1073C0
; ---------------------------------------------------------------------------

loc_107380				; CODE XREF: sub_10736C+8j
		CMP	R0, #2
		BNE	loc_107390
		BL	sub_107300
		B	loc_1073C0
; ---------------------------------------------------------------------------

loc_107390				; CODE XREF: sub_10736C+18j
		CMP	R0, #3
		BNE	loc_1073A4
		LDR	R3, =dword_108634
		LDR	R0, [R3]
		LDMFD	SP!, {R3,PC}
; ---------------------------------------------------------------------------

loc_1073A4				; CODE XREF: sub_10736C+28j
		CMP	R0, #4
		LDREQ	R3, =dword_108634
		STREQ	R1, [R3]
		BEQ	loc_1073C0
		CMP	R0, #5
		BNE	locret_1073C8
		BL	sub_107188

loc_1073C0				; CODE XREF: sub_10736C+10j
					; sub_10736C+20j ...
		MOV	R0, #0
		LDMFD	SP!, {R3,PC}
; ---------------------------------------------------------------------------

locret_1073C8				; CODE XREF: sub_10736C+4Cj
		LDMFD	SP!, {R3,PC}
; End of function sub_10736C

; ---------------------------------------------------------------------------
off_1073CC	DCD dword_108634	; DATA XREF: sub_10736C+2Cr
					; sub_10736C+3Cr

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; uint32_t __stdcall getKey()
getKey					; CODE XREF: sub_100C14+4p
					; sub_101278:loc_10135Cp ...
		LDR	R3, =dword_1085E8
		LDR	R3, [R3]
		LDR	R0, [R3]
		MVN	R0, R0
		MOV	R0, R0,LSL#20
		MOV	R0, R0,LSR#20
		BX	LR
; End of function getKey

; ---------------------------------------------------------------------------
off_1073EC	DCD dword_1085E8	; DATA XREF: getKeyr

; =============== S U B	R O U T	I N E =======================================


; uint32_t __stdcall waitKey()
waitKey					; CODE XREF: showMenu:loc_10750Cp
					; sub_107574+94p
		STMFD	SP!, {R4,LR}

loc_1073F4				; CODE XREF: waitKey+Cj
		BL	getKey
		CMP	R0, #0
		BNE	loc_1073F4

loc_107400				; CODE XREF: waitKey+18j waitKey+28j
		BL	getKey
		SUBS	R4, R0,	#0
		BEQ	loc_107400
		BL	debounceKey
		BL	getKey
		CMP	R4, R0
		BNE	loc_107400
		LDMFD	SP!, {R4,PC}
; End of function waitKey


; =============== S U B	R O U T	I N E =======================================


; int32_t __fastcall showMenu(uint8_t *title, uint32_t entryCount, uint8_t **captions)
showMenu				; CODE XREF: sub_100F64+148p
					; sub_103554+34p ...

g		= -0x100
b		= -0xFC
s		= -0xF4
var_F0		= -0xF0

		STMFD	SP!, {R4-R11,LR}
		MOV	R6, R1
		LDR	R9, =0x10AC5F
		LDR	R10, =0x10AC63
		SUB	SP, SP,	#0xDC
		MOV	R8, R2
		MOV	R4, #0
		STR	R0, [SP,#0x100+s]

loc_107440				; CODE XREF: showMenu+10Cj
					; showMenu+120j ...
		MOV	R0, #0		; x
		MOV	R1, R0		; y
		MOV	R2, #0x140	; xs
		MOV	R3, #0xF0	; ys
		BL	blank
		MOV	R5, #0
		MOV	R1, #0xA	; x
		MOV	R2, R1		; y
		STR	R5, [SP,#0x100+g] ; g
		STR	R5, [SP,#0x100+b] ; b
		MOV	R3, #0xFF	; r
		LDR	R0, [SP,#0x100+s] ; s
		BL	print
		MOV	R3, #0xFF
		STR	R5, [SP,#0x100+g] ; g
		STR	R3, [SP,#0x100+b] ; b
		MOV	R1, #0xA	; x
		MOV	R3, R5		; r
		MOV	R2, #0xDC	; y
		LDR	R0, =aHttp44670_orgN ; s
		BL	print
		MOV	R0, R4
		MOV	R1, #0x12
		BL	__udivsi3
		MOV	R5, #0x12
		MOV	R7, #0x1E
		MUL	R5, R5,	R0
		ADD	R11, R5, #0x12
		CMP	R11, R6
		MOVCS	R11, R6

loc_1074B8				; CODE XREF: showMenu+E4j
		CMP	R5, R11
		BCS	loc_107508
		CMP	R5, R4
		MOVEQ	R1, R9
		MOVNE	R1, R10
		ADD	R0, SP,	#0x100+var_F0
		BL	strcpy
		LDR	R1, [R8,R5,LSL#2]
		ADD	R0, SP,	#0x100+var_F0
		BL	strcat
		MOV	R3, #0		; r
		MOV	R2, R7		; y
		STR	R3, [SP,#0x100+g] ; g
		STR	R3, [SP,#0x100+b] ; b
		ADD	R0, SP,	#0x100+var_F0 ;	s
		MOV	R1, #0xA	; x
		BL	print
		ADD	R7, R7,	#0xA
		ADD	R5, R5,	#1
		B	loc_1074B8
; ---------------------------------------------------------------------------

loc_107508				; CODE XREF: showMenu+9Cj
		BL	sub_107188

loc_10750C				; CODE XREF: showMenu+F4j
		BL	waitKey
		CMP	R0, #0
		BEQ	loc_10750C
		CMP	R0, #0x80
		BNE	loc_107530
		ADD	R4, R4,	#1
		CMP	R4, R6
		MOVCS	R4, #0
		B	loc_107440
; ---------------------------------------------------------------------------

loc_107530				; CODE XREF: showMenu+FCj
		CMP	R0, #0x40
		BNE	loc_107544
		SUBS	R4, R4,	#1
		SUBMI	R4, R6,	#1
		B	loc_107440
; ---------------------------------------------------------------------------

loc_107544				; CODE XREF: showMenu+114j
		CMP	R0, #1
		BEQ	loc_10755C
		CMP	R0, #2
		BNE	loc_107440
		MOV	R0, #0xFFFFFFFF
		B	loc_107560
; ---------------------------------------------------------------------------

loc_10755C				; CODE XREF: showMenu+128j
		MOV	R0, R4

loc_107560				; CODE XREF: showMenu+138j
		ADD	SP, SP,	#0xDC
		LDMFD	SP!, {R4-R11,PC}
; End of function showMenu

; ---------------------------------------------------------------------------
dword_107568	DCD 0x10AC5F		; DATA XREF: showMenu+8r
dword_10756C	DCD 0x10AC63		; DATA XREF: showMenu+Cr
; unsigned __int8 *s
s		DCD aHttp44670_orgN	; DATA XREF: showMenu+6Cr
					; "http://44670.org/ntr"

; =============== S U B	R O U T	I N E =======================================


sub_107574				; CODE XREF: sub_100F64:loc_101094p
					; sub_10111C+60p ...

g		= -0x18
b		= -0x14

		LDR	R3, =off_10AD08
		STMFD	SP!, {R0-R2,R4,R5,LR}
		LDR	R4, [R3]
		CMP	R4, #0
		BEQ	loc_10759C
		BLX	R4
		LDR	R0, =0x3B9ACA00	; ns
		MOV	R1, #0
		BL	svcSleepThread
		B	loc_10761C
; ---------------------------------------------------------------------------

loc_10759C				; CODE XREF: sub_107574+10j
		LDR	R3, =dword_10B51C
		LDR	R3, [R3]
		CMP	R3, #0
		BEQ	loc_10761C
		MOV	R5, R0
		BL	sub_107220

loc_1075B4				; CODE XREF: sub_107574+9Cj
		MOV	R0, #0		; x
		MOV	R1, R0		; y
		MOV	R2, #0x140	; xs
		MOV	R3, #0xF0	; ys
		BL	blank
		MOV	R1, #0xA	; x
		MOV	R2, R1		; y
		MOV	R3, #0xFF	; r
		STR	R4, [SP,#0x18+g] ; g
		STR	R4, [SP,#0x18+b] ; b
		MOV	R0, R5		; s
		BL	print
		MOV	R3, #0xFF
		MOV	R1, #0xA	; x
		MOV	R2, #0xDC	; y
		STR	R3, [SP,#0x18+b] ; b
		STR	R4, [SP,#0x18+g] ; g
		MOV	R3, #0		; r
		LDR	R0, =aPressBToClose_ ; s
		BL	print
		BL	sub_107188
		BL	waitKey
		CMP	R0, #2
		BNE	loc_1075B4
		BL	sub_107300
		MOV	R0, #0

loc_10761C				; CODE XREF: sub_107574+24j
					; sub_107574+34j
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,R5,PC}
; End of function sub_107574

; ---------------------------------------------------------------------------
off_107624	DCD off_10AD08		; DATA XREF: sub_107574r
; s64 dword_107628
dword_107628	DCD 0x3B9ACA00		; DATA XREF: sub_107574+18r
off_10762C	DCD dword_10B51C	; DATA XREF: sub_107574:loc_10759Cr
; unsigned __int8 *off_107630
off_107630	DCD aPressBToClose_	; DATA XREF: sub_107574+88r
					; "Press [B] to close."

; =============== S U B	R O U T	I N E =======================================


showDbg					; CODE XREF: ROM:00100F54p main+130p ...
		STMFD	SP!, {R4-R6,LR}
		MOV	R6, R0
		SUB	SP, SP,	#0x190
		MOV	R5, R1
		MOV	R4, R2
		BL	sub_101A14
		MOV	R0, SP
		MOV	R1, R6
		MOV	R2, R5
		MOV	R3, R4
		BL	sub_107B90
		MOV	R0, SP
		BL	sub_107574
		ADD	SP, SP,	#0x190
		LDMFD	SP!, {R4-R6,PC}
; End of function showDbg


; =============== S U B	R O U T	I N E =======================================


sub_107670

var_4		= -4

		LDR	R3, =dword_1085D8
		LDR	R1, =0x1869F
		SUB	SP, SP,	#8
		LDR	R2, [R3]
		STR	R0, [R2,#0x204]
		MOV	R2, #0
		STR	R2, [SP,#8+var_4]

loc_10768C				; CODE XREF: sub_107670+30j
		LDR	R2, [SP,#8+var_4]
		CMP	R2, R1
		LDRLS	R2, [SP,#8+var_4]
		ADDLS	R2, R2,	#1
		STRLS	R2, [SP,#8+var_4]
		BLS	loc_10768C
		LDR	R2, [R3]
		MOV	R3, #0
		STR	R3, [R2,#0x204]
		LDR	R2, =0x1869F
		STR	R3, [SP,#8+var_4]

loc_1076B8				; CODE XREF: sub_107670+5Cj
		LDR	R3, [SP,#8+var_4]
		CMP	R3, R2
		LDRLS	R3, [SP,#8+var_4]
		ADDLS	R3, R3,	#1
		STRLS	R3, [SP,#8+var_4]
		BLS	loc_1076B8
		ADD	SP, SP,	#8
		BX	LR
; End of function sub_107670

; ---------------------------------------------------------------------------
off_1076D8	DCD dword_1085D8	; DATA XREF: sub_107670r
dword_1076DC	DCD 0x1869F		; DATA XREF: sub_107670+4r
					; sub_107670+40r

; =============== S U B	R O U T	I N E =======================================


sub_1076E0				; CODE XREF: sub_1076E0+10j
					; sub_107748+28p ...
		MOV	R3, R0
		ADD	R0, R0,	#1
		LDRB	R2, [R3]
		CMP	R2, #0
		BNE	sub_1076E0
		SUB	R1, R1,	#1

loc_1076F8				; CODE XREF: sub_1076E0+24j
		LDRB	R2, [R1,#1]!
		CMP	R2, #0
		STRNEB	R2, [R3],#1
		BNE	loc_1076F8
		STRB	R2, [R3]
		BX	LR
; End of function sub_1076E0


; =============== S U B	R O U T	I N E =======================================


sub_107710				; CODE XREF: sub_107748+40p

var_4		= -4

		STR	LR, [SP,#var_4]!
		MOV	R3, R1
		ADD	LR, R1,	#8

loc_10771C				; CODE XREF: sub_107710+28j
		MOV	R12, R0,LSR#28
		ADD	R2, R12, #0x30
		CMP	R2, #0x39
		ADDHI	R2, R12, #0x37
		STRB	R2, [R3],#1
		CMP	R3, LR
		MOV	R0, R0,LSL#4
		BNE	loc_10771C
		MOV	R3, #0
		STRB	R3, [R1,#8]
		LDR	PC, [SP+4+var_4],#4
; End of function sub_107710


; =============== S U B	R O U T	I N E =======================================


sub_107748

var_120		= -0x120
openflags	= -0x114
attributes	= -0x110
out		= -0x104
var_100		= -0x100
var_FC		= -0xFC
var_F8		= -0xF8
var_F4		= -0xF4
var_18		= -0x18

		STMFD	SP!, {R4-R7,LR}
		SUB	SP, SP,	#0x11C	; archive
		ADD	R4, SP,	#0x130+var_18
		MOV	R5, #0
		STRB	R5, [R4,#-0xC8]!
		MOV	R7, R0
		MOV	R6, R1
		MOV	R0, R4
		LDR	R1, =aDbg	; "/dbg"
		STR	R5, [SP,#0x130+out]
		BL	sub_1076E0
		MOV	R0, R4
		MOV	R1, R7
		BL	sub_1076E0
		MOV	R0, R6
		ADD	R1, SP,	#0x130+var_F4
		BL	sub_107710
		ADD	R1, SP,	#0x130+var_F4
		MOV	R0, R4
		BL	sub_1076E0
		MOV	R3, #3
		MOV	R0, R4
		STRB	R3, [SP,#0x130+var_100]
		BL	strlen
		ADD	R2, SP,	#0x130+var_100
		STR	R4, [SP,#0x130+var_F8]
		ADD	R3, SP,	#0x130+var_120
		LDR	R12, =sdmcArchive
		ADD	R0, R0,	#1
		STR	R0, [SP,#0x130+var_FC]
		LDMIA	R2, {R0-R2}
		STMIA	R3, {R0-R2}
		MOV	R3, #7
		STR	R3, [SP,#0x130+openflags] ; openflags
		ADD	R3, R12, #8
		STR	R5, [SP,#0x130+attributes] ; attributes
		LDMIA	R3, {R0-R3}
		STMEA	SP, {R0-R3}
		LDR	R1, =fsUserHandle
		LDMIA	R12, {R2,R3}
		LDR	R0, [R1]	; handle
		ADD	R1, SP,	#0x130+out ; out
		BL	FSUSER_OpenFileDirectly
		LDR	R0, [SP,#0x130+out] ; handle
		CMP	R0, R5
		BEQ	loc_107804
		BL	FSFILE_Close

loc_107804				; CODE XREF: sub_107748+B4j
		ADD	SP, SP,	#0x11C
		LDMFD	SP!, {R4-R7,PC}
; End of function sub_107748

; ---------------------------------------------------------------------------
off_10780C	DCD aDbg		; DATA XREF: sub_107748+20r
					; "/dbg"
off_107810	DCD sdmcArchive		; DATA XREF: sub_107748+6Cr
off_107814	DCD fsUserHandle	; DATA XREF: sub_107748+98r

; =============== S U B	R O U T	I N E =======================================


sub_107818				; CODE XREF: sub_107854+14p
					; sub_107874+24p ...
		LDR	R2, =dword_10B554
		MOV	R1, R0
		LDR	R3, [R2]
		CMP	R3, #0
		ADDNE	R0, R3,	#1
		STRNE	R0, [R2]
		STRNEB	R1, [R3]
		BXNE	LR
		LDR	R3, =off_10B55C
		LDR	R3, [R3]
		CMP	R3, #0
		BXEQ	LR
		BX	R3
; End of function sub_107818

; ---------------------------------------------------------------------------
off_10784C	DCD dword_10B554	; DATA XREF: sub_107818r
off_107850	DCD off_10B55C		; DATA XREF: sub_107818+20r

; =============== S U B	R O U T	I N E =======================================


sub_107854				; CODE XREF: sub_1078AC+140p
		STMFD	SP!, {R4,LR}
		SUB	R4, R0,	#1

loc_10785C				; CODE XREF: sub_107854+18j
		LDRB	R0, [R4,#1]!
		CMP	R0, #0
		BEQ	locret_107870
		BL	sub_107818
		B	loc_10785C
; ---------------------------------------------------------------------------

locret_107870				; CODE XREF: sub_107854+10j
		LDMFD	SP!, {R4,PC}
; End of function sub_107854


; =============== S U B	R O U T	I N E =======================================


sub_107874
		LDR	R3, =off_10B55C
		STMFD	SP!, {R4-R6,LR}
		SUB	R5, R1,	#1
		MOV	R4, R3
		LDR	R6, [R3]
		STR	R0, [R3]

loc_10788C				; CODE XREF: sub_107874+28j
		LDRB	R0, [R5,#1]!
		CMP	R0, #0
		BEQ	loc_1078A0
		BL	sub_107818
		B	loc_10788C
; ---------------------------------------------------------------------------

loc_1078A0				; CODE XREF: sub_107874+20j
		STR	R6, [R4]
		LDMFD	SP!, {R4-R6,PC}
; End of function sub_107874

; ---------------------------------------------------------------------------
off_1078A8	DCD off_10B55C		; DATA XREF: sub_107874r

; =============== S U B	R O U T	I N E =======================================


sub_1078AC				; CODE XREF: sub_101A14+3Cp
					; sub_107B68+14p ...

var_40		= -0x40
var_3C		= -0x3C
var_38		= -0x38
var_28		= -0x28

		STMFD	SP!, {R4-R11,LR}
		MOV	R3, R0
		SUB	SP, SP,	#0x1C
		MOV	R5, R1

loc_1078BC				; CODE XREF: sub_1078AC+154j
		LDRB	R0, [R3]
		CMP	R0, #0
		BEQ	loc_107B60
		CMP	R0, #0x25
		ADDNE	R7, R3,	#1
		BNE	loc_107A30
		LDRB	R4, [R3,#1]
		CMP	R4, #0x30
		ADDEQ	R7, R3,	#3
		LDREQB	R4, [R3,#2]
		MOVEQ	R9, #1
		BEQ	loc_107904
		CMP	R4, #0x2D
		ADDNE	R7, R3,	#2
		LDREQB	R4, [R3,#2]
		MOVNE	R9, #0
		ADDEQ	R7, R3,	#3
		MOVEQ	R9, #2

loc_107904				; CODE XREF: sub_1078AC+3Cj
		MOV	R8, #0
		MOV	R2, #0xA

loc_10790C				; CODE XREF: sub_1078AC+74j
		SUB	R3, R4,	#0x30
		CMP	R3, #9
		MLALS	R8, R2,	R8, R4
		LDRLSB	R4, [R7],#1
		SUBLS	R8, R8,	#0x30
		BLS	loc_10790C
		AND	R2, R4,	#0xDF
		CMP	R2, #0x4C
		MOV	R3, R7
		ORREQ	R9, R9,	#4
		LDREQB	R4, [R3]
		ADDEQ	R7, R7,	#1
		CMP	R4, #0
		BEQ	loc_107B60
		CMP	R4, #0x60
		SUBHI	R3, R4,	#0x20
		MOVLS	R3, R4
		UXTBHI	R3, R3
		CMP	R3, #0x4F
		BEQ	loc_1079A8
		BHI	loc_107980
		CMP	R3, #0x43
		BEQ	loc_107A14
		CMP	R3, #0x44
		BEQ	loc_107A3C
		CMP	R3, #0x42
		MOVEQ	R11, #2
		BEQ	loc_107A40
		B	loc_107A2C
; ---------------------------------------------------------------------------

loc_107980				; CODE XREF: sub_1078AC+B0j
		CMP	R3, #0x55
		BEQ	loc_107A3C
		CMP	R3, #0x58
		BEQ	loc_107A24
		CMP	R3, #0x53
		BNE	loc_107A2C
		ADD	R6, R5,	#4
		LDR	R5, [R5]
		MOV	R3, R5
		B	loc_1079B0
; ---------------------------------------------------------------------------

loc_1079A8				; CODE XREF: sub_1078AC+ACj
		MOV	R11, #8
		B	loc_107A40
; ---------------------------------------------------------------------------

loc_1079B0				; CODE XREF: sub_1078AC+F8j
					; sub_1078AC+110j
		RSB	R4, R5,	R3
		LDRB	R2, [R3],#1
		CMP	R2, #0
		BNE	loc_1079B0
		TST	R9, #2
		BNE	loc_1079E8

loc_1079C8				; CODE XREF: sub_1078AC+134j
		CMP	R4, R8
		ADD	R9, R4,	#1
		BCS	loc_1079E4
		MOV	R0, #0x20
		BL	sub_107818
		MOV	R4, R9
		B	loc_1079C8
; ---------------------------------------------------------------------------

loc_1079E4				; CODE XREF: sub_1078AC+124j
		MOV	R4, R9

loc_1079E8				; CODE XREF: sub_1078AC+118j
		MOV	R0, R5
		BL	sub_107854

loc_1079F0				; CODE XREF: sub_1078AC+164j
		CMP	R4, R8
		BCC	loc_107A04

loc_1079F8				; CODE XREF: sub_1078AC+174j
					; sub_1078AC+18Cj ...
		MOV	R5, R6
		MOV	R3, R7
		B	loc_1078BC
; ---------------------------------------------------------------------------

loc_107A04				; CODE XREF: sub_1078AC+148j
		MOV	R0, #0x20
		BL	sub_107818
		ADD	R4, R4,	#1
		B	loc_1079F0
; ---------------------------------------------------------------------------

loc_107A14				; CODE XREF: sub_1078AC+B8j
		LDRB	R0, [R5]
		ADD	R6, R5,	#4
		BL	sub_107818
		B	loc_1079F8
; ---------------------------------------------------------------------------

loc_107A24				; CODE XREF: sub_1078AC+E0j
		MOV	R11, #0x10
		B	loc_107A40
; ---------------------------------------------------------------------------

loc_107A2C				; CODE XREF: sub_1078AC+D0j
					; sub_1078AC+E8j
		MOV	R0, R4

loc_107A30				; CODE XREF: sub_1078AC+24j
		BL	sub_107818
		MOV	R6, R5
		B	loc_1079F8
; ---------------------------------------------------------------------------

loc_107A3C				; CODE XREF: sub_1078AC+C0j
					; sub_1078AC+D8j
		MOV	R11, #0xA

loc_107A40				; CODE XREF: sub_1078AC+CCj
					; sub_1078AC+100j ...
		LDR	R10, [R5]
		SUB	R3, R3,	#0x44
		CLZ	R3, R3
		MOV	R3, R3,LSR#5
		ANDS	R3, R3,	R10,LSR#31
		ADD	R6, R5,	#4
		RSBNE	R10, R10, #0
		ORRNE	R9, R9,	#8
		MOV	R5, #0

loc_107A64				; CODE XREF: sub_1078AC+22Cj
		MOV	R0, R10
		MOV	R1, R11
		BL	__aeabi_uidivmod
		MOV	R0, R10
		UXTB	R3, R1
		STR	R1, [SP,#0x40+var_3C]
		MOV	R1, R11
		STR	R3, [SP,#0x40+var_40]
		BL	__udivsi3
		LDR	R2, [SP,#0x40+var_3C]
		LDR	R3, [SP,#0x40+var_40]
		CMP	R2, #9
		MOV	R10, R0
		BLS	loc_107AB0
		CMP	R4, #0x78
		MOVEQ	R2, #0x27
		MOVNE	R2, #7
		ADD	R3, R2,	R3
		UXTB	R3, R3

loc_107AB0				; CODE XREF: sub_1078AC+1ECj
		ADD	R5, R5,	#1
		ADD	R2, SP,	#0x40+var_38
		ADD	R2, R2,	R5
		ADD	R3, R3,	#0x30
		STRB	R3, [R2,#-1]
		MOVS	R3, R10
		MOVNE	R3, #1
		CMP	R5, #0xF
		MOVHI	R3, #0
		CMP	R3, #0
		BNE	loc_107A64
		TST	R9, #8
		ADDNE	R2, SP,	#0x40+var_28
		MOV	R3, R5
		ADDNE	R3, R2,	R3
		MOVNE	R2, #0x2D
		ADDNE	R5, R5,	#1
		STRNEB	R2, [R3,#-0x10]
		TST	R9, #1
		MOVNE	R10, #0x30
		MOVEQ	R10, #0x20
		TST	R9, #2
		MOV	R4, R5
		BNE	loc_107B30

loc_107B10				; CODE XREF: sub_1078AC+27Cj
		CMP	R4, R8
		ADD	R9, R4,	#1
		BCS	loc_107B2C
		MOV	R0, R10
		BL	sub_107818
		MOV	R4, R9
		B	loc_107B10
; ---------------------------------------------------------------------------

loc_107B2C				; CODE XREF: sub_1078AC+26Cj
		MOV	R4, R9

loc_107B30				; CODE XREF: sub_1078AC+260j
					; sub_1078AC+298j
		SUB	R5, R5,	#1
		ADD	R3, SP,	#0x40+var_38
		LDRB	R0, [R3,R5]
		BL	sub_107818
		CMP	R5, #0
		BNE	loc_107B30

loc_107B48				; CODE XREF: sub_1078AC+2B0j
		CMP	R4, R8
		BCS	loc_1079F8
		MOV	R0, #0x20
		BL	sub_107818
		ADD	R4, R4,	#1
		B	loc_107B48
; ---------------------------------------------------------------------------

loc_107B60				; CODE XREF: sub_1078AC+18j
					; sub_1078AC+94j
		ADD	SP, SP,	#0x1C
		LDMFD	SP!, {R4-R11,PC}
; End of function sub_1078AC


; =============== S U B	R O U T	I N E =======================================


sub_107B68				; CODE XREF: sub_107C10+14p
					; sub_107C10+48p ...

var_1C		= -0x1C
var_14		= -0x14
varg_r0		= -0x10
varg_r1		= -0xC
varg_r2		= -8
varg_r3		= -4

		STMFD	SP!, {R0-R3}
		STMFD	SP!, {R0-R2,LR}
		ADD	R1, SP,	#0x20+varg_r1
		LDR	R0, [SP,#0x20+varg_r0]
		STR	R1, [SP,#0x20+var_1C]
		BL	sub_1078AC
		ADD	SP, SP,	#0xC
		LDR	LR, [SP+0x14+var_14],#4
		ADD	SP, SP,	#0x10
		BX	LR
; End of function sub_107B68


; =============== S U B	R O U T	I N E =======================================


sub_107B90				; CODE XREF: sub_100F64+9Cp
					; sub_100F64+168p ...

var_1C		= -0x1C
varg_r1		= -0xC
varg_r2		= -8
varg_r3		= -4

		STMFD	SP!, {R1-R3}
		STMFD	SP!, {R0-R2,R4,LR}
		ADD	R1, SP,	#0x20+varg_r2
		LDR	R4, =dword_10B554
		STR	R1, [SP,#0x20+var_1C]
		STR	R0, [R4]
		LDR	R0, [SP,#0x20+varg_r1]
		BL	sub_1078AC
		LDR	R2, [R4]
		MOV	R3, #0
		STR	R3, [R4]
		STRB	R3, [R2]
		ADD	SP, SP,	#0xC
		LDMFD	SP!, {R4,LR}
		ADD	SP, SP,	#0xC
		BX	LR
; End of function sub_107B90

; ---------------------------------------------------------------------------
off_107BD0	DCD dword_10B554	; DATA XREF: sub_107B90+Cr

; =============== S U B	R O U T	I N E =======================================


sub_107BD4

var_1C		= -0x1C
varg_r1		= -0xC
varg_r2		= -8
varg_r3		= -4

		STMFD	SP!, {R1-R3}
		STMFD	SP!, {R0,R1,R4,R5,LR}
		ADD	R1, SP,	#0x20+varg_r2
		LDR	R4, =off_10B55C
		STR	R1, [SP,#0x20+var_1C]
		LDR	R5, [R4]
		STR	R0, [R4]
		LDR	R0, [SP,#0x20+varg_r1]
		BL	sub_1078AC
		STR	R5, [R4]
		ADD	SP, SP,	#8
		LDMFD	SP!, {R4,R5,LR}
		ADD	SP, SP,	#0xC
		BX	LR
; End of function sub_107BD4

; ---------------------------------------------------------------------------
off_107C0C	DCD off_10B55C		; DATA XREF: sub_107BD4+Cr

; =============== S U B	R O U T	I N E =======================================


sub_107C10
		STMFD	SP!, {R4-R6,LR}
		MOV	R6, R3
		MOV	R5, R0
		LDR	R0, =a08lx	; "%08lX "
		MOV	R4, R2
		BL	sub_107B68
		CMP	R6, #2
		BEQ	loc_107C94
		CMP	R6, #4
		BEQ	loc_107CAC
		CMP	R6, #1
		MOVEQ	R6, R5
		BNE	loc_107CC0

loc_107C44				; CODE XREF: sub_107C10+4Cj
		RSB	R3, R5,	R6
		CMP	R3, R4
		BGE	loc_107C60
		LDR	R0, =a02x	; " %02X"
		LDRB	R1, [R6],#1
		BL	sub_107B68
		B	loc_107C44
; ---------------------------------------------------------------------------

loc_107C60				; CODE XREF: sub_107C10+3Cj
		MOV	R0, #0x20
		BL	sub_107818
		MOV	R6, R5

loc_107C6C				; CODE XREF: sub_107C10+80j
		RSB	R3, R5,	R6
		CMP	R3, R4
		BGE	loc_107CC0
		LDRB	R3, [R6],#1
		SUB	R0, R3,	#0x20
		CMP	R0, #0x5E
		MOVLS	R0, R3
		MOVHI	R0, #0x2E
		BL	sub_107818
		B	loc_107C6C
; ---------------------------------------------------------------------------

loc_107C94				; CODE XREF: sub_107C10+1Cj
					; sub_107C10+94j
		LDR	R0, =a04x	; " %04X"
		LDRH	R1, [R5],#2
		BL	sub_107B68
		SUBS	R4, R4,	#1
		BNE	loc_107C94
		B	loc_107CC0
; ---------------------------------------------------------------------------

loc_107CAC				; CODE XREF: sub_107C10+24j
					; sub_107C10+ACj
		LDR	R0, =a08lx_0	; " %08LX"
		LDR	R1, [R5],#4
		BL	sub_107B68
		SUBS	R4, R4,	#1
		BNE	loc_107CAC

loc_107CC0				; CODE XREF: sub_107C10+30j
					; sub_107C10+64j ...
		MOV	R0, #0xA
		LDMFD	SP!, {R4-R6,LR}
		B	sub_107818
; End of function sub_107C10

; ---------------------------------------------------------------------------
off_107CCC	DCD a08lx		; DATA XREF: sub_107C10+Cr
					; "%08lX "
off_107CD0	DCD a02x		; DATA XREF: sub_107C10+40r
					; " %02X"
off_107CD4	DCD a04x		; DATA XREF: sub_107C10:loc_107C94r
					; " %04X"
off_107CD8	DCD a08lx_0		; DATA XREF: sub_107C10:loc_107CACr
					; " %08LX"

; =============== S U B	R O U T	I N E =======================================


sub_107CDC				; CODE XREF: sub_107D90+18p
		LDR	R3, =off_10B558
		LDR	R2, [R3]
		CMP	R2, #0
		BEQ	loc_107D84
		STMFD	SP!, {R4-R8,LR}
		MOV	R7, R3
		MOV	R6, R0
		MOV	R4, #0
		SUB	R5, R1,	#1

loc_107D00				; CODE XREF: sub_107CDC+68j
					; sub_107CDC+70j ...
		LDR	R3, [R7]
		BLX	R3
		SUBS	R3, R0,	#0
		BNE	loc_107D18
		MOV	R0, #0
		LDMFD	SP!, {R4-R8,PC}
; ---------------------------------------------------------------------------

loc_107D18				; CODE XREF: sub_107CDC+30j
		CMP	R3, #0xD
		BEQ	loc_107D6C
		CMP	R4, #0
		SUB	R2, R3,	#8
		CLZ	R2, R2
		MOV	R2, R2,LSR#5
		MOVEQ	R2, #0
		CMP	R2, #0
		BEQ	loc_107D48
		SUB	R4, R4,	#1
		BL	sub_107818
		B	loc_107D00
; ---------------------------------------------------------------------------

loc_107D48				; CODE XREF: sub_107CDC+5Cj
		CMP	R3, #0x1F
		BLE	loc_107D00
		CMP	R4, R5
		BGE	loc_107D00
		STRB	R3, [R6,R4]
		ADD	R8, R4,	#1
		BL	sub_107818
		MOV	R4, R8
		B	loc_107D00
; ---------------------------------------------------------------------------

loc_107D6C				; CODE XREF: sub_107CDC+40j
		MOV	R3, #0
		STRB	R3, [R6,R4]
		MOV	R0, #0xA
		BL	sub_107818
		MOV	R0, #1
		LDMFD	SP!, {R4-R8,PC}
; ---------------------------------------------------------------------------

loc_107D84				; CODE XREF: sub_107CDC+Cj
		MOV	R0, #0
		BX	LR
; End of function sub_107CDC

; ---------------------------------------------------------------------------
off_107D8C	DCD off_10B558		; DATA XREF: sub_107CDCr

; =============== S U B	R O U T	I N E =======================================


sub_107D90
		STMFD	SP!, {R3-R5,LR}
		LDR	R4, =off_10B558
		LDR	R5, [R4]
		STR	R0, [R4]
		MOV	R0, R1
		MOV	R1, R2
		BL	sub_107CDC
		STR	R5, [R4]
		LDMFD	SP!, {R3-R5,PC}
; End of function sub_107D90

; ---------------------------------------------------------------------------
off_107DB4	DCD off_10B558		; DATA XREF: sub_107D90+4r

; =============== S U B	R O U T	I N E =======================================


sub_107DB8
		MOV	R3, #0
		STR	R3, [R1]

loc_107DC0				; CODE XREF: sub_107DB8+1Cj
		LDR	R2, [R0]
		LDRB	R3, [R2]
		CMP	R3, #0x20
		ADDEQ	R2, R2,	#1
		STREQ	R2, [R0]
		BEQ	loc_107DC0
		CMP	R3, #0x2D
		ADDEQ	R3, R2,	#1
		STMFD	SP!, {R4,LR}
		MOVEQ	R4, #1
		STREQ	R3, [R0]
		LDREQB	R3, [R2,#1]
		MOVNE	R4, #0
		CMP	R3, #0x30
		BNE	loc_107E64
		LDR	R2, [R0]
		ADD	R3, R2,	#1
		STR	R3, [R0]
		LDRB	R3, [R2,#1]
		CMP	R3, #0x62
		BEQ	loc_107E30
		CMP	R3, #0x78
		BNE	loc_107E44
		ADD	R3, R2,	#2
		STR	R3, [R0]
		MOV	LR, #0x10
		LDRB	R3, [R2,#2]
		B	loc_107E74
; ---------------------------------------------------------------------------

loc_107E30				; CODE XREF: sub_107DB8+58j
		ADD	R3, R2,	#2
		STR	R3, [R0]
		MOV	LR, #2
		LDRB	R3, [R2,#2]
		B	loc_107E74
; ---------------------------------------------------------------------------

loc_107E44				; CODE XREF: sub_107DB8+60j
		CMP	R3, #0x20
		BLS	loc_107ED8
		SUB	R2, R3,	#0x30
		CMP	R2, #9
		MOVLS	LR, #8
		BLS	loc_107E74

loc_107E5C				; CODE XREF: sub_107DB8+B8j
					; sub_107DB8+F0j ...
		MOV	R0, #0
		LDMFD	SP!, {R4,PC}
; ---------------------------------------------------------------------------

loc_107E64				; CODE XREF: sub_107DB8+40j
		SUB	R2, R3,	#0x30
		CMP	R2, #9
		MOVLS	LR, #0xA
		BHI	loc_107E5C

loc_107E74				; CODE XREF: sub_107DB8+74j
					; sub_107DB8+88j ...
		MOV	R12, #0

loc_107E78				; CODE XREF: sub_107DB8+110j
		CMP	R3, #0x20
		BLS	loc_107ECC
		CMP	R3, #0x60
		SUBHI	R3, R3,	#0x20
		UXTBHI	R3, R3
		SUB	R2, R3,	#0x30
		UXTB	R2, R2
		CMP	R2, #0x10
		BLS	loc_107EAC
		SUB	R3, R3,	#0x37
		UXTB	R2, R3
		CMP	R2, #9
		BLS	loc_107E5C

loc_107EAC				; CODE XREF: sub_107DB8+E0j
		CMP	R2, LR
		BCS	loc_107E5C
		LDR	R3, [R0]
		MLA	R12, LR, R12, R2
		ADD	R2, R3,	#1
		STR	R2, [R0]
		LDRB	R3, [R3,#1]
		B	loc_107E78
; ---------------------------------------------------------------------------

loc_107ECC				; CODE XREF: sub_107DB8+C4j
		CMP	R4, #0
		RSBNE	R12, R12, #0
		STR	R12, [R1]

loc_107ED8				; CODE XREF: sub_107DB8+90j
		MOV	R0, #1
		LDMFD	SP!, {R4,PC}
; End of function sub_107DB8

; [000000F0 BYTES: COLLAPSED FUNCTION memcpy. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [000000F4 BYTES: COLLAPSED FUNCTION memset. PRESS KEYPAD CTRL-"+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


strcat					; CODE XREF: showMenu+BCp
		TST	R0, #3
		STMFD	SP!, {R4,LR}
		MOV	R4, R0
		BNE	loc_108118
		LDR	R0, [R4]
		LDR	R3, =0xFEFEFEFF
		LDR	R2, =0x80808080
		ADD	R3, R0,	R3
		BIC	R3, R3,	R0
		AND	R2, R2,	R3
		CMP	R2, #0
		MOV	R0, R4
		BNE	loc_108118

loc_1080F8				; CODE XREF: strcat+50j
		LDR	LR, [R0,#4]!
		LDR	R2, =0xFEFEFEFF
		LDR	R12, =0x80808080
		ADD	R2, LR,	R2
		BIC	R2, R2,	LR
		AND	R12, R12, R2
		CMP	R12, #0
		BEQ	loc_1080F8

loc_108118				; CODE XREF: strcat+Cj	strcat+30j
		LDRB	R2, [R0]
		CMP	R2, #0
		BEQ	loc_108130

loc_108124				; CODE XREF: strcat+68j
		LDRB	R2, [R0,#1]!
		CMP	R2, #0
		BNE	loc_108124

loc_108130				; CODE XREF: strcat+5Cj
		BL	strcpy
		MOV	R0, R4
		LDMFD	SP!, {R4,LR}
		BX	LR
; End of function strcat

; ---------------------------------------------------------------------------
dword_108140	DCD 0xFEFEFEFF		; DATA XREF: strcat+14r strcat+38r
dword_108144	DCD 0x80808080		; DATA XREF: strcat+18r strcat+3Cr
; [00000224 BYTES: COLLAPSED FUNCTION strcmp. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [000000F0 BYTES: COLLAPSED FUNCTION strcpy. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000060 BYTES: COLLAPSED FUNCTION strlen. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [000000F4 BYTES: COLLAPSED FUNCTION __udivsi3. PRESS KEYPAD CTRL-"+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION __aeabi_uidivmod.	PRESS KEYPAD CTRL-"+" TO EXPAND]
; ---------------------------------------------------------------------------
; [00000004 BYTES: COLLAPSED CHUNK OF FUNCTION __udivsi3. PRESS	KEYPAD CTRL-"+" TO EXPAND]
dword_1085D4	DCD 0xF			; DATA XREF: sub_100CA8+18o
					; sub_100CA8+1Cr ...
dword_1085D8	DCD 0xFFFC4000		; DATA XREF: sub_100E98+1Cr
					; sub_100E98+40r ...
dword_1085DC	DCD 0xC00		; DATA XREF: sub_101278+E8r
					; sub_103554:loc_1035ACo ...
		DCD 2
dword_1085E4	DCD 0xFFFBC000		; DATA XREF: sub_103488+24o
					; ROM:off_1034CCo ...
dword_1085E8	DCD 0xFFFC2000		; DATA XREF: sub_103488+14o
					; ROM:off_1034C8o ...
		DCD 1, 1
dword_1085F4	DCD 0x6200000		; DATA XREF: sub_1033D0+2Co
					; sub_1033D0+30r ...
dword_1085F8	DCD 0x7000000		; DATA XREF: sub_1037A4+14r
					; sub_1038D4+78r ...
dword_1085FC	DCD 0xFFFF8001		; DATA XREF: sub_102AC4+8Co
					; sub_102AC4+98r ...
sdmcArchive	DCD 9			; DATA XREF: sub_1011E4+28o
					; sub_1011E4+5Co ...
byte_108604	DCB 1			; DATA XREF: sub_101278+70w main+58w
		DCB 0, 0, 0
dword_108608	DCD 1			; DATA XREF: sub_1011E4+50o
					; sub_101278+74w ...
dword_10860C	DCD 0x10A4DD		; DATA XREF: sub_101278+7Cw main+64w
		DCD 0, 0
dword_108618	DCD 0xDFF80000		; DATA XREF: sub_106DD8+8o
					; sub_106DD8+28r ...
dword_10861C	DCD 0xA35C		; DATA XREF: sub_106DD8+48r
					; sub_106DD8+70r
dword_108620	DCD 0x1019A8		; DATA XREF: sub_106DD8+7Cw
					; ROM:00106FE4r ...
dword_108624	DCD 0xFFF00000		; DATA XREF: sub_106DD8+74r
dword_108628	DCD 0xDC		; DATA XREF: sub_10204C+4Co
					; sub_10204C+54r ...
dword_10862C	DCD 0xBC		; DATA XREF: sub_106ED4+A4r
dword_108630	DCD 0xB8		; DATA XREF: sub_104524+20o
					; sub_104524+2Cr ...
dword_108634	DCD 0x1F000000		; DATA XREF: blank+8o blank+1Cr ...
dword_108638	DCD 4, 0x1095B4, 5, 0x109590, 6, 0x109530, 0xA,	0x21, 0xB
					; DATA XREF: ROM:001086B8o
		DCD 0x10, 0x15,	0
		DCD 0x11, 0
		DCD 0x12, 0
		DCD 0x13, 8, 0x16, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0
		DCD dword_108638
		DCD 0, 0
off_1086C4	DCD off_1001B4		; DATA XREF: ntrEntry+18o
					; ntrEntry:loc_10014Co	...
		DCD 0x17, 0x1001B8, 0x17, 0x1001BC, 0x17, 0x1002D8, 0x17
		DCD 0x100374, 0x17, 0x100480, 0x17, 0x100658, 0x17, 0x100680
		DCD 0x17, 0x100684, 0x17, 0x100C08, 0x17, 0x100C10, 0x17
		DCD 0x100C94, 0x17, 0x100C98, 0x17, 0x100E28, 0x17, 0x100E2C
		DCD 0x17, 0x100E38, 0x17, 0x100E40, 0x17, 0x100E48, 0x17
		DCD 0x100E5C, 0x17, 0x100E94, 0x17, 0x100EE4, 0x17, 0x100F38
		DCD 0x17, 0x100F60, 0x17, 0x10110C, 0x17, 0x101110, 0x17
		DCD 0x101114, 0x17, 0x101118, 0x17, 0x1011B8, 0x17, 0x1011BC
		DCD 0x17, 0x1011C0, 0x17, 0x1011C4, 0x17, 0x1011E0, 0x17
		DCD 0x101270, 0x17, 0x101274, 0x17, 0x1013B0, 0x17, 0x1013B4
		DCD 0x17, 0x1013B8, 0x17, 0x1013BC, 0x17, 0x1013C0, 0x17
		DCD 0x1013C4, 0x17, 0x1013C8, 0x17, 0x1013CC, 0x17, 0x1013D0
		DCD 0x17, 0x1013D4, 0x17, 0x1013DC, 0x17, 0x1013E0, 0x17
		DCD 0x1013E8, 0x17, 0x1013EC, 0x17, 0x1014D4, 0x17, 0x1014D8
		DCD 0x17, 0x10155C, 0x17, 0x101560, 0x17, 0x101564, 0x17
		DCD 0x101568, 0x17, 0x10156C, 0x17, 0x101860, 0x17, 0x101864
		DCD 0x17, 0x101868, 0x17, 0x10186C, 0x17, 0x101870, 0x17
		DCD 0x101874, 0x17, 0x101878, 0x17, 0x10187C, 0x17, 0x101880
		DCD 0x17, 0x101884, 0x17, 0x101888, 0x17, 0x10188C, 0x17
		DCD 0x101894, 0x17, 0x101898, 0x17, 0x1018A0, 0x17, 0x1018A4
		DCD 0x17, 0x1018AC, 0x17, 0x1018B0, 0x17, 0x1018B4, 0x17
		DCD 0x1018BC, 0x17, 0x1018C8, 0x17, 0x101A10, 0x17, 0x101A70
		DCD 0x17, 0x101A98, 0x17, 0x101AE8, 0x17, 0x101AEC, 0x17
		DCD 0x101B3C, 0x17, 0x101B40, 0x17, 0x101C6C, 0x17, 0x101C70
		DCD 0x17, 0x101C74, 0x17, 0x101C7C, 0x17, 0x101C80, 0x17
		DCD 0x101CC0, 0x17, 0x101D38, 0x17, 0x101D3C, 0x17, 0x101D40
		DCD 0x17, 0x101DB8, 0x17, 0x101DBC, 0x17, 0x101DC0, 0x17
		DCD 0x101E9C, 0x17, 0x101F9C, 0x17, 0x101FA0, 0x17, 0x101FA4
		DCD 0x17, 0x101FA8, 0x17, 0x102040, 0x17, 0x102044, 0x17
		DCD 0x102048, 0x17, 0x102110, 0x17, 0x102114, 0x17, 0x102118
		DCD 0x17, 0x10211C, 0x17, 0x102120, 0x17, 0x1021EC, 0x17
		DCD 0x1021F0, 0x17, 0x1021F4, 0x17, 0x1021F8, 0x17, 0x10235C
		DCD 0x17, 0x102360, 0x17, 0x102364, 0x17, 0x102368, 0x17
		DCD 0x10236C, 0x17, 0x102370, 0x17, 0x102374, 0x17, 0x10237C
		DCD 0x17, 0x102380, 0x17, 0x102384, 0x17, 0x102424, 0x17
		DCD 0x102428, 0x17, 0x10242C, 0x17, 0x102430, 0x17, 0x1024F4
		DCD 0x17, 0x1024F8, 0x17, 0x1024FC, 0x17, 0x102500, 0x17
		DCD 0x102504, 0x17, 0x102660, 0x17, 0x102664, 0x17, 0x10266C
		DCD 0x17, 0x102674, 0x17, 0x102678, 0x17, 0x1027D8, 0x17
		DCD 0x1027DC, 0x17, 0x1027E0, 0x17, 0x1027EC, 0x17, 0x1027F0
		DCD 0x17, 0x10297C, 0x17, 0x102980, 0x17, 0x102984, 0x17
		DCD 0x102988, 0x17, 0x102AA8, 0x17, 0x102AAC, 0x17, 0x102AB0
		DCD 0x17, 0x102AB4, 0x17, 0x102AB8, 0x17, 0x102ABC, 0x17
		DCD 0x102AC0, 0x17, 0x102C68, 0x17, 0x102C6C, 0x17, 0x102C70
		DCD 0x17, 0x102C74, 0x17, 0x102C78, 0x17, 0x102C7C, 0x17
		DCD 0x102C80, 0x17, 0x102C88, 0x17, 0x102C8C, 0x17, 0x102C90
		DCD 0x17, 0x102C98, 0x17, 0x102C9C, 0x17, 0x102CA4, 0x17
		DCD 0x102D48, 0x17, 0x102D50, 0x17, 0x102D54, 0x17, 0x102DAC
		DCD 0x17, 0x102DB0, 0x17, 0x102DB4, 0x17, 0x102DB8, 0x17
		DCD 0x102E5C, 0x17, 0x102E60, 0x17, 0x102F8C, 0x17, 0x102F90
		DCD 0x17, 0x102F94, 0x17, 0x1030D8, 0x17, 0x1030DC, 0x17
		DCD 0x1030E4, 0x17, 0x1030E8, 0x17, 0x1030EC, 0x17, 0x103148
		DCD 0x17, 0x10314C, 0x17, 0x103150, 0x17, 0x103344, 0x17
		DCD 0x10334C, 0x17, 0x103350, 0x17, 0x103354, 0x17, 0x103358
		DCD 0x17, 0x10335C, 0x17, 0x103360, 0x17, 0x103364, 0x17
		DCD 0x103368, 0x17, 0x103448, 0x17, 0x10344C, 0x17, 0x103480
		DCD 0x17, 0x103484, 0x17, 0x1034C4, 0x17, 0x1034C8, 0x17
		DCD 0x1034CC, 0x17, 0x103548, 0x17, 0x10354C, 0x17, 0x1035DC
		DCD 0x17, 0x1035E0, 0x17, 0x1035E4, 0x17, 0x1035E8, 0x17
		DCD 0x1035EC, 0x17, 0x1035F0, 0x17, 0x1035F4, 0x17, 0x103738
		DCD 0x17, 0x10373C, 0x17, 0x103740, 0x17, 0x103744, 0x17
		DCD 0x103748, 0x17, 0x10374C, 0x17, 0x103750, 0x17, 0x103754
		DCD 0x17, 0x103758, 0x17, 0x10379C, 0x17, 0x1037A0, 0x17
		DCD 0x103848, 0x17, 0x10384C, 0x17, 0x103850, 0x17, 0x10385C
		DCD 0x17, 0x1038C0, 0x17, 0x1038C4, 0x17, 0x1038C8, 0x17
		DCD 0x1038CC, 0x17, 0x1038D0, 0x17, 0x103B30, 0x17, 0x103B34
		DCD 0x17, 0x103B38, 0x17, 0x103B3C, 0x17, 0x103B44, 0x17
		DCD 0x103B48, 0x17, 0x103B4C, 0x17, 0x103B54, 0x17, 0x103B58
		DCD 0x17, 0x103B5C, 0x17, 0x103B60, 0x17, 0x103B64, 0x17
		DCD 0x103B8C, 0x17, 0x103BE8, 0x17, 0x103BEC, 0x17, 0x103BF0
		DCD 0x17, 0x103C1C, 0x17, 0x103C20, 0x17, 0x103C24, 0x17
		DCD 0x103D28, 0x17, 0x103D2C, 0x17, 0x103D30, 0x17, 0x103D6C
		DCD 0x17, 0x103D70, 0x17, 0x103D74, 0x17, 0x103D78, 0x17
		DCD 0x103E78
		DCD 0x17, 0x103E7C, 0x17, 0x103E80, 0x17, 0x103E84, 0x17
		DCD 0x103E88, 0x17, 0x103E8C, 0x17, 0x103E90, 0x17, 0x103F14
		DCD 0x17, 0x103F18, 0x17, 0x103F1C, 0x17, 0x103F20, 0x17
		DCD 0x103F24, 0x17, 0x103FA4, 0x17, 0x103FA8, 0x17, 0x104030
		DCD 0x17, 0x104034, 0x17, 0x104038, 0x17, 0x10403C, 0x17
		DCD 0x104040, 0x17, 0x104194, 0x17, 0x104198, 0x17, 0x10419C
		DCD 0x17, 0x1041A0, 0x17, 0x1041A4, 0x17, 0x1041A8, 0x17
		DCD 0x1041AC, 0x17, 0x1041B0, 0x17, 0x1041B4, 0x17, 0x1041B8
		DCD 0x17, 0x1041BC, 0x17, 0x1041C0, 0x17, 0x1041C4, 0x17
		DCD 0x1041C8, 0x17, 0x1041CC, 0x17, 0x1041D0, 0x17, 0x1041D4
		DCD 0x17, 0x104238, 0x17, 0x10423C, 0x17, 0x104240, 0x17
		DCD 0x104264, 0x17, 0x1042C8, 0x17, 0x1042D0, 0x17, 0x104374
		DCD 0x17, 0x104378, 0x17, 0x104504, 0x17, 0x104508, 0x17
		DCD 0x104520, 0x17, 0x104574, 0x17, 0x104630, 0x17, 0x104634
		DCD 0x17, 0x1047CC, 0x17, 0x1047D0, 0x17, 0x1047D4, 0x17
		DCD 0x1047D8, 0x17, 0x1047DC, 0x17, 0x1047E4, 0x17, 0x1047EC
		DCD 0x17, 0x104988, 0x17, 0x10498C, 0x17, 0x104990, 0x17
		DCD 0x104994, 0x17, 0x104998, 0x17, 0x10499C, 0x17, 0x1049A0
		DCD 0x17, 0x1049A4, 0x17, 0x104AEC, 0x17, 0x104AF0, 0x17
		DCD 0x104AF4, 0x17, 0x104AF8, 0x17, 0x104AFC, 0x17, 0x104B04
		DCD 0x17, 0x104B08, 0x17, 0x104BE4, 0x17, 0x104D34, 0x17
		DCD 0x104D38, 0x17, 0x104D3C, 0x17, 0x104D40, 0x17, 0x104D44
		DCD 0x17, 0x104D48, 0x17, 0x105010, 0x17, 0x105014, 0x17
		DCD 0x105018, 0x17, 0x10501C, 0x17, 0x105150, 0x17, 0x105154
		DCD 0x17, 0x105158, 0x17, 0x10515C, 0x17, 0x105160, 0x17
		DCD 0x105164, 0x17, 0x1051E4, 0x17, 0x105390, 0x17, 0x105394
		DCD 0x17, 0x1056BC, 0x17, 0x105840, 0x17, 0x105844, 0x17
		DCD 0x105848, 0x17, 0x105850, 0x17, 0x105854, 0x17, 0x105858
		DCD 0x17, 0x10591C, 0x17, 0x105920, 0x17, 0x105924, 0x17
		DCD 0x105928, 0x17, 0x10592C, 0x17, 0x105930, 0x17, 0x105934
		DCD 0x17, 0x105938, 0x17, 0x105990, 0x17, 0x105994, 0x17
		DCD 0x105998, 0x17, 0x10599C, 0x17, 0x1059A0, 0x17, 0x1059A4
		DCD 0x17, 0x1059A8, 0x17, 0x1059AC, 0x17, 0x1059B0, 0x17
		DCD 0x1059B4, 0x17, 0x1059F0, 0x17, 0x105A40, 0x17, 0x105A7C
		DCD 0x17, 0x105AE0, 0x17, 0x105AE4, 0x17, 0x105AF4, 0x17
		DCD 0x105B64, 0x17, 0x105BC4, 0x17, 0x105C2C, 0x17, 0x105C94
		DCD 0x17, 0x105D94, 0x17, 0x105E64, 0x17, 0x105F34, 0x17
		DCD 0x10605C, 0x17, 0x1061A4, 0x17, 0x1062B4, 0x17, 0x1063CC
		DCD 0x17, 0x106518, 0x17, 0x1065A8, 0x17, 0x10666C, 0x17
		DCD 0x1066D0, 0x17, 0x106710, 0x17, 0x1067FC, 0x17, 0x1068EC
		DCD 0x17, 0x10691C, 0x17, 0x106958, 0x17, 0x10698C, 0x17
		DCD 0x106990, 0x17, 0x106A18, 0x17, 0x106E64, 0x17, 0x106E78
		DCD 0x17, 0x106ED0, 0x17, 0x106FC0, 0x17, 0x106FC4, 0x17
		DCD 0x106FC8, 0x17, 0x106FF4, 0x17, 0x106FF8, 0x17, 0x107018
		DCD 0x17, 0x10701C, 0x17, 0x107044, 0x17, 0x107048, 0x17
		DCD 0x107074, 0x17, 0x107078, 0x17, 0x107098, 0x17, 0x10709C
		DCD 0x17, 0x1070B8, 0x17, 0x1070BC, 0x17, 0x107128, 0x17
		DCD 0x1071EC, 0x17, 0x1071F0, 0x17, 0x10721C, 0x17, 0x1072E4
		DCD 0x17, 0x1072E8, 0x17, 0x1072EC, 0x17, 0x1072F0, 0x17
		DCD 0x1072F4, 0x17, 0x107360, 0x17, 0x107364, 0x17, 0x107368
		DCD 0x17, 0x1073CC, 0x17, 0x1073EC, 0x17, 0x107568, 0x17
		DCD 0x10756C, 0x17, 0x107570, 0x17, 0x107624, 0x17, 0x10762C
		DCD 0x17, 0x107630, 0x17, 0x1076D8, 0x17, 0x10780C, 0x17
		DCD 0x107810, 0x17, 0x107814, 0x17, 0x10784C, 0x17, 0x107850
		DCD 0x17, 0x1078A8, 0x17, 0x107BD0, 0x17, 0x107C0C, 0x17
		DCD 0x107CCC, 0x17, 0x107CD0, 0x17, 0x107CD4, 0x17, 0x107CD8
		DCD 0x17, 0x107D8C, 0x17, 0x107DB4, 0x17, 0x10860C, 0x17
		DCD 0x108620, 0x17, 0x109E0C, 0x17, 0x109E10, 0x17
aUsrLibLd_so_1	DCB "/usr/lib/ld.so.1",0 ; DATA XREF: ntrEntry+1Co
					; ntrEntry+54o	...
		DCB 0, 0, 0
		DCD 0, 0, 0, 0,	0
		DCD ntrBase
		DCD 0
		DCD 0x10003, 0
		DCD dword_1085D4
		DCD 0
		DCD 0x20003, 1,	0x100100, 0
		DCD 0x10010, 0xE, 0x10951C, 0
		DCD 0x50010, 0x19, 0x10B560, 0
		DCD 0xD0010, 0x745F5F00, 0x5F747865, 0x72617473, 0x5F5F0074
		DCD 0x65646F63,	0x646E655F, 0x655F5F00,	0x5F5F646E, 0
		DCD 3, 6, 3, 4,	5, 0, 0, 0, 0, 0, 0
font		DCD 0, 0		; DATA XREF: paint_letter+2Co
					; ROM:off_100374o
		DCD 0x18181818,	0x180018, 0x6C6C6C, 0
		DCD 0x6CFE6C6C,	0x6C6CFE, 0x7CC07E18, 0x18FC06,	0x18CCC600
		DCD 0xC66630, 0x76386C38, 0x76CCDC, 0x603030, 0
		DCD 0x3030180C,	0xC1830, 0xC0C1830, 0x30180C, 0xFF3C6600
		DCD 0x663C, 0x7E181800,	0x1818,	0
		DCD 0x30181800,	0x7E000000, 0, 0
		DCD 0x181800, 0x30180C06, 0x80C060, 0xF6DECE7C,	0x7CC6E6
		DCD 0x18183818,	0x7E1818, 0x7C06C67C, 0xFEC0C0,	0x3C0606FC
		DCD 0xFC0606, 0xCCCCCC0C, 0xC0CFE, 0x6FCC0FE, 0x7CC606
		DCD 0xFCC0C07C,	0x7CC6C6, 0xC0606FE, 0x303018, 0x7CC6C67C
		DCD 0x7CC6C6, 0x7EC6C67C, 0x7C0606, 0x181800, 0x181800
		DCD 0x181800, 0x30181800, 0x6030180C, 0xC1830, 0x7E0000
		DCD 0x7E, 0x60C1830, 0x30180C, 0x180C663C, 0x180018, 0xDEDEC67C
		DCD 0x7EC0DE, 0xC6C66C38, 0xC6C6FE, 0xFCC6C6FC,	0xFCC6C6
		DCD 0xC0C0C67C,	0x7CC6C0, 0xC6C6CCF8, 0xF8CCC6,	0xF8C0C0FE
		DCD 0xFEC0C0, 0xF8C0C0FE, 0xC0C0C0, 0xC0C0C67C,	0x7CC6CE
		DCD 0xFEC6C6C6,	0xC6C6C6, 0x1818187E, 0x7E1818,	0x6060606
		DCD 0x7CC606, 0xF0D8CCC6, 0xC6CCD8, 0xC0C0C0C0,	0xFEC0C0
		DCD 0xFEFEEEC6,	0xC6C6D6, 0xDEF6E6C6, 0xC6C6CE,	0xC6C6C67C
		DCD 0x7CC6C6, 0xFCC6C6FC, 0xC0C0C0, 0xC6C6C67C,	0x67CDED6
		DCD 0xFCC6C6FC,	0xC6CCD8, 0x7CC0C67C, 0x7CC606,	0x181818FF
		DCD 0x181818, 0xC6C6C6C6, 0xFEC6C6, 0xC6C6C6C6,	0x387CC6
		DCD 0xC6C6C6C6,	0x6CFED6, 0x386CC6C6, 0xC6C66C,	0x7CC6C6C6
		DCD 0xE03018, 0x180C06FE, 0xFE6030, 0x3030303C,	0x3C3030
		DCD 0x183060C0,	0x2060C, 0xC0C0C3C, 0x3C0C0C, 0xC66C3810
		DCD 0, 0
		DCD 0xFF000000,	0xC1818, 0
		DCD 0x67C0000, 0x7EC67E, 0xFCC0C0C0, 0xFCC6C6, 0xC67C0000
		DCD 0x7CC6C0, 0x7E060606, 0x7EC6C6, 0xC67C0000,	0x7CC0FE
		DCD 0x7830361C,	0x783030, 0xC67E0000, 0xFC067EC6, 0xC6FCC0C0
		DCD 0xC6C6C6, 0x18380018, 0x3C1818, 0x6060006, 0x7CC60606
		DCD 0xD8CCC0C0,	0xC6CCF8, 0x18181838, 0x3C1818,	0xFECC0000
		DCD 0xD6D6FE, 0xC6FC0000, 0xC6C6C6, 0xC67C0000,	0x7CC6C6
		DCD 0xC6FC0000,	0xC0C0FCC6, 0xC67E0000,	0x6067EC6, 0xC6FC0000
		DCD 0xC0C0C0, 0xC07E0000, 0xFC067C, 0x187E1818,	0xE1818
		DCD 0xC6C60000,	0x7EC6C6, 0xC6C60000, 0x387CC6,	0xC6C60000
		DCD 0x6CFED6, 0x6CC60000, 0xC66C38, 0xC6C60000,	0xFC067EC6
		DCD 0xCFE0000, 0xFE6038, 0x7018180E, 0xE1818, 0x181818
		DCD 0x181818, 0xE181870, 0x701818, 0xDC76, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0

; =============== S U B	R O U T	I N E =======================================


sub_109DE0				; DATA XREF: sub_101EA4+74o
					; ROM:off_101FA4o
		STMFD	SP!, {R0-R12,LR}
		MRS	R0, CPSR
		STMFD	SP!, {R0}
		MOV	R0, SP
		LDR	R1, =0x10AB4D
		LDR	R2, =loc_10AB52
		BLX	R2 ; loc_10AB52
		LDMFD	SP!, {R0}
		MSR	CPSR_cf, R0
		LDMFD	SP!, {R0-R12,LR}
		LDR	PC, =0x700D0700
; End of function sub_109DE0

; ---------------------------------------------------------------------------
dword_109E0C	DCD 0x10AB4D		; DATA XREF: sub_104BE8:loc_104C84o
					; sub_104BE8+C0o ...
off_109E10	DCD loc_10AB52		; DATA XREF: sub_109DE0+14r
off_109E14	DCD 0x700D0700,	0x780B6A7D, 0x8C104D09,	0x686F710A, 0x8421792D
					; DATA XREF: sub_1059B8+10o
					; ROM:off_1059F0o ...
		DCD 0x761B0E11,	0x4778A24, 0x157F0516, 0x7A1F185C, 0x7E735B4A
		DCD 0x3D691772,	0x2E080213, 0x6D230C43,	0x583C3F1C, 0x6C5A1480
		DCD 0x5F061986,	0x4720018B, 0x1E226B7B,	0x3E85031D
		DCB 0x74
aAcU		DCB "ac:u",0            ; DATA XREF: ACU_WaitInternetConnection+Co
					; ROM:servero
aPatchingSmdh	DCB "patching smdh",0xA,0 ; DATA XREF: sub_100BB4+34o
					; ROM:off_100C10o
aFatal_Lr08x	DCB "fatal. LR: %08x",0
aFsuser_opendir	DCB "FSUSER_OpenDirectory failed, ret=%08x",0
aNoFileFound_	DCB "no file found.",0
aSS		DCB "%s%s",0            ; DATA XREF: sub_100F64+160o
					; ROM:off_101118o
aOpenarchiveFai	DCB "openArchive failed, ret=%08x",0
asc_109EDC	DCB "/",0               ; DATA XREF: sub_10111C:loc_101184o
					; ROM:off_1011C4o
aDebug_flag	DCB "/debug.flag",0     ; DATA XREF: sub_101278+B0o
					; ROM:off_1013E0o
aInitCfgMemoryF	DCB "init cfg memory failed",0 ; DATA XREF: sub_101458+50o
					; ROM:off_1014D8o
aNtrMain	DCB "ntr main",0
aFirmVersionNot	DCB "firm version not supported",0 ; DATA XREF: main+7Co
					; ROM:off_101874o
aHomemenuVersio	DCB "homemenu version not supported",0
aFirmwareVersio	DCB "firmware version not supported",0 ; DATA XREF: main:loc_10168Co
					; ROM:off_10187Co
aPid0_dmp	DCB "/pid0.dmp",0
aPid2_dmp	DCB "/pid2.dmp",0
aPid3_dmp	DCB "/pid3.dmp",0
aPidf_dmp	DCB "/pidf.dmp",0
aAxiwram_dmp	DCB "/axiwram.dmp",0
aCurrentFirmwar	DCB "current firmware not supported. ",0xA ; DATA XREF: main+FCo
					; ROM:off_101898o
		DCB "please send feedback to",0xA
		DCB " cell9@yandex.com.",0
aKernelhaxDone	DCB "kernelhax done",0  ; DATA XREF: main+118o ROM:off_1018A0o
aHomemenuVerD	DCB "homemenu ver: %d",0
aSendRemainSize	DCB "send remain < size: %08x, %08x",0 ; DATA XREF: sub_101A9C:loc_101AD8o
					; ROM:off_101AECo
aRecvRemainSize	DCB "recv remain < size: %08x, %08x",0
aOpenfileFailed	DCB "openFile failed: %08x",0 ; DATA XREF: sub_101B44+A4o
					; ROM:off_101C7Co ...
aSavedToSSucces	DCB "saved to %s successfully",0xA,0 ; DATA XREF: sub_101B44+114o
					; ROM:off_101C80o
aBpDAlreadyEnab	DCB "bp %d already enabled",0xA,0 ; DATA XREF: sub_101CC4+2Co
					; ROM:off_101D3Co
aBpDEnabled	DCB "bp %d enabled",0xA,0
aBpDAlreadyDisa	DCB "bp %d already disabled",0xA,0 ; DATA XREF: sub_101D44+2Co
					; ROM:off_101DBCo
aBpDDisabled	DCB "bp %d disabled",0xA,0 ; DATA XREF: sub_101D44:loc_101DA8o
					; ROM:off_101DC0o
aRtcheckremotem	DCB "rtCheckRemoteMemoryRegionSafeForWrite failed :%08x",0xA,0
					; DATA XREF: sub_101EA4+3Co
					; ROM:off_101FA0o
aCodeBreakpoint	DCB "code breakpoint, id: %d, addr: %08x",0xA,0 ; DATA XREF: sub_101FB0+50o
					; ROM:off_102044o
aInitBreakpoint	DCB "init breakpoint failed.",0xA,0
aOpenprocessF_1	DCB "openprocess failed.",0xA,0 ; DATA XREF: sub_10204C+38o
					; ROM:off_102114o
aH08xP08x	DCB "h: %08x, p: %08x",0xA,0
aFreeidD	DCB "freeid: %d",0xA,0
aSetResumeFlag	DCB "set resume flag",0
aInvalidBpid	DCB "invalid bpid",0xA,0
aArm11_bin	DCB "/arm11.bin",0
aFsfile_getsize	DCB "FSFILE_GetSize failed: %08x",0 ; DATA XREF: sub_1021FC+B0o
					; ROM:off_102374o
aSvc_controlmem	DCB "svc_controlMemory failed: %08x",0 ; DATA XREF: sub_1021FC+F0o
					; ROM:off_10237Co ...
aFsfile_readFai	DCB "FSFILE_Read failed: %08x",0
aProtectmemoryF	DCB "protectMemory failed: %08x",0 ; DATA XREF: sub_1021FC+13Co
					; ROM:off_102384o
aGetprocesslist	DCB "getProcessList failed: %08x",0xA,0
aGetprocessinfo	DCB "getProcessInfo failed: %08x",0xA,0 ; DATA XREF: sub_102388+50o
					; ROM:off_102428o
aPid0x08xPname8	DCB "pid: 0x%08x, pname: %8s, tid: %08x%08x, kpobj: %08x",0xA,0
aEndOfProcessLi	DCB "end of process list.",0xA,0 ; DATA XREF: sub_102388+8Co
					; ROM:off_102430o
aOpenprocessF_2	DCB "openProcess failed: %08x",0xA,0 ; DATA XREF: sub_102434+24o
					; ROM:off_1024F8o ...
aValidMemregion	DCB "valid memregions:",0xA,0 ; DATA XREF: sub_102434:loc_102474o
					; ROM:off_1024FCo
a08x08xSize08x	DCB "%08x - %08x , size: %08x",0xA,0
aEndOfMemlayout	DCB "end of memlayout.",0xA,0
aOpenprocessFai	DCB "openProcess failed: %08x, pid: %08x",0xA,0 ; DATA XREF: sub_102508+44o
					; ROM:off_102664o ...
aRtcheckremot_0	DCB "rtCheckRemoteMemoryRegionSafeForWrite failed: %08x",0xA,0
aCopyremotememo	DCB "copyRemoteMemory failed: %08x, addr: %08x",0xA,0
aFinished	DCB "finished",0        ; DATA XREF: sub_102508:loc_10263Co
					; ROM:off_102678o ...
aGetthreadlistF	DCB "getThreadList failed: %08x",0xA,0
aRecommendPc	DCB "recommend pc:",0xA,0
aRecommendLr	DCB "recommend lr:",0xA,0 ; DATA XREF: sub_1027F4:loc_102900o
					; ROM:off_102988o
aTid0x08x	DCB "tid: 0x%08x",0xA,0
aPc08xLr08x	DCB "pc: %08x, lr: %08x",0xA,0 ; DATA XREF: sub_10298C+E0o
					; ROM:off_102AC0o
aBuf08xSize08x	DCB "buf: %08x, size: %08x",0xA,0 ; DATA XREF: sub_102AC4+24o
					; ROM:off_102C70o
aArm11NotLoaded	DCB "arm11 not loaded",0xA,0
aMapremotememor	DCB "mapRemoteMemory failed: %08x",0xA,0
aProtectremotem	DCB "protectRemoteMemory failed: %08x",0xA,0
aCopyremoteme_0	DCB "copyRemoteMemory(1) failed: %08x",0xA,0
aRemotepc08x	DCB "remotePC: %08x",0xA,0
aCopyremoteme_1	DCB "copyRemoteMemory(3) failed: %08x",0xA,0
aCopyremoteme_2	DCB "copyRemoteMemory(2) failed: %08x",0xA,0
aCopyremoteme_3	DCB "copyRemoteMemory(4) failed: %08x",0xA,0
aWillListenAtPo	DCB "will listen at port %d ",0xA,0
aCpsr08x	DCB "cpsr:%08x ",0      ; DATA XREF: sub_102D58+Co
					; ROM:off_102DACo
aLr08xSp08x	DCB "lr:%08x sp:%08x",0xA,0
aRD08x		DCB "r%d:%08x ",0       ; DATA XREF: sub_102D58+30o
					; ROM:off_102DB4o
aBreakpointDHit	DCB "breakpoint %d hit",0xA,0 ; DATA XREF: sub_102DBC+74o
					; ROM:off_102E60o
aHello		DCB "hello",0
aBindFailed08x	DCB "bind failed: %08x",0
aListenFailed08	DCB "listen failed: %08x",0
aRtrecvsocketFa	DCB "rtRecvSocket failed: %08x",0
aBrokenProtocol	DCB "broken protocol: %08x, %08x",0
aRtcheckremot_1	DCB "rtCheckRemoteMemoryRegionSafeForWrite failed: %08x",0
aSoc_initialize	DCB "SOC_Initialize failed: %08x",0 ; DATA XREF: sub_103158+BCo
					; ROM:off_10335Co
aSvc_createthre	DCB "svc_createThread failed: %08x",0 ; DATA XREF: sub_103158+1D4o
					; ROM:off_103368o
aFsUser		DCB "fs:USER",0         ; DATA XREF: sub_103454+8o
					; ROM:off_103480o ...
aNsS		DCB "ns:s",0            ; DATA XREF: sub_1034D0+14o
					; ROM:off_103548o
aOpenNsSFailed0	DCB "open ns:s failed: %08x",0
aNtrMenuXY	DCB "NTR Menu: X+Y",0   ; DATA XREF: sub_103554+8o
					; ROM:off_1035DCo
aNtrMenuLStart	DCB "NTR Menu: L+START",0 ; DATA XREF: sub_103554+10o
					; ROM:off_1035E0o
aScreenshotDisa	DCB "Screenshot: disabled",0 ; DATA XREF: sub_103554+18o
					; ROM:off_1035E4o
aScreenshotSele	DCB "Screenshot: SELECT+START",0
aNtrCfw2_2	DCB "NTR CFW 2.2",0     ; DATA XREF: sub_103554:loc_10357Co
					; ROM:titleo ...
aProcessManager	DCB "Process Manager",0 ; DATA XREF: sub_1035F8+Co
					; ROM:off_103738o
aEnableDebugger	DCB "Enable Debugger",0 ; DATA XREF: sub_1035F8+18o
					; ROM:off_103740o
aCleanMode	DCB "Clean Mode",0      ; DATA XREF: sub_1035F8+24o
					; ROM:off_103744o
aSetHotkey	DCB "Set Hotkey",0
aDebuggerHasAlr	DCB "Debugger has already been enabled.",0 ; DATA XREF: sub_1035F8+C4o
					; ROM:off_103758o
aExpandPoolAddr	DCB "expand pool addr: %08x, size: %08x",0xA,0
aAllocPlgMemory	DCB "alloc plg memory failed: %08x",0xA,0
aFsReg		DCB "fs:REG",0          ; DATA XREF: sub_103860+2Co
					; ROM:off_1038C8o
aFsuser_initial	DCB "FSUSER_Initialize failed: %08x",0xA,0
aFsuserhandle08	DCB "fsUserHandle: %08x",0xA,0
aOpenMenuProces	DCB "open menu process failed: %08x",0xA,0
aHmenuprocess08	DCB "hMenuProcess:%08x",0xA,0
aLoadPlginfoFai	DCB "load plginfo failed:%08x",0xA,0 ; DATA XREF: sub_1038D4+84o
					; ROM:off_103B44o
aProctid08x08x	DCB "procTid: %08x%08x",0xA,0 ; DATA XREF: sub_1038D4+9Co
					; ROM:off_103B48o
aTidMismatch	DCB "tid mismatch",0xA,0
aAllocPluginMem	DCB "alloc plugin memory failed: %08x",0xA,0
aRwxFailed08x	DCB "rwx failed: %08x",0xA,0
aCopyPlginfoFai	DCB "copy plginfo failed: %08x",0xA,0
aLoadPlgFailed0	DCB "load plg failed: %08x",0xA,0 ; DATA XREF: sub_1038D4+214o
					; ROM:off_103B60o
aAttachProcessF	DCB "attach process failed: %08x",0xA,0
aRunappletTid00	DCB "runApplet tid0: %08x, tid1: %08x",0xA,0 ; DATA XREF: ROM:00103BBCo
					; ROM:off_103BECo
aPluginS	DCB "/plugin/%s",0      ; DATA XREF: sub_103D80+10o
					; ROM:off_103E78o
aSS_0		DCB "%s/%s",0
aLoadingPluginS	DCB "loading plugin: %s, size: %08x, addr: %08x",0xA,0
aAllocPluginM_0	DCB "alloc plugin memory failed",0xA,0
aRtloadfiletobu	DCB "rtLoadFileToBuffer failed",0xA,0
aStartingApplet	DCB "starting applet: %08x%08x",0xA,0 ; DATA XREF: sub_103E94+1Co
					; ROM:off_103F14o
aGame		DCB "game",0
a08x08x		DCB "%08x%08x",0        ; DATA XREF: sub_103E94+3Co
					; ROM:off_103F1Co
aPlg08x		DCB "plg: %08x",0xA,0
aFsuser_openarc	DCB "FSUSER_OpenArchive failed: %08x",0xA,0 ; DATA XREF: sub_104044+58o
					; ROM:off_1041A4o
aNtr_bin	DCB "/ntr.bin",0        ; DATA XREF: sub_104044+7Co
					; sub_104044:loc_1040F8o ...
aArm11BinSize08	DCB "arm11 bin size: %08x",0xA,0 ; DATA XREF: sub_104044+90o
					; ROM:off_1041B4o
aAllocMemoryFor	DCB "alloc memory for arm11bin failed",0xA,0 ; DATA XREF: sub_104044+ACo
					; ROM:off_1041B8o
aLoadArm11binFa	DCB "load arm11bin failed",0xA,0 ; DATA XREF: sub_104044+D0o
					; ROM:off_1041BCo
aHome		DCB "home",0            ; DATA XREF: sub_104044+110o
					; ROM:off_1041C4o
aOpenprocessF_3	DCB "openProcess failed, ret: %08x",0
aOutaddr08xAddr	DCB "outAddr: %08x, addr: %08x",0 ; DATA XREF: sub_104638:loc_1046ECo
					; ROM:off_1047DCo ...
aSvc_flushpro_0	DCB "svc_flushProcessDataCache(hSrc) failed.",0xA,0
aSvc_flushproce	DCB "svc_flushProcessDataCache(hDst) failed.",0xA,0
					; DATA XREF: sub_1043C0+6Co
					; ROM:off_104508o
aReadremotememo	DCB "readRemoteMemory time out %08x",0
aOpenprocessF_0	DCB "openProcess failed: %08x",0 ; DATA XREF: sub_104638+9Co
					; ROM:off_1047D8o
aDumpFinishedAt	DCB "dump finished at addr: %08x",0
aReadremoteme_0	DCB "readRemoteMemory failed: %08x",0
aHfile08x	DCB "hfile: %08x",0
aDebugactivepro	DCB "debugActiveProcess failed: %08x",0
aHdebug08x	DCB "hdebug: %08x",0
aReadmemoryAddr	DCB "readmemory addr = %08x, ret = %08x",0 ; DATA XREF: sub_1047F0+130o
					; ROM:off_1049A4o
aDumpcode	DCB "dumpcode",0
aTestpath	DCB "testpath",0        ; DATA XREF: sub_1049A8+4Co
					; ROM:off_104AF0o
aOpenfile	DCB "openfile",0
aOpenFileFailed	DCB "open file failed",0 ; DATA XREF: sub_1049A8+B0o
					; ROM:off_104B04o
aPatchSmFailed0	DCB "patch sm failed: %08x",0
aGetprocessli_0	DCB "getProcessList failed: %08x",0
aProcesslist	DCB "processList",0     ; DATA XREF: sub_104BE8:loc_104C88o
					; ROM:off_104D40o
aDump_pid08x	DCB "/dump_pid%08x",0
aPnameS		DCB "pname: %s",0
		DCB 0x64, 0x75,	0x6D
		CODE16

; =============== S U B	R O U T	I N E =======================================


sub_10AB50				; CODE XREF: sub_109DE0+18p
		LSLS	R0, R6,	#1

loc_10AB52				; DATA XREF: sub_109DE0+14o
					; ROM:off_109E10o
		LDR	R1, [R5,#0x64]
		LDR	R6, [R4,#0x74]
		LDR	R0, [R0,#0x70]
		STR	R0, [R6,#0x54]
		MOV	R6, SP
		LDR	R1, [R5,#0x44]
		MOVS	R0, #0x65
		STR	R6, [R4,#0x14]
		LDR	R1, [R5,#0x44]
		STR	R5, [R4,#0x44]
		MOVS	R0, #0x5F
		LDRB	R0, [R7]
		MOVS	R2, R1
		STRH	R6, [R0,R5]
		LDR	R1, aPressBToClose_+0x10
		CMP	R4, R9
		BX	R11
; End of function sub_10AB50

; ---------------------------------------------------------------------------
aEtsizeFailed08x DCB "etSize failed: %08x",0xA,0
aRtloadfileto_0	DCB "rtLoadFileToBuffer: buffer too small",0xA,0
aFsfile_readF_0	DCB "FSFILE_Read failed: %08x",0xA,0
aOpenthreadFail	DCB "openThread failed: %08x",0xA,0
aTop_04d_bmp	DCB "/top_%04d.bmp",0   ; DATA XREF: sub_105674+10o
					; ROM:off_1056BCo ...
aOut_addr08x	DCB "    out_addr: %08x",0 ; DATA XREF: sub_1056C0+28o
					; ROM:off_105844o
aBot_04d_bmp	DCB "/bot_%04d.bmp",0
aInitializingSc	DCB "initializing screenshot plugin",0xA,0
aTakeScreenshot	DCB "Take Screenshot",0
aBmpIndexIsD	DCB "bmp index is: %d",0
aSocU		DCB "soc:U",0           ; DATA XREF: sub_105A80+3Co
					; ROM:off_105AE4o
aSrv		DCB "srv:",0            ; DATA XREF: initSrv+8o ROM:portNameo
		DCB " * ",0
		DCB "   ",0
aHttp44670_orgN	DCB "http://44670.org/ntr",0 ; DATA XREF: showMenu+6Co ROM:so
aPressBToClose_	DCB "Press [B] to close.",0 ; DATA XREF: sub_107574+88o
					; ROM:off_107630o
aDbg		DCB "/dbg",0            ; DATA XREF: sub_107748+20o
					; ROM:off_10780Co
a08lx		DCB "%08lX ",0          ; DATA XREF: sub_107C10+Co
					; ROM:off_107CCCo
a02x		DCB " %02X",0           ; DATA XREF: sub_107C10+40o
					; ROM:off_107CD0o
a04x		DCB " %04X",0           ; DATA XREF: sub_107C10:loc_107C94o
					; ROM:off_107CD4o
a08lx_0		DCB " %08LX",0          ; DATA XREF: sub_107C10:loc_107CACo
					; ROM:off_107CD8o
		DCB 0
		DCD 0x10, 0, 0x527A01, 0x10E7C02, 0xD0C1B, 0x2C, 0x18
		DCD 0xFFFFD47C,	0x224, 0x40E6200
		DCD 0xC4660184
		DCD 0xE56000E
		DCD 0x85028408
		DCD 0xA9C0201, 0xEC5C442, 0x520B4200, 0xEC5C4
IoBasePad	DCD 0			; DATA XREF: c_entryo c_entry+Cr ...
dword_10ACF8	DCD 0			; DATA XREF: sub_100CA8+14w
					; sub_100CA8+54w ...
fsUserHandle	DCD 0			; DATA XREF: sub_100F64+80r
					; sub_10111C+38r ...
dword_10AD00	DCD 0			; DATA XREF: sub_103554:loc_1035CCo
					; ROM:off_1035F4o
dword_10AD04	DCD 0			; DATA XREF: main+18w
off_10AD08	DCD 0			; DATA XREF: main+30w sub_107200+4o ...
dword_10AD0C	DCD 0			; DATA XREF: main+1C4w
					; main:loc_1017C4w
		DCD 0, 0
dword_10AD18	DCD 0			; DATA XREF: sub_100C28+28o
					; sub_100C28+38w ...
dword_10AD1C	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
					; DATA XREF: sub_101278+28o
					; sub_101278+34o ...
		DCD 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0
dword_10ADE8	DCD 0			; DATA XREF: sub_100CA8:loc_100D68o
					; sub_100CA8+C4w ...
dword_10ADEC	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
					; DATA XREF: sub_101278+Co
					; sub_101278+18o ...
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0
		CODE32
dword_10AE78	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0
					; CODE XREF: sub_100BB4+14p
					; DATA XREF: sub_100BB4+Co ...
dword_10AEB8	DCD 0			; DATA XREF: sub_100CA8+70o
					; sub_100CA8+78w ...
dword_10AEBC	DCD 0			; DATA XREF: sub_100CA8:loc_100E0Co
					; sub_100CA8+168w ...
dword_10AEC0	DCD 0			; DATA XREF: sub_100CA8+64o
					; sub_100CA8+6Cw ...
dword_10AEC4	DCD 0			; DATA XREF: sub_100CA8+58o
					; sub_100CA8+60w ...
dword_10AEC8	DCD 0			; DATA XREF: sub_101A74o sub_101A74+4r ...
		DCD 0, 0
dword_10AED4	DCD 0			; DATA XREF: sub_100F20o sub_100F20+8r ...
dword_10AED8	DCD 0			; DATA XREF: sub_1033D0:loc_1033E4o
					; sub_1033D0+20r ...
dword_10AEDC	DCD 0			; DATA XREF: sub_1035F8+3Cr
					; sub_10375C+8r ...
dword_10AEE0	DCD 0			; DATA XREF: sub_1037A4+8r
					; sub_1037A4+18w ...
dword_10AEE4	DCD 0			; DATA XREF: sub_1038D4+14r
					; sub_1038D4+34w
dword_10AEE8	DCD 0			; DATA XREF: sub_1014DC+1Co
					; sub_1014DC+28w ...
dword_10AEEC	DCD 0			; DATA XREF: sub_1014DC+30o
					; sub_1014DC+34w ...
dword_10AEF0	DCD 0			; DATA XREF: ROM:00103BACw
dword_10AEF4	DCD 0			; DATA XREF: ROM:00103BB8w
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0
dword_10AF84	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0
					; CODE XREF: ROM:00103BE4j
					; DATA XREF: ROM:00103BDCo ...
dword_10AFC4	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
					; DATA XREF: sub_1035F8+10o
					; sub_1035F8+114o ...
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0
byte_10B398	DCB 0			; DATA XREF: sub_104044+30w
		DCB 0, 0, 0
dword_10B39C	DCD 0			; DATA XREF: sub_103C28+4Co
					; sub_104044+34w
dword_10B3A0	DCD 0			; DATA XREF: sub_104044+40w
		DCD 0, 0
dword_10B3AC	DCD 0			; DATA XREF: sub_103D34o sub_103D34+8r ...
dword_10B3B0	DCD 0			; DATA XREF: sub_103D34+18o
					; sub_103D34+1Cw ...
dword_10B3B4	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
					; DATA XREF: sub_104044+130o
					; sub_104044+140o ...
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0
dword_10B440	DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0
					; CODE XREF: sub_103E94+74p
					; DATA XREF: sub_103E94+70o ...
dword_10B480	DCD 0			; DATA XREF: getCurrentProcessId+4o
					; getCurrentProcessId+14r ...
dword_10B484	DCD 0			; DATA XREF: getCurrentProcessHandle+10r
					; getCurrentProcessHandle+3Cw
dword_10B488	DCD 0			; DATA XREF: sub_1056C0+8o
					; sub_1056C0+Cr ...
dword_10B48C	DCD 0			; DATA XREF: sub_1056C0+B4o
					; sub_1056C0+D8r ...
dword_10B490	DCD 0			; DATA XREF: sub_103158+9Co
					; sub_103158+A0w ...
dword_10B494	DCD 0			; DATA XREF: sub_105AE8+4r
					; sub_105D9C+50w ...
srvHandle	DCD 0			; DATA XREF: sub_103158:loc_1031D4o
					; sub_103158+80r ...
dword_10B49C	DCD 0			; DATA XREF: sub_106ED4+4o
					; sub_106ED4+8r ...
dword_10B4A0	DCD 0			; DATA XREF: sub_106ED4+18r
					; sub_106ED4+48r ...
dword_10B4A4	DCD 0			; DATA XREF: sub_106ED4+1Cr
					; ROM:00106FECr
dword_10B4A8	DCD 0			; DATA XREF: sub_106ED4+14r
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0, 0, 0, 0, 0
		DCD 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0
dword_10B51C	DCD 0			; DATA XREF: sub_101278+DCo
					; sub_101278+F4r ...
dword_10B520	DCD 0			; DATA XREF: sub_107220+8r
					; sub_107300+4r ...
		DCD 0, 0
dword_10B52C	DCD 0			; DATA XREF: sub_107220+34o
					; sub_107220+40w ...
dword_10B530	DCD 0			; DATA XREF: sub_107220+48w
					; sub_107300+30r
dword_10B534	DCD 0			; DATA XREF: sub_107220+50w
					; sub_107300+3Cr
dword_10B538	DCD 0			; DATA XREF: sub_107220+58w
					; sub_107300+48r
dword_10B53C	DCD 0			; DATA XREF: sub_107220+60w
					; sub_107300+54r
		DCD 0, 0, 0, 0,	0
dword_10B554	DCD 0			; DATA XREF: sub_107818o sub_107818+8r ...
off_10B558	DCD 0			; DATA XREF: sub_107CDCo sub_107CDC+4r ...
off_10B55C	DCD 0			; DATA XREF: sub_103100+8o
					; sub_103100+14w ...
; ROM		ends

		END
